"use strict";(self.webpackChunkportafolio_oscargx=self.webpackChunkportafolio_oscargx||[]).push([[179],{2313:(an,et,q)=>{q.d(et,{nm:()=>or});var P=q(902),ve=(q(6738),q(3692),q(259),q(9671)),Re=q(6881),De=q(4859),Le=q(2090),we=q(1877);const K=new Map,Q={activated:!1,tokenObservers:[]},be={initialized:!1,enabled:!1};function Ae(Ie){return K.get(Ie)||Object.assign({},Q)}function kt(){return be}class Jn{constructor(me,Se,We,it,qt){if(this.operation=me,this.retryPolicy=Se,this.getWaitDuration=We,this.lowerBound=it,this.upperBound=qt,this.pending=null,this.nextErrorWaitInterval=it,it>qt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(me){var Se=this;return(0,ve.Z)(function*(){Se.stop();try{Se.pending=new Le.BH,yield function wt(Ie){return new Promise(me=>{setTimeout(me,Ie)})}(Se.getNextRun(me)),Se.pending.resolve(),yield Se.pending.promise,Se.pending=new Le.BH,yield Se.operation(),Se.pending.resolve(),yield Se.pending.promise,Se.process(!0).catch(()=>{})}catch(We){Se.retryPolicy(We)?Se.process(!1).catch(()=>{}):Se.stop()}})()}getNextRun(me){if(me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Se=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Se}}}const ut=new Le.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Mt(Ie){if(!Ae(Ie).activated)throw ut.create("use-before-activation",{appName:Ie.name})}function pt(Ie,me){return lt.apply(this,arguments)}function lt(){return(lt=(0,ve.Z)(function*({url:Ie,body:me},Se){const We={"Content-Type":"application/json"},it=Se.getImmediate({optional:!0});if(it){const Ti=yield it.getHeartbeatsHeader();Ti&&(We["X-Firebase-Client"]=Ti)}const qt={method:"POST",body:JSON.stringify(me),headers:We};let gn,Kt;try{gn=yield fetch(Ie,qt)}catch(Ti){throw ut.create("fetch-network-error",{originalErrorMessage:Ti?.message})}if(200!==gn.status)throw ut.create("fetch-status-error",{httpStatus:gn.status});try{Kt=yield gn.json()}catch(Ti){throw ut.create("fetch-parse-error",{originalErrorMessage:Ti?.message})}const cn=Kt.ttl.match(/^([\d.]+)(s)$/);if(!cn||!cn[2]||isNaN(Number(cn[1])))throw ut.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Kt.ttl}`});const zr=1e3*Number(cn[1]),_i=Date.now();return{token:Kt.token,expireTimeMillis:_i+zr,issuedAtTimeMillis:_i}})).apply(this,arguments)}function _r(Ie,me){const{projectId:Se,appId:We,apiKey:it}=Ie.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Se}/apps/${We}:exchangeDebugToken?key=${it}`,body:{debug_token:me}}}const ri="firebase-app-check-store";let hr=null;function Lr(){return hr||(hr=new Promise((Ie,me)=>{try{const Se=indexedDB.open("firebase-app-check-database",1);Se.onsuccess=We=>{Ie(We.target.result)},Se.onerror=We=>{var it;me(ut.create("storage-open",{originalErrorMessage:null===(it=We.target.error)||void 0===it?void 0:it.message}))},Se.onupgradeneeded=We=>{0===We.oldVersion&&We.target.result.createObjectStore(ri,{keyPath:"compositeKey"})}}catch(Se){me(ut.create("storage-open",{originalErrorMessage:Se?.message}))}}),hr)}function On(){return(On=(0,ve.Z)(function*(Ie,me){const We=(yield Lr()).transaction(ri,"readwrite"),qt=We.objectStore(ri).put({compositeKey:Ie,value:me});return new Promise((gn,Kt)=>{qt.onsuccess=cn=>{gn()},We.onerror=cn=>{var zr;Kt(ut.create("storage-set",{originalErrorMessage:null===(zr=cn.target.error)||void 0===zr?void 0:zr.message}))}})})).apply(this,arguments)}const pr=new we.Yd("@firebase/app-check");function ii(Ie,me){return(0,Le.hl)()?function Fr(Ie,me){return function yn(Ie,me){return On.apply(this,arguments)}(function Wn(Ie){return`${Ie.options.appId}-${Ie.name}`}(Ie),me)}(Ie,me).catch(Se=>{pr.warn(`Failed to write token to IndexedDB. Error: ${Se}`)}):Promise.resolve()}function mi(){return kt().enabled}function Ji(){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,ve.Z)(function*(){const Ie=kt();if(Ie.enabled&&Ie.token)return Ie.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Or={error:"UNKNOWN_ERROR"};function Ke(Ie){return Le.US.encodeString(JSON.stringify(Ie),!1)}function Y(Ie){return ee.apply(this,arguments)}function ee(){return(ee=(0,ve.Z)(function*(Ie,me=!1){const Se=Ie.app;Mt(Se);const We=Ae(Se);let qt,it=We.token;if(it&&!pn(it)&&(We.token=void 0,it=void 0),!it){const cn=yield We.cachedTokenPromise;cn&&(pn(cn)?it=cn:yield ii(Se,void 0))}if(!me&&it&&pn(it))return{token:it.token};let Kt,gn=!1;if(mi()){We.exchangeTokenPromise||(We.exchangeTokenPromise=pt(_r(Se,yield Ji()),Ie.heartbeatServiceProvider).finally(()=>{We.exchangeTokenPromise=void 0}),gn=!0);const cn=yield We.exchangeTokenPromise;return yield ii(Se,cn),We.token=cn,{token:cn.token}}try{We.exchangeTokenPromise||(We.exchangeTokenPromise=We.provider.getToken().finally(()=>{We.exchangeTokenPromise=void 0}),gn=!0),it=yield Ae(Se).exchangeTokenPromise}catch(cn){"appCheck/throttled"===cn.code?pr.warn(cn.message):pr.error(cn),qt=cn}return it?qt?Kt=pn(it)?{token:it.token,internalError:qt}:sr(qt):(Kt={token:it.token},We.token=it,yield ii(Se,it)):Kt=sr(qt),gn&&Mn(Se,Kt),Kt})).apply(this,arguments)}function je(){return(je=(0,ve.Z)(function*(Ie){const me=Ie.app;Mt(me);const{provider:Se}=Ae(me);if(mi()){const We=yield Ji(),{token:it}=yield pt(_r(me,We),Ie.heartbeatServiceProvider);return{token:it}}{const{token:We}=yield Se.getToken();return{token:We}}})).apply(this,arguments)}function Wt(Ie,me){const Se=Ae(Ie),We=Se.tokenObservers.filter(it=>it.next!==me);0===We.length&&Se.tokenRefresher&&Se.tokenRefresher.isRunning()&&Se.tokenRefresher.stop(),Se.tokenObservers=We}function gt(Ie){const{app:me}=Ie,Se=Ae(me);let We=Se.tokenRefresher;We||(We=function Dt(Ie){const{app:me}=Ie;return new Jn((0,ve.Z)(function*(){let We;if(We=Ae(me).token?yield Y(Ie,!0):yield Y(Ie),We.error)throw We.error;if(We.internalError)throw We.internalError}),()=>!0,()=>{const Se=Ae(me);if(Se.token){let We=Se.token.issuedAtTimeMillis+.5*(Se.token.expireTimeMillis-Se.token.issuedAtTimeMillis)+3e5;return We=Math.min(We,Se.token.expireTimeMillis-3e5),Math.max(0,We-Date.now())}return 0},3e4,96e4)}(Ie),Se.tokenRefresher=We),!We.isRunning()&&Se.isTokenAutoRefreshEnabled&&We.start()}function Mn(Ie,me){const Se=Ae(Ie).tokenObservers;for(const We of Se)try{"EXTERNAL"===We.type&&null!=me.error?We.error(me.error):We.next(me)}catch{}}function pn(Ie){return Ie.expireTimeMillis-Date.now()>0}function sr(Ie){return{token:Ke(Or),error:Ie}}class Ot{constructor(me,Se){this.app=me,this.heartbeatServiceProvider=Se}_delete(){const{tokenObservers:me}=Ae(this.app);for(const Se of me)Wt(this.app,Se.next);return Promise.resolve()}}const dt="app-check-internal";!function Ft(){(0,Re.Xd)(new De.wA("app-check",Ie=>function ln(Ie,me){return new Ot(Ie,me)}(Ie.getProvider("app").getImmediate(),Ie.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ie,me,Se)=>{Ie.getProvider(dt).initialize()})),(0,Re.Xd)(new De.wA(dt,Ie=>function _n(Ie){return{getToken:me=>Y(Ie,me),getLimitedUseToken:()=>function de(Ie){return je.apply(this,arguments)}(Ie),addTokenListener:me=>function It(Ie,me,Se,We){const{app:it}=Ie,qt=Ae(it);if(qt.tokenObservers=[...qt.tokenObservers,{next:Se,error:We,type:me}],qt.token&&pn(qt.token)){const Kt=qt.token;Promise.resolve().then(()=>{Se({token:Kt.token}),gt(Ie)}).catch(()=>{})}qt.cachedTokenPromise.then(()=>gt(Ie))}(Ie,"INTERNAL",me),removeTokenListener:me=>Wt(Ie.app,me)}}(Ie.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Re.KN)("@firebase/app-check","0.8.0")}();class or{constructor(){return(0,P.vb)("app-check")}}typeof window<"u"&&window},3692:(an,et,q)=>{q.d(et,{Ot:()=>Ue,ZF:()=>nt,hX:()=>Ae,z6:()=>ve});var P=q(259),z=q(6738),ce=q(902);class Ue{constructor(Jn){return Jn}}class ve{constructor(){return(0,P.C6)()}}const Le=new z.OlP("angularfire2._apps"),we={provide:Ue,useFactory:function De(nn){return nn&&1===nn.length?nn[0]:new Ue((0,P.Mq)())},deps:[[new z.FiY,Le]]},K={provide:ve,deps:[[new z.FiY,Le]]};function Q(nn){return(Jn,wt)=>{const ot=Jn.runOutsideAngular(()=>nn(wt));return new Ue(ot)}}let be=(()=>{class nn{constructor(wt){(0,P.KN)("angularfire",ce.q4.full,"core"),(0,P.KN)("angularfire",ce.q4.full,"app"),(0,P.KN)("angular",z.q4F.full,wt.toString())}}return nn.\u0275fac=function(wt){return new(wt||nn)(z.LFG(z.Lbi))},nn.\u0275mod=z.oAB({type:nn}),nn.\u0275inj=z.cJS({providers:[we,K]}),nn})();function Ae(nn,...Jn){return{ngModule:be,providers:[{provide:Le,useFactory:Q(nn),multi:!0,deps:[z.R0b,z.zs3,ce.HU,...Jn]}]}}const nt=(0,ce.u3)(P.ZF,!0)},8522:(an,et,q)=>{q.d(et,{dh:()=>yu});var P=q(902),ve=(q(6738),q(3692),q(259),q(9671)),Re=q(2090),De=q(6881);function Q(y,d){var p={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&d.indexOf(E)<0&&(p[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(E=Object.getOwnPropertySymbols(y);L<E.length;L++)d.indexOf(E[L])<0&&Object.prototype.propertyIsEnumerable.call(y,E[L])&&(p[E[L]]=y[E[L]])}return p}"function"==typeof SuppressedError&&SuppressedError;var fr=q(1877),Vn=q(4859);const ii=function Zr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ar=new Re.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mi=new fr.Yd("@firebase/auth");function Ur(y,...d){mi.logLevel<=fr.in.ERROR&&mi.error(`Auth (${De.Jn}): ${y}`,...d)}function Xn(y,...d){throw ee(y,...d)}function Or(y,...d){return ee(y,...d)}function Ke(y,d,p){const E=Object.assign(Object.assign({},ii()),{[d]:p});return new Re.LL("auth","Firebase",E).create(d,{appName:y.name})}function ee(y,...d){if("string"!=typeof y){const p=d[0],E=[...d.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(p,...E)}return Ar.create(y,...d)}function de(y,d,...p){if(!y)throw ee(d,...p)}function je(y){const d="INTERNAL ASSERTION FAILED: "+y;throw Ur(d),new Error(d)}function It(y,d){y||je(d)}function Dt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class sr{constructor(d,p){this.shortDelay=d,this.longDelay=p,It(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,Re.uI)()||(0,Re.b$)()}get(){return function Mn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function gt(){return"http:"===Dt()||"https:"===Dt()}()||(0,Re.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ln{static initialize(d,p,E){this.fetchImpl=d,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _n={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xr=new sr(3e4,6e4);function At(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function Xt(y,d,p,E){return kn.apply(this,arguments)}function kn(){return(kn=(0,ve.Z)(function*(y,d,p,E,L={}){return Sn(y,L,(0,ve.Z)(function*(){let V={},he={};E&&("GET"===d?he=E:V={body:JSON.stringify(E)});const ke=(0,Re.xO)(Object.assign({key:y.config.apiKey},he)).slice(1),ct=yield y._getAdditionalHeaders();return ct["Content-Type"]="application/json",y.languageCode&&(ct["X-Firebase-Locale"]=y.languageCode),ln.fetch()(ie(y,y.config.apiHost,p,ke),Object.assign({method:d,headers:ct,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function Sn(y,d,p){return en.apply(this,arguments)}function en(){return(en=(0,ve.Z)(function*(y,d,p){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},_n),d);try{const L=new _e(y),V=yield Promise.race([p(),L.promise]);L.clearNetworkTimeout();const he=yield V.json();if("needConfirmation"in he)throw Ze(y,"account-exists-with-different-credential",he);if(V.ok&&!("errorMessage"in he))return he;{const ke=V.ok?he.errorMessage:he.error.message,[ct,ze]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw Ze(y,"credential-already-in-use",he);if("EMAIL_EXISTS"===ct)throw Ze(y,"email-already-in-use",he);if("USER_DISABLED"===ct)throw Ze(y,"user-disabled",he);const Tt=E[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw Ke(y,Tt,ze);Xn(y,Tt)}}catch(L){if(L instanceof Re.ZR)throw L;Xn(y,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function ie(y,d,p,E){const L=`${d}${p}?${E}`;return y.config.emulator?function Ot(y,d){It(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}(y.config,L):`${y.config.apiScheme}://${L}`}class _e{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(Or(this.auth,"network-request-failed")),xr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ze(y,d,p){const E={appName:y.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const L=Or(y,d,E);return L.customData._tokenResponse=p,L}function Rt(){return(Rt=(0,ve.Z)(function*(y,d){return Xt(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function er(y,d){return ye.apply(this,arguments)}function ye(){return(ye=(0,ve.Z)(function*(y,d){return Xt(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function re(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function $e(){return($e=(0,ve.Z)(function*(y,d=!1){const p=(0,Re.m9)(y),E=yield p.getIdToken(d),L=$t(E);de(L&&L.exp&&L.auth_time&&L.iat,p.auth,"internal-error");const V="object"==typeof L.firebase?L.firebase:void 0,he=V?.sign_in_provider;return{claims:L,token:E,authTime:re(Lt(L.auth_time)),issuedAtTime:re(Lt(L.iat)),expirationTime:re(Lt(L.exp)),signInProvider:he||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function Lt(y){return 1e3*Number(y)}function $t(y){const[d,p,E]=y.split(".");if(void 0===d||void 0===p||void 0===E)return Ur("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,Re.tV)(p);return L?JSON.parse(L):(Ur("Failed to decode base64 JWT payload"),null)}catch(L){return Ur("Caught error parsing JWT payload as JSON",L?.toString()),null}}function ne(y,d){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,ve.Z)(function*(y,d,p=!1){if(p)return d;try{return yield d}catch(E){throw E instanceof Re.ZR&&dt(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function dt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ft{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const L=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(d);this.timerId=setTimeout((0,ve.Z)(function*(){yield p.iteration()}),E)}iteration(){var d=this;return(0,ve.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class sn{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=re(this.lastLoginAt),this.creationTime=re(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yt(y){return or.apply(this,arguments)}function or(){return(or=(0,ve.Z)(function*(y){var d;const p=y.auth,E=yield y.getIdToken(),L=yield ne(y,er(p,{idToken:E}));de(L?.users.length,p,"internal-error");const V=L.users[0];y._notifyReloadListener(V);const he=null!==(d=V.providerUserInfo)&&void 0!==d&&d.length?un(V.providerUserInfo):[],ke=Hi(y.providerData,he),Tt=!!y.isAnonymous&&!(y.email&&V.passwordHash||ke?.length),hn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:ke,metadata:new sn(V.createdAt,V.lastLoginAt),isAnonymous:Tt};Object.assign(y,hn)})).apply(this,arguments)}function gr(){return(gr=(0,ve.Z)(function*(y){const d=(0,Re.m9)(y);yield Yt(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Hi(y,d){return[...y.filter(E=>!d.some(L=>L.providerId===E.providerId)),...d]}function un(y){return y.map(d=>{var{providerId:p}=d,E=Q(d,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Gi(){return(Gi=(0,ve.Z)(function*(y,d){const p=yield Sn(y,{},(0,ve.Z)(function*(){const E=(0,Re.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:L,apiKey:V}=y.config,he=ie(y,L,"/v1/token",`key=${V}`),ke=yield y._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(he,{method:"POST",headers:ke,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){de(d.idToken,"internal-error"),de(typeof d.idToken<"u","internal-error"),de(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function xe(y){const d=$t(y);return de(d,"internal-error"),de(typeof d.exp<"u","internal-error"),de(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var E=this;return(0,ve.Z)(function*(){return de(!E.accessToken||E.refreshToken,d,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(d,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var E=this;return(0,ve.Z)(function*(){const{accessToken:L,refreshToken:V,expiresIn:he}=yield function Xi(y,d){return Gi.apply(this,arguments)}(d,p);E.updateTokensAndExpiration(L,V,Number(he))})()}updateTokensAndExpiration(d,p,E){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(d,p){const{refreshToken:E,accessToken:L,expirationTime:V}=p,he=new Ii;return E&&(de("string"==typeof E,"internal-error",{appName:d}),he.refreshToken=E),L&&(de("string"==typeof L,"internal-error",{appName:d}),he.accessToken=L),V&&(de("number"==typeof V,"internal-error",{appName:d}),he.expirationTime=V),he}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Ii,this.toJSON())}_performRefresh(){return je("not implemented")}}function si(y,d){de("string"==typeof y||typeof y>"u","internal-error",{appName:d})}class cr{constructor(d){var{uid:p,auth:E,stsTokenManager:L}=d,V=Q(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ft(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new sn(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,ve.Z)(function*(){const E=yield ne(p,p.stsTokenManager.getToken(p.auth,d));return de(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(d){return function pe(y){return $e.apply(this,arguments)}(this,d)}reload(){return function fn(y){return gr.apply(this,arguments)}(this)}_assign(d){this!==d&&(de(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new cr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var E=this;return(0,ve.Z)(function*(){let L=!1;d.idToken&&d.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(d),L=!0),p&&(yield Yt(E)),yield E.auth._persistUserIfCurrent(E),L&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var d=this;return(0,ve.Z)(function*(){const p=yield d.getIdToken();return yield ne(d,function Me(y,d){return Rt.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var E,L,V,he,ke,ct,ze,Tt;const hn=null!==(E=p.displayName)&&void 0!==E?E:void 0,Qi=null!==(L=p.email)&&void 0!==L?L:void 0,yr=null!==(V=p.phoneNumber)&&void 0!==V?V:void 0,ls=null!==(he=p.photoURL)&&void 0!==he?he:void 0,uo=null!==(ke=p.tenantId)&&void 0!==ke?ke:void 0,Oo=null!==(ct=p._redirectEventId)&&void 0!==ct?ct:void 0,Ta=null!==(ze=p.createdAt)&&void 0!==ze?ze:void 0,Zh=null!==(Tt=p.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:Qh,emailVerified:Ep,isAnonymous:Lo,providerData:Ja,stsTokenManager:Xl}=p;de(Qh&&Xl,d,"internal-error");const Jh=Ii.fromJSON(this.name,Xl);de("string"==typeof Qh,d,"internal-error"),si(hn,d.name),si(Qi,d.name),de("boolean"==typeof Ep,d,"internal-error"),de("boolean"==typeof Lo,d,"internal-error"),si(yr,d.name),si(ls,d.name),si(uo,d.name),si(Oo,d.name),si(Ta,d.name),si(Zh,d.name);const dl=new cr({uid:Qh,auth:d,email:Qi,emailVerified:Ep,displayName:hn,isAnonymous:Lo,photoURL:ls,phoneNumber:yr,tenantId:uo,stsTokenManager:Jh,createdAt:Ta,lastLoginAt:Zh});return Ja&&Array.isArray(Ja)&&(dl.providerData=Ja.map(vu=>Object.assign({},vu))),Oo&&(dl._redirectEventId=Oo),dl}static _fromIdTokenResponse(d,p,E=!1){return(0,ve.Z)(function*(){const L=new Ii;L.updateFromServerResponse(p);const V=new cr({uid:p.localId,auth:d,stsTokenManager:L,isAnonymous:E});return yield Yt(V),V})()}}const fs=new Map;function En(y){It(y instanceof Function,"Expected a class definition");let d=fs.get(y);return d?(It(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,fs.set(y,d),d)}const yi=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ve.Z)(function*(){return!0})()}_set(p,E){var L=this;return(0,ve.Z)(function*(){L.storage[p]=E})()}_get(p){var E=this;return(0,ve.Z)(function*(){const L=E.storage[p];return void 0===L?null:L})()}_remove(p){var E=this;return(0,ve.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return y.type="NONE",y})();function bi(y,d,p){return`firebase:${y}:${d}:${p}`}class Bn{constructor(d,p,E){this.persistence=d,this.auth=p,this.userKey=E;const{config:L,name:V}=this.auth;this.fullUserKey=bi(this.userKey,L.apiKey,V),this.fullPersistenceKey=bi("persistence",L.apiKey,V),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,ve.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?cr._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,ve.Z)(function*(){if(p.persistence===d)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,E="authUser"){return(0,ve.Z)(function*(){if(!p.length)return new Bn(En(yi),d,E);const L=(yield Promise.all(p.map(function(){var ze=(0,ve.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let V=L[0]||En(yi);const he=bi(E,d.config.apiKey,d.name);let ke=null;for(const ze of p)try{const Tt=yield ze._get(he);if(Tt){const hn=cr._fromJSON(d,Tt);ze!==V&&(ke=hn),V=ze;break}}catch{}const ct=L.filter(ze=>ze._shouldAllowMigration);return V._shouldAllowMigration&&ct.length?(V=ct[0],ke&&(yield V._set(he,ke.toJSON())),yield Promise.all(p.map(function(){var ze=(0,ve.Z)(function*(Tt){if(Tt!==V)try{yield Tt._remove(he)}catch{}});return function(Tt){return ze.apply(this,arguments)}}())),new Bn(V,d,E)):new Bn(V,d,E)})()}}function Ie(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(function it(y=(0,Re.z$)()){return/iemobile/i.test(y)}(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(function me(y=(0,Re.z$)()){return/firefox\//i.test(y)}(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(function gn(y=(0,Re.z$)()){return/blackberry/i.test(y)}(d))return"Blackberry";if(function Kt(y=(0,Re.z$)()){return/webos/i.test(y)}(d))return"Webos";if(function Se(y=(0,Re.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}(d))return"Safari";if((d.includes("chrome/")||function We(y=(0,Re.z$)()){return/crios\//i.test(y)}(d))&&!d.includes("edge/"))return"Chrome";if(function qt(y=(0,Re.z$)()){return/android/i.test(y)}(d))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function zi(y,d=[]){let p;switch(y){case"Browser":p=Ie((0,Re.z$)());break;case"Worker":p=`${Ie((0,Re.z$)())}-${y}`;break;default:p=y}const E=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${De.Jn}/${E}`}function lo(y,d){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,ve.Z)(function*(y,d){return Xt(y,"GET","/v2/recaptchaConfig",At(y,d))})).apply(this,arguments)}function ho(y){return void 0!==y&&void 0!==y.enterprise}class to{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}class iu{constructor(d){this.type="recaptcha-enterprise",this.auth=oi(d)}verify(d="verify",p=!1){var E=this;return(0,ve.Z)(function*(){function V(){return V=(0,ve.Z)(function*(ke){if(!p){if(null==ke.tenantId&&null!=ke._agentRecaptchaConfig)return ke._agentRecaptchaConfig.siteKey;if(null!=ke.tenantId&&void 0!==ke._tenantRecaptchaConfigs[ke.tenantId])return ke._tenantRecaptchaConfigs[ke.tenantId].siteKey}return new Promise(function(){var ct=(0,ve.Z)(function*(ze,Tt){lo(ke,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(hn=>{if(void 0!==hn.recaptchaKey){const Qi=new to(hn);return null==ke.tenantId?ke._agentRecaptchaConfig=Qi:ke._tenantRecaptchaConfigs[ke.tenantId]=Qi,ze(Qi.siteKey)}Tt(new Error("recaptcha Enterprise site key undefined"))}).catch(hn=>{Tt(hn)})});return function(ze,Tt){return ct.apply(this,arguments)}}())}),V.apply(this,arguments)}function he(ke,ct,ze){const Tt=window.grecaptcha;ho(Tt)?Tt.enterprise.ready(()=>{Tt.enterprise.execute(ke,{action:d}).then(hn=>{ct(hn)}).catch(()=>{ct("NO_RECAPTCHA")})}):ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ke,ct)=>{(function L(ke){return V.apply(this,arguments)})(E.auth).then(ze=>{if(!p&&ho(window.grecaptcha))he(ze,ke,ct);else{if(typeof window>"u")return void ct(new Error("RecaptchaVerifier is only supported in browser"));(function fo(y){return new Promise((d,p)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=d,E.onerror=L=>{const V=Or("internal-error");V.customData=L,p(V)},E.type="text/javascript",E.charset="UTF-8",function Vs(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(E)})})("https://www.google.com/recaptcha/enterprise.js?render="+ze).then(()=>{he(ze,ke,ct)}).catch(Tt=>{ct(Tt)})}}).catch(ze=>{ct(ze)})})})()}}class Uo{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const E=V=>new Promise((he,ke)=>{try{he(d(V))}catch(ct){ke(ct)}});E.onAbort=p,this.queue.push(E);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,ve.Z)(function*(){if(p.auth.currentUser===d)return;const E=[];try{for(const L of p.queue)yield L(d),L.onAbort&&E.push(L.onAbort)}catch(L){E.reverse();for(const V of E)try{V()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class Vo{constructor(d,p,E,L){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=E,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ar(this),this.idTokenSubscription=new ar(this),this.beforeStateQueue=new Uo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ar,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(d,p){var E=this;return p&&(this._popupRedirectResolver=En(p)),this._initializationPromise=this.queue((0,ve.Z)(function*(){var L,V;if(!E._deleted&&(E.persistenceManager=yield Bn.create(E,d),!E._deleted)){if(null!==(L=E._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(V=E.currentUser)||void 0===V?void 0:V.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,ve.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,ve.Z)(function*(){var E;const L=yield p.assertedPersistence.getCurrentUser();let V=L,he=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ke=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,ct=V?._redirectEventId,ze=yield p.tryRedirectSignIn(d);(!ke||ke===ct)&&ze?.user&&(V=ze.user,he=!0)}if(!V)return p.directlySetCurrentUser(null);if(!V._redirectEventId){if(he)try{yield p.beforeStateQueue.runMiddleware(V)}catch(ke){V=L,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ke))}return V?p.reloadAndSetCurrentUserOrClear(V):p.directlySetCurrentUser(null)}return de(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===V._redirectEventId?p.directlySetCurrentUser(V):p.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(d){var p=this;return(0,ve.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,ve.Z)(function*(){try{yield Yt(d)}catch(E){if("auth/network-request-failed"!==E?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function pn(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,ve.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,ve.Z)(function*(){const E=d?(0,Re.m9)(d):null;return E&&de(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(d,p=!1){var E=this;return(0,ve.Z)(function*(){if(!E._deleted)return d&&de(E.tenantId===d.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(d)),E.queue((0,ve.Z)(function*(){yield E.directlySetCurrentUser(d),E.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,ve.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,ve.Z)(function*(){yield p.assertedPersistence.setPersistence(En(d))}))}initializeRecaptchaConfig(){var d=this;return(0,ve.Z)(function*(){const p=yield lo(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new to(p);null==d.tenantId?d._agentRecaptchaConfig=E:d._tenantRecaptchaConfigs[d.tenantId]=E,E.emailPasswordEnabled&&new iu(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Re.LL("auth","Firebase",d())}onAuthStateChanged(d,p,E){return this.registerStateListener(this.authStateSubscription,d,p,E)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,E){return this.registerStateListener(this.idTokenSubscription,d,p,E)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var E=this;return(0,ve.Z)(function*(){const L=yield E.getOrInitRedirectPersistenceManager(p);return null===d?L.removeCurrentUser():L.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,ve.Z)(function*(){if(!p.redirectPersistenceManager){const E=d&&En(d)||p._popupRedirectResolver;de(E,p,"argument-error"),p.redirectPersistenceManager=yield Bn.create(p,[En(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,ve.Z)(function*(){var E,L;return p._isInitialized&&(yield p.queue((0,ve.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===d?p._currentUser:(null===(L=p.redirectUser)||void 0===L?void 0:L._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,ve.Z)(function*(){if(d===p.currentUser)return p.queue((0,ve.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,E,L){if(this._deleted)return()=>{};const V="function"==typeof p?p:p.next.bind(p),he=this._isInitialized?Promise.resolve():this._initializationPromise;return de(he,this,"internal-error"),he.then(()=>V(this.currentUser)),"function"==typeof p?d.addObserver(p,E,L):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,ve.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=zi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,ve.Z)(function*(){var p;const E={"X-Client-Version":d.clientVersion};d.app.options.appId&&(E["X-Firebase-gmpid"]=d.app.options.appId);const L=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();L&&(E["X-Firebase-Client"]=L);const V=yield d._getAppCheckToken();return V&&(E["X-Firebase-AppCheck"]=V),E})()}_getAppCheckToken(){var d=this;return(0,ve.Z)(function*(){var p;const E=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return E?.error&&function Ji(y,...d){mi.logLevel<=fr.in.WARN&&mi.warn(`Auth (${De.Jn}): ${y}`,...d)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function oi(y){return(0,Re.m9)(y)}class ar{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Re.ne)(p=>this.observer=p)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function ps(y){return`__${y}${Math.floor(1e6*Math.random())}`})("rcb"),new sr(3e4,6e4),new sr(2e3,1e4),new sr(3e4,6e4),new sr(5e3,15e3),encodeURIComponent("fac");var jd="@firebase/auth";class Cn{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,ve.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(E=>{d(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);!p||(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Re.Pz)("authIdTokenMaxAge"),function Wl(y){(0,De.Xd)(new Vn.wA("auth",(d,{options:p})=>{const E=d.getProvider("app").getImmediate(),L=d.getProvider("heartbeat"),V=d.getProvider("app-check-internal"),{apiKey:he,authDomain:ke}=E.options;de(he&&!he.includes(":"),"invalid-api-key",{appName:E.name});const ct={apiKey:he,authDomain:ke,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zi(y)},ze=new Vo(E,L,V,ct);return function la(y,d){const p=d?.persistence||[],E=(Array.isArray(p)?p:[p]).map(En);d?.errorMap&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(E,d?.popupRedirectResolver)}(ze,p),ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,E)=>{d.getProvider("auth-internal").initialize()})),(0,De.Xd)(new Vn.wA("auth-internal",d=>{const p=oi(d.getProvider("auth").getImmediate());return new Cn(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,De.KN)(jd,"0.23.2",function Gh(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,De.KN)(jd,"0.23.2","esm2017")}("Browser");class yu{constructor(){return(0,P.vb)("auth")}}},4102:(an,et,q)=>{q.d(et,{gg:()=>Yg,hJ:()=>zv,BS:()=>Oh,ad:()=>Qv,Cm:()=>Bv});var fe,P=q(902),z=q(6738),ce=q(8522),Ue=q(3692),ve=q(259),Re=q(2313),De=q(9671),Le=q(6881),we=q(4859),K=q(1877),Q=q(2090),be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={},kt=kt||{},Ce=be||self;function nt(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Bt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var ht="closure_uid_"+(1e9*Math.random()>>>0),nn=0;function Jn(r,e,t){return r.call.apply(r.bind,arguments)}function wt(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function ot(r,e,t){return(ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jn:wt).apply(null,arguments)}function ut(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Qe(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,l){for(var f=Array(arguments.length-2),b=2;b<arguments.length;b++)f[b-2]=arguments[b];return e.prototype[a].apply(s,f)}}function Mt(){this.s=this.s,this.o=this.o}Mt.prototype.s=!1,Mt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bn(r){Object.prototype.hasOwnProperty.call(r,ht)&&r[ht]||(r[ht]=++nn)}(this)},Mt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Pt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function pt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function lt(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(nt(s)){const a=r.length||0,l=s.length||0;r.length=a+l;for(let f=0;f<l;f++)r[a+f]=s[f]}else r.push(s)}}function zn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}zn.prototype.h=function(){this.defaultPrevented=!0};var ni=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Ce.addEventListener("test",()=>{},e),Ce.removeEventListener("test",()=>{},e)}catch{}return r}();function _r(r){return/^[\s\xa0]*$/.test(r)}function An(){var r=Ce.navigator;return r&&(r=r.userAgent)?r:""}function Pr(r){return-1!=An().indexOf(r)}function ri(r){return ri[" "](r),r}ri[" "]=function(){};var On,r,hr=Pr("Opera"),Lr=Pr("Trident")||Pr("MSIE"),Ni=Pr("Edge"),Fr=Ni||Lr,fr=Pr("Gecko")&&!(-1!=An().toLowerCase().indexOf("webkit")&&!Pr("Edge"))&&!(Pr("Trident")||Pr("MSIE"))&&!Pr("Edge"),Vn=-1!=An().toLowerCase().indexOf("webkit")&&!Pr("Edge");function yn(){var r=Ce.document;return r?r.documentMode:void 0}e:{var di="",gi=(r=An(),fr?/rv:([^\);]+)(\)|;)/.exec(r):Ni?/Edge\/([\d\.]+)/.exec(r):Lr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Vn?/WebKit\/(\S+)/.exec(r):hr?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(gi&&(di=gi?gi[1]:""),Lr){var Wn=yn();if(null!=Wn&&Wn>parseFloat(di)){On=String(Wn);break e}}On=di}var Nr=Ce.document&&Lr&&(yn()||parseInt(On,10))||void 0;function ii(r,e){if(zn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(fr){e:{try{ri(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Ar[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&ii.$.h.call(this)}}Qe(ii,zn);var Ar={2:"touch",3:"pen",4:"mouse"};ii.prototype.h=function(){ii.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var br="closure_listenable_"+(1e6*Math.random()|0),mi=0;function Ji(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++mi,this.fa=this.ia=!1}function Ur(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Xn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Ke(r){const e={};for(const t in r)e[t]=r[t];return e}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let l=0;l<Y.length;l++)t=Y[l],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function de(r){this.src=r,this.g={},this.h=0}function je(r,e){var t=e.type;if(t in r.g){var l,s=r.g[t],a=Pt(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Ur(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function It(r,e,t,s){for(var a=0;a<r.length;++a){var l=r[a];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==s)return a}return-1}de.prototype.add=function(r,e,t,s,a){var l=r.toString();(r=this.g[l])||(r=this.g[l]=[],this.h++);var f=It(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new Ji(e,this.src,l,!!s,a)).ia=t,r.push(e)),e};var Wt="closure_lm_"+(1e6*Math.random()|0),gt={};function Dt(r,e,t,s,a){if(s&&s.once)return sr(r,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Dt(r,e[l],t,s,a);return null}return t=kn(t),r&&r[br]?r.O(e,t,Bt(s)?!!s.capture:!!s,a):Mn(r,e,t,!1,s,a)}function Mn(r,e,t,s,a,l){if(!e)throw Error("Invalid event type");var f=Bt(a)?!!a.capture:!!a,b=At(r);if(b||(r[Wt]=b=new de(r)),(t=b.add(e,t,s,f,l)).proxy)return t;if(s=function pn(){const e=xr;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)ni||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(_n(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function sr(r,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)sr(r,e[l],t,s,a);return null}return t=kn(t),r&&r[br]?r.P(e,t,Bt(s)?!!s.capture:!!s,a):Mn(r,e,t,!0,s,a)}function Ot(r,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ot(r,e[l],t,s,a);else s=Bt(s)?!!s.capture:!!s,t=kn(t),r&&r[br]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=It(l=r.g[e],t,s,a))&&(Ur(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete r.g[e],r.h--))):r&&(r=At(r))&&(e=r.g[e.toString()],r=-1,e&&(r=It(e,t,s,a)),(t=-1<r?e[r]:null)&&ln(t))}function ln(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[br])je(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(_n(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=At(e))?(je(t,r),0==t.h&&(t.src=null,e[Wt]=null)):Ur(r)}}}function _n(r){return r in gt?gt[r]:gt[r]="on"+r}function xr(r,e){if(r.fa)r=!0;else{e=new ii(e,this);var t=r.listener,s=r.la||r.src;r.ia&&ln(r),r=t.call(s,e)}return r}function At(r){return(r=r[Wt])instanceof de?r:null}var Xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function kn(r){return"function"==typeof r?r:(r[Xt]||(r[Xt]=function(e){return r.handleEvent(e)}),r[Xt])}function Sn(){Mt.call(this),this.i=new de(this),this.S=this,this.J=null}function en(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new zn(e,r);else if(e instanceof zn)e.target=e.target||r;else{var a=e;ee(e=new zn(s,r),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];a=Pn(f,s,!0,e)&&a}if(a=Pn(f=e.g=r,s,!0,e)&&a,a=Pn(f,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Pn(f=e.g=t[l],s,!1,e)&&a}function Pn(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==t){var b=f.listener,M=f.la||f.src;f.ia&&je(r.i,f),a=!1!==b.call(M,s)&&a}}return a&&!s.defaultPrevented}Qe(Sn,Mt),Sn.prototype[br]=!0,Sn.prototype.removeEventListener=function(r,e,t,s){Ot(this,r,e,t,s)},Sn.prototype.N=function(){if(Sn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Ur(t[s]);delete r.g[e],r.h--}}this.J=null},Sn.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Sn.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var ue=Ce.JSON.stringify;function _e(){var r=re;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Me=new class ie{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Rt,r=>r.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qt(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function xn(r){Ce.setTimeout(()=>{throw r},0)}let er,ye=!1,re=new class Ze{constructor(){this.h=this.g=null}add(e,t){const s=Me.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},W=()=>{const r=Ce.Promise.resolve(void 0);er=()=>{r.then(pe)}};var pe=()=>{for(var r;r=_e();){try{r.h.call(r.g)}catch(t){xn(t)}var e=Me;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ye=!1};function $e(r,e){Sn.call(this),this.h=r||1,this.g=e||Ce,this.j=ot(this.qb,this),this.l=Date.now()}function Lt(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function $t(r,e,t){if("function"==typeof r)t&&(r=ot(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ot(r.handleEvent,r)}return 2147483647<Number(e)?-1:Ce.setTimeout(r,e||0)}function xe(r){r.g=$t(()=>{r.g=null,r.i&&(r.i=!1,xe(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Qe($e,Sn),(fe=$e.prototype).ga=!1,fe.T=null,fe.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),en(this,"tick"),this.ga&&(Lt(this),this.start()))}},fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fe.N=function(){$e.$.N.call(this),Lt(this),delete this.g};class ne extends Mt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xe(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fe(r){Mt.call(this),this.h=r,this.g={}}Qe(Fe,Mt);var dt=[];function Ft(r,e,t,s){Array.isArray(t)||(t&&(dt[0]=t.toString()),t=dt);for(var a=0;a<t.length;a++){var l=Dt(e,t[a],s||r.handleEvent,!1,r.h||r);if(!l)break;r.g[l.key]=l}}function sn(r){Xn(r.g,function(e,t){this.g.hasOwnProperty(t)&&ln(e)},r),r.g={}}function Yt(){this.g=!0}function gr(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function un(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return ue(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Fe.prototype.N=function(){Fe.$.N.call(this),sn(this)},Fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yt.prototype.Ea=function(){this.g=!1},Yt.prototype.info=function(){};var Xi={},Gi=null;function Ii(){return Gi=Gi||new Sn}function si(r){zn.call(this,Xi.Ta,r)}function cr(r){const e=Ii();en(e,new si(e))}function fs(r,e){zn.call(this,Xi.STAT_EVENT,r),this.stat=e}function En(r){const e=Ii();en(e,new fs(e,r))}function Oi(r,e){zn.call(this,Xi.Ua,r),this.size=e}function yi(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){r()},e)}Xi.Ta="serverreachability",Qe(si,zn),Xi.STAT_EVENT="statevent",Qe(fs,zn),Xi.Ua="timingevent",Qe(Oi,zn);var bi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ie(){}function Se(){}Ie.prototype.h=null;var gn,We={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function it(){zn.call(this,"d")}function qt(){zn.call(this,"c")}function Kt(){}function cn(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Fe(this),this.P=_i,this.V=new $e(r=Fr?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zr}function zr(){this.i=null,this.g="",this.h=!1}Qe(it,zn),Qe(qt,zn),Qe(Kt,Ie),Kt.prototype.g=function(){return new XMLHttpRequest},Kt.prototype.i=function(){return{}},gn=new Kt;var _i=45e3,Ti={},Ln={};function bo(r,e,t){r.L=1,r.v=Bo(gs(e)),r.s=t,r.S=!0,zi(r,null)}function zi(r,e){r.G=Date.now(),Wi(r),r.A=gs(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Ho(t.i,"t",s),r.C=0,t=r.l.J,r.h=new zr,r.g=Fa(r.l,t?e:null,!r.s),0<r.O&&(r.M=new ne(ot(r.Pa,r,r.g),r.O)),Ft(r.U,r.g,"readystatechange",r.nb),e=r.I?Ke(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),cr(),function or(r,e,t,s,a,l){r.info(function(){if(r.g)if(l)for(var f="",b=l.split("&"),M=0;M<b.length;M++){var U=b[M].split("=");if(1<U.length){var G=U[0];U=U[1];var se=G.split("_");f=2<=se.length&&"type"==se[1]?f+(G+"=")+U+"&":f+(G+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Fo(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function co(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=lo(r,t),a==Ln){4==e&&(r.o=4,En(14),s=!1),gr(r.j,r.m,null,"[Incomplete Response]");break}if(a==Ti){r.o=4,En(15),gr(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}gr(r.j,r.m,a,null),fo(r,a)}Fo(r)&&a!=Ln&&a!=Ti&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,En(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),vr(e),e.M=!0,En(11))):(gr(r.j,r.m,t,"[Invalid Chunked Response]"),Vs(r),to(r))}function lo(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Ln:(t=Number(e.substring(t,s)),isNaN(t)?Ti:(s+=1)+t>e.length?Ln:(e=e.slice(s,s+t),r.C=s+t,e))}function Wi(r){r.Y=Date.now()+r.P,ru(r,r.P)}function ru(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=yi(ot(r.lb,r),e)}function ho(r){r.B&&(Ce.clearTimeout(r.B),r.B=null)}function to(r){0==r.l.H||r.J||Cs(r.l,r)}function Vs(r){ho(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Lt(r.V),sn(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function fo(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Do(t.i,r)))if(!r.K&&Do(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Ui(t),$r(t)}jn(t),En(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=yi(ot(t.ib,t),6e3));if(1>=tr(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else _s(t,11)}else if((r.K||t.g==r)&&Ui(t),!_r(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let U=a[e];if(t.V=U[0],U=U[1],2==t.H)if("c"==U[0]){t.K=U[1],t.pa=U[2];const G=U[3];null!=G&&(t.ra=G,t.l.info("VER="+t.ra));const se=U[4];null!=se&&(t.Ga=se,t.l.info("SVER="+t.Ga));const Ne=U[5];null!=Ne&&"number"==typeof Ne&&0<Ne&&(t.L=s=1.5*Ne,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Ye=r.g;if(Ye){const mt=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mt){var l=s.i;l.g||-1==mt.indexOf("spdy")&&-1==mt.indexOf("quic")&&-1==mt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(mo(l,l.h),l.h=null))}if(s.F){const Vt=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;Vt&&(s.Da=Vt,ar(s.I,s.F,Vt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=La(s,s.J?s.pa:null,s.Y),f.K){Ds(s.i,f);var b=f,M=s.L;M&&b.setTimeout(M),b.B&&(ho(b),Wi(b)),s.g=f}else nr(s);0<t.j.length&&Tr(t)}else"stop"!=U[0]&&"close"!=U[0]||_s(t,7);else 3==t.H&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?_s(t,7):$n(t):"noop"!=U[0]&&t.h&&t.h.Aa(U),t.A=0)}cr()}catch{}}function po(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(nt(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Ra(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(nt(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function ps(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(nt(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],r)}(fe=cn.prototype).setTimeout=function(r){this.P=r},fe.nb=function(r){r=r.target;const e=this.M;e&&3==te(r)?e.l():this.Pa(r)},fe.Pa=function(r){try{if(r==this.g)e:{const G=te(this.g);var e=this.g.Ia();if(this.g.da(),!(3>G)&&(3!=G||Fr||this.g&&(this.h.h||this.g.ja()||Ee(this.g)))){this.J||4!=G||7==e||cr(),ho(this);var t=this.g.da();this.ca=t;t:if(Fo(this)){var s=Ee(this.g);r="";var a=s.length,l=4==te(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),to(this);var f="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function fn(r,e,t,s,a,l,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,G,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,M=this.g;if((b=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_r(b)){var U=b;break t}}U=null}if(!(t=U)){this.i=!1,this.o=3,En(12),Vs(this),to(this);break e}gr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fo(this,t)}this.S?(co(this,G,f),Fr&&this.i&&3==G&&(Ft(this.U,this.V,"tick",this.mb),this.V.start())):(gr(this.j,this.m,f,null),fo(this,f)),4==G&&Vs(this),this.i&&!this.J&&(4==G?Cs(this.l,this):(this.i=!1,Wi(this)))}else(function qe(r){const e={};r=(r.g&&2<=te(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(_r(r[s]))continue;var t=Qt(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[a]||[];e[a]=l,l.push(t)}!function Or(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,En(12)):(this.o=0,En(13)),Vs(this),to(this)}}}catch{}},fe.mb=function(){if(this.g){var r=te(this.g),e=this.g.ja();this.C<e.length&&(ho(this),co(this,r,e),this.i&&4!=r&&Wi(this))}},fe.cancel=function(){this.J=!0,Vs(this)},fe.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Hi(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(cr(),En(17)),Vs(this),this.o=2,to(this)):ru(this,this.Y-r)};var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof hi){this.h=r.h,Uo(this,r.j),this.s=r.s,this.g=r.g,Vo(this,r.m),this.l=r.l;var e=r.i,t=new Bs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),oi(this,t),this.o=r.o}else r&&(e=String(r).match(To))?(this.h=!1,Uo(this,e[1]||"",!0),this.s=la(e[2]||""),this.g=la(e[3]||"",!0),Vo(this,e[4]),this.l=la(e[5]||"",!0),oi(this,e[6]||"",!0),this.o=la(e[7]||"")):(this.h=!1,this.i=new Bs(null,this.h))}function gs(r){return new hi(r)}function Uo(r,e,t){r.j=t?la(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Vo(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function oi(r,e,t){e instanceof Bs?(r.i=e,function Li(r,e){e&&!r.j&&(vi(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&($s(this,s),Ho(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Ma(e,go)),r.i=new Bs(e,r.h))}function ar(r,e,t){r.i.set(e,t)}function Bo(r){return ar(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function la(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ma(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,no),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function no(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}hi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Ma(e,ka,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Ma(e,ka,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Ma(t,"/"==t.charAt(0)?jo:$o,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Ma(t,da)),r.join("")};var ka=/[#\/\?@]/g,$o=/[#\?:]/g,jo=/[#\?]/g,go=/[#\?@]/g,da=/#/g;function Bs(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function vi(r){r.g||(r.g=new Map,r.h=0,r.i&&function iu(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var l=r[t].substring(0,s);a=r[t].substring(s+1)}else l=r[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $s(r,e){vi(r),e=fi(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function ha(r,e){return vi(r),e=fi(r,e),r.g.has(e)}function Ho(r,e,t){$s(r,e),0<t.length&&(r.i=null,r.g.set(fi(r,e),pt(t)),r.h+=t.length)}function fi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Hs(r){this.l=r||Go,r=Ce.PerformanceNavigationTiming?0<(r=Ce.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(fe=Bs.prototype).add=function(r,e){vi(this),this.i=null,r=fi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},fe.forEach=function(r,e){vi(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},fe.ta=function(){vi(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let l=0;l<a.length;l++)t.push(e[s])}return t},fe.Z=function(r){vi(this);let e=[];if("string"==typeof r)ha(this,r)&&(e=e.concat(this.g.get(fi(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},fe.set=function(r,e){return vi(this),this.i=null,ha(this,r=fi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},fe.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const l=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=l;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var Go=10;function fa(r){return!!r.h||!!r.g&&r.g.size>=r.j}function tr(r){return r.h?1:r.g?r.g.size:0}function Do(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function mo(r,e){r.g?r.g.add(e):r.h=e}function Ds(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Di(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return pt(r.i)}function Co(){this.g=new class{stringify(r){return Ce.JSON.stringify(r,void 0)}parse(r){return Ce.JSON.parse(r,void 0)}}}function es(r,e,t){const s=t||"";try{po(r,function(a,l){let f=a;Bt(a)&&(f=ue(a)),e.push(s+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function yo(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function ys(r){this.l=r.fc||null,this.j=r.ob||!1}function ts(r,e){Sn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=ns,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hs.prototype.cancel=function(){if(this.i=Di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Qe(ys,Ie),ys.prototype.g=function(){return new ts(this.l,this.j)},ys.prototype.i=function(r){return function(){return r}}({}),Qe(ts,Sn);var ns=0;function Pa(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Vr(r){r.readyState=4,r.l=null,r.j=null,r.A=null,tn(r)}function tn(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(fe=ts.prototype).open=function(r,e){if(this.readyState!=ns)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,tn(this)},fe.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vr(this)),this.readyState=ns},fe.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,tn(this)),this.g&&(this.readyState=3,tn(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pa(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},fe.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Vr(this):tn(this),3==this.readyState&&Pa(this)}},fe.Za=function(r){this.g&&(this.response=this.responseText=r,Vr(this))},fe.Ya=function(r){this.g&&(this.response=r,Vr(this))},fe.ka=function(){this.g&&Vr(this)},fe.setRequestHeader=function(r,e){this.v.append(r,e)},fe.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},fe.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var _o=Ce.JSON.parse;function Br(r){Sn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pa,this.L=this.M=!1}Qe(Br,Sn);var pa="",Na=/^https?$/i,zo=["POST","PUT"];function bu(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Oa(r),O(r)}function Oa(r){r.F||(r.F=!0,en(r,"complete"),en(r,"error"))}function R(r){if(r.h&&typeof kt<"u"&&(!r.C[1]||4!=te(r)||2!=r.da()))if(r.v&&4==te(r))$t(r.La,0,r);else if(en(r,"readystatechange"),4==te(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(To)[1]||null;!a&&Ce.self&&Ce.self.location&&(a=Ce.self.location.protocol.slice(0,-1)),s=!Na.test(a?a.toLowerCase():"")}t=s}if(t)en(r,"complete"),en(r,"success");else{r.m=6;try{var l=2<te(r)?r.g.statusText:""}catch{l=""}r.j=l+" ["+r.da()+"]",Oa(r)}}finally{O(r)}}}function O(r,e){if(r.g){X(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||en(r,"ready");try{t.onreadystatechange=s}catch{}}}function X(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Ce.clearTimeout(r.A),r.A=null)}function te(r){return r.g?r.g.readyState:0}function Ee(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case pa:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function rt(r){let e="";return Xn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function xt(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=rt(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):ar(r,e,t))}function yt(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Tn(r){this.Ga=0,this.j=[],this.l=new Yt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yt("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yt("baseRetryDelayMs",5e3,r),this.hb=yt("retryDelaySeedMs",1e4,r),this.eb=yt("forwardChannelMaxRetries",2,r),this.xa=yt("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Hs(r&&r.concurrentRequestLimit),this.Ja=new Co,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $n(r){if(jr(r),3==r.H){var e=r.W++,t=gs(r.I);if(ar(t,"SID",r.K),ar(t,"RID",e),ar(t,"TYPE","terminate"),dr(r,t),(e=new cn(r,r.l,e)).L=2,e.v=Bo(gs(t)),t=!1,Ce.navigator&&Ce.navigator.sendBeacon)try{t=Ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=Fa(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Wi(e)}Wo(r)}function $r(r){r.g&&(vr(r),r.g.cancel(),r.g=null)}function jr(r){$r(r),r.u&&(Ce.clearTimeout(r.u),r.u=null),Ui(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Ce.clearTimeout(r.m),r.m=null)}function Tr(r){if(!fa(r.i)&&!r.m){r.m=!0;var e=r.Na;er||W(),ye||(er(),ye=!0),re.add(e,r),r.C=0}}function lr(r,e){var t;t=e?e.m:r.W++;const s=gs(r.I);ar(s,"SID",r.K),ar(s,"RID",t),ar(s,"AID",r.V),dr(r,s),r.o&&r.s&&xt(s,r.o,r.s),t=new cn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Qr(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),mo(r.i,t),bo(t,s,e)}function dr(r,e){r.na&&Xn(r.na,function(t,s){ar(e,s,t)}),r.h&&po({},function(t,s){ar(e,s,t)})}function Qr(r,e,t){t=Math.min(r.j.length,t);var s=r.h?ot(r.h.Va,r.h,r):null;e:{var a=r.j;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=a[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let b=!0;for(let M=0;M<t;M++){let U=a[M].g;const G=a[M].map;if(U-=l,0>U)l=Math.max(0,a[M].g-100),b=!1;else try{es(G,f,"req"+U+"_")}catch{s&&s(G)}}if(b){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function nr(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;er||W(),ye||(er(),ye=!0),re.add(e,r),r.A=0}}function jn(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=yi(ot(r.Ma,r),Ss(r,r.A)),r.A++,0))}function vr(r){null!=r.B&&(Ce.clearTimeout(r.B),r.B=null)}function Gs(r){r.g=new cn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=gs(r.wa);ar(e,"RID","rpc"),ar(e,"SID",r.K),ar(e,"AID",r.V),ar(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&ar(e,"TO",r.qa),ar(e,"TYPE","xmlhttp"),dr(r,e),r.o&&r.s&&xt(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=Bo(gs(e)),t.s=null,t.S=!0,zi(t,r)}function Ui(r){null!=r.v&&(Ce.clearTimeout(r.v),r.v=null)}function Cs(r,e){var t=null;if(r.g==e){Ui(r),vr(r),r.g=null;var s=2}else{if(!Do(r.i,e))return;t=e.F,Ds(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;en(s=Ii(),new Oi(s,t)),Tr(r)}else nr(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function Fn(r,e){return!(tr(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=yi(ot(r.Na,r,e),Ss(r,r.C)),r.C++,0)))}(r,e)||2==s&&jn(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:_s(r,5);break;case 4:_s(r,10);break;case 3:_s(r,6);break;default:_s(r,2)}}function Ss(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function _s(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=ot(r.pb,r);t||(t=new hi("//www.google.com/images/cleardot.gif"),Ce.location&&"http"==Ce.location.protocol||Uo(t,"https"),Bo(t)),function Fi(r,e){const t=new Yt;if(Ce.Image){const s=new Image;s.onload=ut(yo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=ut(yo,t,s,"TestLoadImage: error",!1,e),s.onabort=ut(yo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=ut(yo,t,s,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else En(2);r.H=0,r.h&&r.h.za(e),Wo(r),jr(r)}function Wo(r){if(r.H=0,r.ma=[],r.h){const e=Di(r.i);(0!=e.length||0!=r.j.length)&&(lt(r.ma,e),lt(r.ma,r.j),r.i.i.length=0,pt(r.j),r.j.length=0),r.h.ya()}}function La(r,e,t){var s=t instanceof hi?gs(t):new hi(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Vo(s,s.m);else{var a=Ce.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new hi(null);s&&Uo(l,s),e&&(l.g=e),a&&Vo(l,a),t&&(l.l=t),s=l}return e=r.Da,(t=r.F)&&e&&ar(s,t,e),ar(s,"VER",r.ra),dr(r,s),s}function Fa(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Br(t&&r.Ha&&!r.va?new ys({ob:!0}):r.va)).Oa(r.J),e}function Wr(){}function zs(){if(Lr&&!(10<=Number(Nr)))throw Error("Environmental error: no available transport.")}function Jr(r,e){Sn.call(this),this.g=new Tn(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!_r(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_r(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new ro(this)}function ou(r){it.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function qo(){qt.call(this),this.status=1}function ro(r){this.g=r}function rs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ai(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=r.g[3],f=(e=r.g[0])+(l^(t=r.g[1])&((a=r.g[2])^l))+s[0]+3614090360&4294967295;f=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=t+(f<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^l&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^l)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~l))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=t+((f=e+(a^(t|~l))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=l+((f=a+(e^(l|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+l&4294967295}function Un(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var l=0|r[a];s&&l==e||(t[a]=l,s=!1)}this.g=t}(fe=Br.prototype).Oa=function(r){this.M=r},fe.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gn.g(),this.C=function me(r){return r.h||(r.h=r.i())}(this.u?this.u:gn),this.g.onreadystatechange=ot(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(l){return void bu(this,l)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const l of s.keys())t.set(l,s.get(l))}s=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=Ce.FormData&&r instanceof Ce.FormData,!(0<=Pt(zo,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of t)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{X(this),0<this.B&&((this.L=function su(r){return Lr&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ot(this.ua,this)):this.A=$t(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(l){bu(this,l)}},fe.ua=function(){typeof kt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,en(this,"timeout"),this.abort(8))},fe.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,en(this,"complete"),en(this,"abort"),O(this))},fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),O(this,!0)),Br.$.N.call(this)},fe.La=function(){this.s||(this.G||this.v||this.l?R(this):this.kb())},fe.kb=function(){R(this)},fe.isActive=function(){return!!this.g},fe.da=function(){try{return 2<te(this)?this.g.status:-1}catch{return-1}},fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},fe.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),_o(e)}},fe.Ia=function(){return this.m},fe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(fe=Tn.prototype).ra=8,fe.H=1,fe.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new cn(this,this.l,r);let l=this.s;if(this.U&&(l?(l=Ke(l),ee(l,this.U)):l=this.U),null!==this.o||this.O||(a.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Qr(this,a,e),ar(t=gs(this.I),"RID",r),ar(t,"CVER",22),this.F&&ar(t,"X-HTTP-Session-Id",this.F),dr(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(rt(l)))+"&"+e:this.o&&xt(t,this.o,l)),mo(this.i,a),this.bb&&ar(t,"TYPE","init"),this.P?(ar(t,"$req",e),ar(t,"SID","null"),a.aa=!0,bo(a,t,null)):bo(a,t,e),this.H=2}}else 3==this.H&&(r?lr(this,r):0==this.j.length||fa(this.i)||lr(this))},fe.Ma=function(){if(this.u=null,Gs(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=yi(ot(this.jb,this),r)}},fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,En(10),$r(this),Gs(this))},fe.ib=function(){null!=this.v&&(this.v=null,$r(this),jn(this),En(19))},fe.pb=function(r){r?(this.l.info("Successfully pinged google.com"),En(2)):(this.l.info("Failed to ping google.com"),En(1))},fe.isActive=function(){return!!this.h&&this.h.isActive(this)},(fe=Wr.prototype).Ba=function(){},fe.Aa=function(){},fe.za=function(){},fe.ya=function(){},fe.isActive=function(){return!0},fe.Va=function(){},zs.prototype.g=function(r,e){return new Jr(r,e)},Qe(Jr,Sn),Jr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;En(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=La(r,null,r.Y),Tr(r)},Jr.prototype.close=function(){$n(this.g)},Jr.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=ue(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Tr(e)},Jr.prototype.N=function(){this.g.h=null,delete this.j,$n(this.g),delete this.g,Jr.$.N.call(this)},Qe(ou,it),Qe(qo,qt),Qe(ro,Wr),ro.prototype.Ba=function(){en(this.g,"a")},ro.prototype.Aa=function(r){en(this.g,new ou(r))},ro.prototype.za=function(r){en(this.g,new qo)},ro.prototype.ya=function(){en(this.g,"b")},Qe(rs,function Ua(){this.blockSize=-1}),rs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},rs.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,l=0;l<e;){if(0==a)for(;l<=t;)ai(this,r,l),l+=this.blockSize;if("string"==typeof r){for(;l<e;)if(s[a++]=r.charCodeAt(l++),a==this.blockSize){ai(this,s),a=0;break}}else for(;l<e;)if(s[a++]=r[l++],a==this.blockSize){ai(this,s),a=0;break}}this.h=a,this.i+=e},rs.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Rr={};function au(r){return-128<=r&&128>r?function ji(r,e){var t=Rr;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Un([0|e],0>e?-1:0)}):new Un([0|r],0>r?-1:0)}function As(r){if(isNaN(r)||!isFinite(r))return Ao;if(0>r)return qr(As(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=So;return new Un(e,0)}var So=4294967296,Ao=au(0),Ko=au(1),Os=au(16777216);function is(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Ci(r){return-1==r.h}function qr(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Un(t,~r.h).add(Ko)}function ga(r,e){return r.add(qr(e))}function D(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function F(r,e){this.g=r,this.h=e}function A(r,e){if(is(e))throw Error("division by zero");if(is(r))return new F(Ao,Ao);if(Ci(r))return e=A(qr(r),e),new F(qr(e.g),qr(e.h));if(Ci(e))return e=A(r,qr(e)),new F(qr(e.g),e.h);if(30<r.g.length){if(Ci(r)||Ci(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Ko,s=e;0>=s.X(r);)t=B(t),s=B(s);var a=oe(t,1),l=oe(s,1);for(s=oe(s,2),t=oe(t,2);!is(s);){var f=l.add(s);0>=f.X(r)&&(a=a.add(t),l=f),s=oe(s,1),t=oe(t,1)}return e=ga(r,a.R(e)),new F(a,e)}for(a=Ao;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(l=As(t)).R(e);Ci(f)||0<f.X(r);)f=(l=As(t-=s)).R(e);is(l)&&(l=Ko),a=a.add(l),r=ga(r,f)}return new F(a,r)}function B(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Un(t,r.h)}function oe(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],l=0;l<s;l++)a[l]=0<e?r.D(l+t)>>>e|r.D(l+t+1)<<32-e:r.D(l+t);return new Un(a,r.h)}(fe=Un.prototype).ea=function(){if(Ci(this))return-qr(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:So+s)*e,e*=So}return r},fe.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(is(this))return"0";if(Ci(this))return"-"+qr(this).toString(r);for(var e=As(Math.pow(r,6)),t=this,s="";;){var a=A(t,e).g,l=((0<(t=ga(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(is(t=a))return l+s;for(;6>l.length;)l="0"+l;s=l+s}},fe.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},fe.X=function(r){return Ci(r=ga(this,r))?-1:is(r)?0:1},fe.abs=function(){return Ci(this)?qr(this):this},fe.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var l=s+(65535&this.D(a))+(65535&r.D(a)),f=(l>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(l&=65535)}return new Un(t,-2147483648&t[t.length-1]?-1:0)},fe.R=function(r){if(is(this)||is(r))return Ao;if(Ci(this))return Ci(r)?qr(this).R(qr(r)):qr(qr(this).R(r));if(Ci(r))return qr(this.R(qr(r)));if(0>this.X(Os)&&0>r.X(Os))return As(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var l=this.D(s)>>>16,f=65535&this.D(s),b=r.D(a)>>>16,M=65535&r.D(a);t[2*s+2*a]+=f*M,D(t,2*s+2*a),t[2*s+2*a+1]+=l*M,D(t,2*s+2*a+1),t[2*s+2*a+1]+=f*b,D(t,2*s+2*a+1),t[2*s+2*a+2]+=l*b,D(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Un(t,0)},fe.gb=function(r){return A(this,r).h},fe.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Un(t,this.h&r.h)},fe.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Un(t,this.h|r.h)},fe.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Un(t,this.h^r.h)},zs.prototype.createWebChannel=zs.prototype.g,Jr.prototype.send=Jr.prototype.u,Jr.prototype.open=Jr.prototype.m,Jr.prototype.close=Jr.prototype.close,bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,Bn.COMPLETE="complete",Se.EventType=We,We.OPEN="a",We.CLOSE="b",We.ERROR="c",We.MESSAGE="d",Sn.prototype.listen=Sn.prototype.O,Br.prototype.listenOnce=Br.prototype.P,Br.prototype.getLastError=Br.prototype.Sa,Br.prototype.getLastErrorCode=Br.prototype.Ia,Br.prototype.getStatus=Br.prototype.da,Br.prototype.getResponseJson=Br.prototype.Wa,Br.prototype.getResponseText=Br.prototype.ja,Br.prototype.send=Br.prototype.ha,Br.prototype.setWithCredentials=Br.prototype.Oa,rs.prototype.digest=rs.prototype.l,rs.prototype.reset=rs.prototype.reset,rs.prototype.update=rs.prototype.j,Un.prototype.add=Un.prototype.add,Un.prototype.multiply=Un.prototype.R,Un.prototype.modulo=Un.prototype.gb,Un.prototype.compare=Un.prototype.X,Un.prototype.toNumber=Un.prototype.ea,Un.prototype.toString=Un.prototype.toString,Un.prototype.getBits=Un.prototype.D,Un.fromNumber=As,Un.fromString=function uu(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return qr(uu(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=As(Math.pow(e,8)),s=Ao,a=0;a<r.length;a+=8){var l=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+l),e);8>l?(l=As(Math.pow(e,l)),s=s.R(l).add(As(f))):s=(s=s.R(t)).add(As(f))}return s};var Ve=Ae.createWebChannelTransport=function(){return new zs},Je=Ae.getStatEventTarget=function(){return Ii()},Gt=Ae.ErrorCode=bi,qn=Ae.EventType=Bn,wr=Ae.Event=Xi,rr=Ae.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nn=Ae.FetchXmlHttpFactory=ys,Xr=Ae.WebChannel=Se,Kn=Ae.XhrIo=Br,wi=Ae.Md5=rs,ss=Ae.Integer=Un;const qi="@firebase/firestore";class ur{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");let Ki="9.23.0";const Si=new K.Yd("@firebase/firestore");function io(){return Si.logLevel}function st(r,...e){if(Si.logLevel<=K.in.DEBUG){const t=e.map(Tu);Si.debug(`Firestore (${Ki}): ${r}`,...t)}}function ui(r,...e){if(Si.logLevel<=K.in.ERROR){const t=e.map(Tu);Si.error(`Firestore (${Ki}): ${r}`,...t)}}function os(r,...e){if(Si.logLevel<=K.in.WARN){const t=e.map(Tu);Si.warn(`Firestore (${Ki}): ${r}`,...t)}}function Tu(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Ct(r="Unexpected state"){const e=`FIRESTORE (${Ki}) INTERNAL ASSERTION FAILED: `+r;throw ui(e),new Error(e)}function Zt(r,e){r||Ct()}function bt(r,e){return r}const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends Q.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Wc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Du{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ur.UNAUTHENTICATED))}shutdown(){}}class cu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dc{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=U=>this.i!==a?(a=this.i,t(U)):Promise.resolve();let f=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ei,e.enqueueRetryable(()=>l(this.currentUser))};const b=()=>{const U=f;e.enqueueRetryable((0,De.Z)(function*(){yield U.promise,yield l(s.currentUser)}))},M=U=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(U=>M(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?M(U):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ei)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Zt("string"==typeof s.accessToken),new Wc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zt(null===e||"string"==typeof e),new ur(e)}}class hc{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Gu{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new hc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=l=>{null!=l.error&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?a(l):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Zt("string"==typeof t.token),this.T=t.token,new lu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qc(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}function Ut(r,e){return r<e?-1:r>e?1:0}function ya(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new ti(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new ti(0,0))}static max(){return new Jt(new ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zo{constructor(e,t,s){void 0===t?t=0:t>e.length&&Ct(),void 0===s?s=e.length-t:s>e.length-t&&Ct(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Zo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zo?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),f=t.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Hn extends Zo{construct(e,t,s){return new Hn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new tt(Be.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Hn(t)}static emptyPath(){return new Hn([])}}const Ws=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Zo{construct(e,t,s){return new Mr(e,t,s)}static isValidIdentifier(e){return Ws.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new tt(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new tt(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[a+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new tt(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=M,a+=2}else"`"===b?(f=!f,a++):"."!==b||f?(s+=b,a++):(l(),a++)}if(l(),f)throw new tt(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}class Et{constructor(e){this.path=e}static fromPath(e){return new Et(Hn.fromString(e))}static fromName(e){return new Et(Hn.fromString(e).popFirst(5))}static empty(){return new Et(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new Hn(e.slice()))}}function zu(r){return new qs(r.readTime,r.key,-1)}class qs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new qs(Jt.min(),Et.empty(),-1)}static max(){return new qs(Jt.max(),Et.empty(),-1)}}function Bl(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Et.comparator(r.documentKey,e.documentKey),0!==t?t:Ut(r.largestBatchId,e.largestBatchId))}const Kc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function vs(r){return Su.apply(this,arguments)}function Su(){return Su=(0,De.Z)(function*(r){if(r.code!==Be.FAILED_PRECONDITION||r.message!==Kc)throw r;st("LocalStore","Unexpectedly lost primary lease")}),Su.apply(this,arguments)}class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pe((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pe?t:Pe.resolve(t)}catch(t){return Pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.reject(t)}static resolve(e){return new Pe((t,s)=>{t(e)})}static reject(e){return new Pe((t,s)=>{s(e)})}static waitFor(e){return new Pe((t,s)=>{let a=0,l=0,f=!1;e.forEach(b=>{++a,b.next(()=>{++l,f&&l===a&&t()},M=>s(M))}),f=!0,l===a&&t()})}static or(e){let t=Pe.resolve(!1);for(const s of e)t=t.next(a=>a?Pe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new Pe((s,a)=>{const l=e.length,f=new Array(l);let b=0;for(let M=0;M<l;M++){const U=M;t(e[U]).next(G=>{f[U]=G,++b,b===l&&s(f)},G=>a(G))}})}static doWhile(e,t){return new Pe((s,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):s()};l()})}}function Ba(r){return"IndexedDbTransactionError"===r.name}let ws=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function $a(r){return null==r}function pu(r){return 0===r&&1/r==-1/0}function cs(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Xo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}class Yr{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new Yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wa(this.root,e,this.comparator,!0)}}class wa{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Ri.RED,this.left=a??Ri.EMPTY,this.right=l??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Ri(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ri.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ct();const e=this.left.check();if(e!==this.right.check())throw Ct();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct()}get value(){throw Ct()}get color(){throw Ct()}get left(){throw Ct()}get right(){throw Ct()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Ri(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hr{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qu(this.data.getIterator())}getIteratorFrom(e){return new qu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Hr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hr(this.comparator);return t.data=e,t}}class qu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xs{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new xs([])}unionWith(e){let t=new Hr(Mr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new xs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Ga extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ga("Invalid base64 string: "+a):a}}(e);return new Dr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Dr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const Vh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(r){if(Zt(!!r),"string"==typeof r){let e=0;const t=Vh.exec(r);if(Zt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ci(r.seconds),nanos:ci(r.nanos)}}function ci(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Zi(r){return"string"==typeof r?Dr.fromBase64String(r):Dr.fromUint8Array(r)}function Ku(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Yu(r){const e=r.mapValue.fields.__previous_value__;return Ku(e)?Yu(e):e}function Mu(r){const e=ea(r.mapValue.fields.__local_write_time__.timestampValue);return new ti(e.seconds,e.nanos)}class Od{constructor(e,t,s,a,l,f,b,M,U){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=b,this.longPollingOptions=M,this.useFetchStreams=U}}class za{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new za("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}const ta_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Wa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ku(r)?4:Bh(r)?9007199254740991:10:Ct()}function Ks(r,e){if(r===e)return!0;const t=Wa(r);if(t!==Wa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Mu(r).isEqual(Mu(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ea(s.timestampValue),f=ea(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Zi(r.bytesValue).isEqual(Zi(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return ci(s.geoPointValue.latitude)===ci(a.geoPointValue.latitude)&&ci(s.geoPointValue.longitude)===ci(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ci(s.integerValue)===ci(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=ci(s.doubleValue),f=ci(a.doubleValue);return l===f?pu(l)===pu(f):isNaN(l)&&isNaN(f)}return!1}(r,e);case 9:return ya(r.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:return function(s,a){const l=s.mapValue.fields||{},f=a.mapValue.fields||{};if(cs(l)!==cs(f))return!1;for(const b in l)if(l.hasOwnProperty(b)&&(void 0===f[b]||!Ks(l[b],f[b])))return!1;return!0}(r,e);default:return Ct()}var a}function Zu(r,e){return void 0!==(r.values||[]).find(t=>Ks(t,e))}function na(r,e){if(r===e)return 0;const t=Wa(r),s=Wa(e);if(t!==s)return Ut(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,e.booleanValue);case 2:return function(a,l){const f=ci(a.integerValue||a.doubleValue),b=ci(l.integerValue||l.doubleValue);return f<b?-1:f>b?1:f===b?0:isNaN(f)?isNaN(b)?0:-1:1}(r,e);case 3:return Ld(r.timestampValue,e.timestampValue);case 4:return Ld(Mu(r),Mu(e));case 5:return Ut(r.stringValue,e.stringValue);case 6:return function(a,l){const f=Zi(a),b=Zi(l);return f.compareTo(b)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),b=l.split("/");for(let M=0;M<f.length&&M<b.length;M++){const U=Ut(f[M],b[M]);if(0!==U)return U}return Ut(f.length,b.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const f=Ut(ci(a.latitude),ci(l.latitude));return 0!==f?f:Ut(ci(a.longitude),ci(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],b=l.values||[];for(let M=0;M<f.length&&M<b.length;++M){const U=na(f[M],b[M]);if(U)return U}return Ut(f.length,b.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===ta_mapValue&&l===ta_mapValue)return 0;if(a===ta_mapValue)return 1;if(l===ta_mapValue)return-1;const f=a.fields||{},b=Object.keys(f),M=l.fields||{},U=Object.keys(M);b.sort(),U.sort();for(let G=0;G<b.length&&G<U.length;++G){const se=Ut(b[G],U[G]);if(0!==se)return se;const Ne=na(f[b[G]],M[U[G]]);if(0!==Ne)return Ne}return Ut(b.length,U.length)}(r.mapValue,e.mapValue);default:throw Ct()}}function Ld(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Ut(r,e);const t=ea(r),s=ea(e),a=Ut(t.seconds,s.seconds);return 0!==a?a:Ut(t.nanos,s.nanos)}function Ea(r){return ku(r)}function ku(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=ea(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Zi(r.bytesValue).toBase64():"referenceValue"in r?Et.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",l=!0;for(const f of s.values||[])l?l=!1:a+=",",a+=ku(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",f=!0;for(const b of a)f?f=!1:l+=",",l+=`${b}:${ku(s.fields[b])}`;return l+"}"}(r.mapValue):Ct();var e}function mc(r){return!!r&&"integerValue"in r}function mu(r){return!!r&&"arrayValue"in r}function Xc(r){return!!r&&"nullValue"in r}function el(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qa(r){return!!r&&"mapValue"in r}function tl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Xo(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=tl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Bh(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Bi{constructor(e){this.value=e}static empty(){return new Bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!qa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=Mr.emptyPath(),s={},a=[];e.forEach((f,b)=>{if(!t.isImmediateParentOf(b)){const M=this.getFieldsMap(t);this.applyChanges(M,s,a),s={},a=[],t=b.popLast()}f?s[b.lastSegment()]=tl(f):a.push(b.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());qa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];qa(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Xo(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Bi(tl(this.value))}}class Gr{constructor(e,t,s,a,l,f,b){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=f,this.documentState=b}static newInvalidDocument(e){return new Gr(e,0,Jt.min(),Jt.min(),Jt.min(),Bi.empty(),0)}static newFoundDocument(e,t,s,a){return new Gr(e,1,t,Jt.min(),s,a,0)}static newNoDocument(e,t){return new Gr(e,2,t,Jt.min(),Jt.min(),Bi.empty(),0)}static newUnknownDocument(e,t){return new Gr(e,3,t,Jt.min(),Jt.min(),Bi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oo{constructor(e,t){this.position=e,this.inclusive=t}}function _c(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],f=r.position[a];if(s=l.field.isKeyField()?Et.comparator(Et.fromName(f.referenceValue),t.key):na(f,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return s}function ao(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ks(r.position[t],e.position[t]))return!1;return!0}class ra{constructor(e,t="asc"){this.field=e,this.dir=t}}function jl(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Pu{}class Qn extends Pu{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new vc(e,t,s):"array-contains"===t?new wc(e,s):"in"===t?new Hl(e,s):"not-in"===t?new Fd(e,s):"array-contains-any"===t?new sl(e,s):new Qn(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ia(e,s):new Fs(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(na(t,this.value)):null!==t&&Wa(this.value)===Wa(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Er extends Pu{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Er(e,t)}matches(e){return Nu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Nu(r){return"and"===r.op}function rl(r){return function Ka(r){for(const e of r.filters)if(e instanceof Er)return!1;return!0}(r)&&Nu(r)}function Ju(r){if(r instanceof Qn)return r.field.canonicalString()+r.op.toString()+Ea(r.value);if(rl(r))return r.filters.map(e=>Ju(e)).join(",");{const e=r.filters.map(t=>Ju(t)).join(",");return`${r.op}(${e})`}}function il(r,e){return r instanceof Qn?(t=r,(s=e)instanceof Qn&&t.op===s.op&&t.field.isEqual(s.field)&&Ks(t.value,s.value)):r instanceof Er?function(t,s){return s instanceof Er&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,l,f)=>a&&il(l,s.filters[f]),!0)}(r,e):void Ct();var t,s}function ia(r){return r instanceof Qn?`${(e=r).field.canonicalString()} ${e.op} ${Ea(e.value)}`:r instanceof Er?function(e){return e.op.toString()+" {"+e.getFilters().map(ia).join(" ,")+"}"}(r):"Filter";var e}class vc extends Qn{constructor(e,t,s){super(e,t,s),this.key=Et.fromName(s.referenceValue)}matches(e){const t=Et.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ia extends Qn{constructor(e,t){super(e,"in",t),this.keys=Xu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Fs extends Qn{constructor(e,t){super(e,"not-in",t),this.keys=Xu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Xu(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Et.fromName(s.referenceValue))}class wc extends Qn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mu(t)&&Zu(t.arrayValue,this.value)}}class Hl extends Qn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Zu(this.value.arrayValue,t)}}class Fd extends Qn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Zu(this.value.arrayValue,t)}}class sl extends Qn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Zu(this.value.arrayValue,s))}}class w{constructor(e,t=null,s=[],a=[],l=null,f=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=f,this.endAt=b,this.dt=null}}function I(r,e=null,t=[],s=[],a=null,l=null,f=null){return new w(r,e,t,s,a,l,f)}function k(r){const e=bt(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ju(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),$a(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ea(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ea(s)).join(",")),e.dt=t}return e.dt}function H(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!jl(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!il(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ao(r.startAt,e.startAt)&&ao(r.endAt,e.endAt)}function le(r){return Et.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class ft{constructor(e,t=null,s=[],a=[],l=null,f="F",b=null,M=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=f,this.startAt=b,this.endAt=M,this.wt=null,this._t=null}}function dn(r){return new ft(r)}function wn(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Po(r){const e=bt(r);if(null===e.wt){e.wt=[];const t=function $i(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),s=function Zs(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new ra(t)),e.wt.push(new ra(Mr.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ra(Mr.keyField(),l))}}}return e.wt}function Mi(r){const e=bt(r);if(!e._t)if("F"===e.limitType)e._t=I(e.path,e.collectionGroup,Po(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Po(e))t.push(new ra(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new oo(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new oo(e.startAt.position,e.startAt.inclusive):null;e._t=I(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Ms(r,e,t){return new ft(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Za(r,e){return H(Mi(r),Mi(e))&&r.limitType===e.limitType}function Ud(r){return`${k(Mi(r))}|lt:${r.limitType}`}function Vd(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>ia(s)).join(", ")}]`),$a(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ea(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ea(s)).join(",")),`Target(${t})`}(Mi(r))}; limitType=${r.limitType})`}function Ou(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Et.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of Po(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,l,f){const b=_c(a,l,f);return a.inclusive?b<=0:b<0}(t.startAt,Po(t),s)||t.endAt&&!function(a,l,f){const b=_c(a,l,f);return a.inclusive?b>=0:b>0}(t.endAt,Po(t),s)));var t,s}function jh(r){return(e,t)=>{let s=!1;for(const a of Po(r)){const l=Bd(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function Bd(r,e,t){const s=r.field.isKeyField()?Et.comparator(e.key,t.key):function(a,l,f){const b=l.data.field(a),M=f.data.field(a);return null!==b&&null!==M?na(b,M):Ct()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ct()}}class Lu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return function gu(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const tp=new Yr(Et.comparator);function No(){return tp}const zl=new Yr(Et.comparator);function Ec(...r){let e=zl;for(const t of r)e=e.insert(t.key,t);return e}function Hh(r){let e=zl;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Io(){return Fu()}function $d(){return Fu()}function Fu(){return new Lu(r=>r.toString(),(r,e)=>r.isEqual(e))}new Yr(Et.comparator);const Hd=new Hr(Et.comparator);function Cn(...r){let e=Hd;for(const t of r)e=e.add(t);return e}const Gh=new Hr(Ut);class ql{constructor(){this._=void 0}}function rp(r,e,t){return r instanceof yu?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Ku(a)&&(a=Yu(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):r instanceof ec?tc(r,e):r instanceof Qa?zd(r,e):function(s,a){const l=function ol(r,e){return r instanceof nc?mc(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}(s,a),f=Wd(l)+Wd(s.gt);return mc(l)&&mc(s.gt)?function np(r){return{integerValue:""+r}}(f):function zh(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(e)?"-0":e}}(s.serializer,f)}(r,e)}function Gd(r,e,t){return r instanceof ec?tc(r,e):r instanceof Qa?zd(r,e):t}class yu extends ql{}class ec extends ql{constructor(e){super(),this.elements=e}}function tc(r,e){const t=Kl(e);for(const s of r.elements)t.some(a=>Ks(a,s))||t.push(s);return{arrayValue:{values:t}}}class Qa extends ql{constructor(e){super(),this.elements=e}}function zd(r,e){let t=Kl(e);for(const s of r.elements)t=t.filter(a=>!Ks(a,s));return{arrayValue:{values:t}}}class nc extends ql{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Wd(r){return ci(r.integerValue||r.doubleValue)}function Kl(r){return mu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ki{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Kd{}function Yd(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Dc(r.key,ki.none()):new al(r.key,r.data,ki.none());{const t=r.data,s=Bi.empty();let a=new Hr(Mr.comparator);for(let l of e.fields)if(!a.has(l)){let f=t.field(l);null===f&&l.length>1&&(l=l.popLast(),f=t.field(l)),null===f?s.delete(l):s.set(l,f),a=a.add(l)}return new rc(r.key,s,new xs(a.toArray()),ki.none())}}function Zd(r,e,t){r instanceof al?function(s,a,l){const f=s.value.clone(),b=Qd(s.fieldTransforms,a,l.transformResults);f.setAll(b),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(r,e,t):r instanceof rc?function(s,a,l){if(!qd(s.precondition,a))return void a.convertToUnknownDocument(l.version);const f=Qd(s.fieldTransforms,a,l.transformResults),b=a.data;b.setAll(op(s)),b.setAll(f),a.convertToFoundDocument(l.version,b).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bc(r,e,t,s){return r instanceof al?function(a,l,f,b){if(!qd(a.precondition,l))return f;const M=a.value.clone(),U=ap(a.fieldTransforms,b,l);return M.setAll(U),l.convertToFoundDocument(l.version,M).setHasLocalMutations(),null}(r,e,t,s):r instanceof rc?function(a,l,f,b){if(!qd(a.precondition,l))return f;const M=ap(a.fieldTransforms,b,l),U=l.data;return U.setAll(op(a)),U.setAll(M),l.convertToFoundDocument(l.version,U).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(G=>G.field))}(r,e,t,s):(f=t,qd(r.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function sp(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&ya(t,s,(a,l)=>function nm(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof ec&&s instanceof ec||t instanceof Qa&&s instanceof Qa?ya(t.elements,s.elements,Ks):t instanceof nc&&s instanceof nc?Ks(t.gt,s.gt):t instanceof yu&&s instanceof yu);var t,s}(a,l))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class al extends Kd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class rc extends Kd{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function op(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Qd(r,e,t){const s=new Map;Zt(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],f=l.transform,b=e.data.field(l.field);s.set(l.field,Gd(f,b,t[a]))}return s}function ap(r,e,t){const s=new Map;for(const a of r){const l=a.transform,f=t.data.field(a.field);s.set(a.field,rp(l,f,e))}return s}class Dc extends Kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yl{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Zd(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=bc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=bc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=$d();return this.mutations.forEach(a=>{const l=e.get(a.key),f=l.overlayedDocument;let b=this.applyToLocalView(f,l.mutatedFields);b=t.has(a.key)?null:b;const M=Yd(f,b);null!==M&&s.set(a.key,M),f.isValidDocument()||f.convertToNoDocument(Jt.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(t,s)=>sp(t,s))&&ya(this.baseMutations,e.baseMutations,(t,s)=>sp(t,s))}}class Xd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Es,Cr;function lp(r){if(void 0===r)return ui("GRPC error has no .code"),Be.UNKNOWN;switch(r){case Es.OK:return Be.OK;case Es.CANCELLED:return Be.CANCELLED;case Es.UNKNOWN:return Be.UNKNOWN;case Es.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case Es.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case Es.INTERNAL:return Be.INTERNAL;case Es.UNAVAILABLE:return Be.UNAVAILABLE;case Es.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case Es.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case Es.NOT_FOUND:return Be.NOT_FOUND;case Es.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case Es.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case Es.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case Es.ABORTED:return Be.ABORTED;case Es.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case Es.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case Es.DATA_LOSS:return Be.DATA_LOSS;default:return Ct()}}(Cr=Es||(Es={}))[Cr.OK=0]="OK",Cr[Cr.CANCELLED=1]="CANCELLED",Cr[Cr.UNKNOWN=2]="UNKNOWN",Cr[Cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cr[Cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cr[Cr.NOT_FOUND=5]="NOT_FOUND",Cr[Cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cr[Cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cr[Cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cr[Cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cr[Cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cr[Cr.ABORTED=10]="ABORTED",Cr[Cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cr[Cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cr[Cr.INTERNAL=13]="INTERNAL",Cr[Cr.UNAVAILABLE=14]="UNAVAILABLE",Cr[Cr.DATA_LOSS=15]="DATA_LOSS";class Wh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ba}static getOrCreateInstance(){return null===ba&&(ba=new Wh),ba}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ba=null;const rm=new ss([4294967295,4294967295],0);function dp(r){const e=function Sc(){return new TextEncoder}().encode(r),t=new wi;return t.update(e),new Uint8Array(t.digest())}function hp(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ss([t,s],0),new ss([a,l],0)]}class qh{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Zl(`Invalid padding: ${t}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Zl(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Zl(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ss.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(ss.fromNumber(s)));return 1===a.compare(rm)&&(a=new ss([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=dp(e),[s,a]=hp(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,a,l);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new qh(l,a,t);return s.forEach(b=>f.insert(b)),f}insert(e){if(0===this.It)return;const t=dp(e),[s,a]=hp(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,a,l);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ql{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,cl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ql(Jt.min(),a,new Yr(Ut),No(),Cn())}}class cl{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new cl(s,t,Cn(),Cn(),Cn())}}class eh{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class fp{constructor(e,t){this.targetId=e,this.Vt=t}}class pp{constructor(e,t,s=Dr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class gp{constructor(){this.St=0,this.Dt=ll(),this.Ct=Dr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Cn(),t=Cn(),s=Cn();return this.Dt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ct()}}),new cl(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=ll()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class th{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=No(),this.zt=_u(),this.Wt=new Yr(Ut)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,l=this.se(s);if(l){const f=l.target;if(le(f))if(0===a){const b=new Et(f.path);this.Yt(s,b,Gr.newNoDocument(b,Jt.min()))}else Zt(1===a);else{const b=this.ie(s);if(b!==a){const M=this.re(e,b);0!==M&&(this.ee(s),this.Wt=this.Wt.insert(s,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Wh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(U,G,se){var Ne,Ye,mt,Vt,Ht,Yn;const Sr={localCacheCount:G,existenceFilterCount:se.count},ir=se.unchangedNames;return ir&&(Sr.bloomFilter={applied:0===U,hashCount:null!==(Ne=ir?.hashCount)&&void 0!==Ne?Ne:0,bitmapLength:null!==(Vt=null===(mt=null===(Ye=ir?.bits)||void 0===Ye?void 0:Ye.bitmap)||void 0===mt?void 0:mt.length)&&void 0!==Vt?Vt:0,padding:null!==(Yn=null===(Ht=ir?.bits)||void 0===Ht?void 0:Ht.padding)&&void 0!==Yn?Yn:0}),Sr}(M,b,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:b=0}=s;let M,U;try{M=Zi(l).toUint8Array()}catch(G){if(G instanceof Ga)return os("Decoding the base64 bloom filter in existence filter failed ("+G.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw G}try{U=new qh(M,f,b)}catch(G){return os(G instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",G),1}return 0===U.It?1:a!==t-this.oe(e.targetId,U)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(l=>{const f=this.Gt.ue(),b=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;t.vt(b)||(this.Yt(e,l,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((l,f)=>{const b=this.se(f);if(b){if(l.current&&le(b.target)){const M=new Et(b.target.path);null!==this.jt.get(M)||this.ae(f,M)||this.Yt(f,M,Gr.newNoDocument(M,e))}l.Mt&&(t.set(f,l.Ot()),l.Ft())}});let s=Cn();this.zt.forEach((l,f)=>{let b=!0;f.forEachWhile(M=>{const U=this.se(M);return!U||"TargetPurposeLimboResolution"===U.purpose||(b=!1,!1)}),b&&(s=s.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const a=new Ql(e,t,this.Wt,this.jt,s);return this.jt=No(),this.zt=_u(),this.Wt=new Yr(Ut),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new gp,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Hr(Ut),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||st("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new gp),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function _u(){return new Yr(Et.comparator)}function ll(){return new Yr(Et.comparator)}const mp={asc:"ASCENDING",desc:"DESCENDING"},yp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_p={and:"AND",or:"OR"};class a_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(r,e){return r.useProto3Json||$a(e)?e:{value:e}}function Is(r){return Zt(!!r),Jt.fromTimestamp(function(e){const t=ea(e);return new ti(t.seconds,t.nanos)}(r))}function Yh(r){const e=Hn.fromString(r);return Zt(dl(e)),e}function d(r,e){const t=Yh(e);if(t.get(1)!==r.databaseId.projectId)throw new tt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new tt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Et(V(t))}function p(r,e){return function wp(r,e){return(t=r,new Hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(r.databaseId,e)}function L(r){return new Hn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function V(r){return Zt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function yr(r,e){return{documents:[p(r,e.path)]}}function ls(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=p(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=p(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(M){if(0!==M.length)return Xl(Er.create(M,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(M){if(0!==M.length)return M.map(U=>{return{field:Lo((G=U).field),direction:Zh(G.dir)};var G})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=vp(r,e.limit);var b,M;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(M=e.endAt).inclusive,values:M.position}),t}function uo(r){let e=function E(r){const e=Yh(r);return 4===e.length?Hn.emptyPath():V(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Zt(1===s);const G=t.from[0];G.allDescendants?a=G.collectionId:e=e.child(G.collectionId)}let l=[];t.where&&(l=function(G){const se=Ta(G);return se instanceof Er&&rl(se)?se.getFilters():[se]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(G=>{return new ra(Ja((se=G).field),function(Ne){switch(Ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(se.direction));var se}));let b=null;t.limit&&(b=function(G){let se;return se="object"==typeof G?G.value:G,$a(se)?null:se}(t.limit));let M=null;var G;t.startAt&&(M=new oo((G=t.startAt).values||[],!!G.before));let U=null;return t.endAt&&(U=function(G){return new oo(G.values||[],!G.before)}(t.endAt)),function zt(r,e,t,s,a,l,f,b){return new ft(r,e,t,s,a,l,f,b)}(e,a,f,l,b,"F",M,U)}function Ta(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ja(e.unaryFilter.field);return Qn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Ja(e.unaryFilter.field);return Qn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ja(e.unaryFilter.field);return Qn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ja(e.unaryFilter.field);return Qn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ct()}}(r):void 0!==r.fieldFilter?Qn.create(Ja((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ct()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Er.create(e.compositeFilter.filters.map(t=>Ta(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ct()}}(e.compositeFilter.op))}(r):Ct();var e}function Zh(r){return mp[r]}function Qh(r){return yp[r]}function Ep(r){return _p[r]}function Lo(r){return{fieldPath:r.canonicalString()}}function Ja(r){return Mr.fromServerFormat(r.fieldPath)}function Xl(r){return r instanceof Qn?function(e){if("=="===e.op){if(el(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NAN"}};if(Xc(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(el(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NAN"}};if(Xc(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(e.field),op:Qh(e.op),value:e.value}}}(r):r instanceof Er?function(e){const t=e.getFilters().map(s=>Xl(s));return 1===t.length?t[0]:{compositeFilter:{op:Ep(e.op),filters:t}}}(r):Ct()}function dl(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class vu{constructor(e,t,s,a,l=Jt.min(),f=Jt.min(),b=Dr.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=b,this.expectedCount=M}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ip{constructor(e){this.fe=e}}function Tp(r){const e=uo({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Ms(e,e.limit,"L"):e}class pl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ci(e.integerValue));else if("doubleValue"in e){const s=ci(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),pu(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Zi(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?Bh(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ct()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),Et.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}pl.Ve=new pl;class Uw{constructor(){this.rn=new tf}addToCollectionParentIndex(e,t){return this.rn.add(t),Pe.resolve()}getCollectionParents(e,t){return Pe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Pe.resolve()}deleteFieldIndex(e,t){return Pe.resolve()}getDocumentsMatchingTarget(e,t){return Pe.resolve(null)}getIndexType(e,t){return Pe.resolve(0)}getFieldIndexes(e,t){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,t){return Pe.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,t){return Pe.resolve(qs.min())}updateCollectionGroup(e,t,s){return Pe.resolve()}updateIndexEntries(e,t){return Pe.resolve()}}class tf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Hr(Hn.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Hr(Hn.comparator)).toArray()}}new Uint8Array(0);class Qs{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Qs(e,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Qs.DEFAULT_COLLECTION_PERCENTILE=10,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qs.DEFAULT=new Qs(41943040,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qs.DISABLED=new Qs(-1,0,0);class yl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new yl(0)}static Mn(){return new yl(-1)}}class g_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wm{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&bc(s.mutation,a,xs.empty(),ti.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Cn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Cn()){const a=Io();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let f=Ec();return l.forEach((b,M)=>{f=f.insert(b,M.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Io();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Cn()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((f,b)=>{t.set(f,b)})})}computeViews(e,t,s,a){let l=No();const f=Fu(),b=Fu();return t.forEach((M,U)=>{const G=s.get(U.key);a.has(U.key)&&(void 0===G||G.mutation instanceof rc)?l=l.insert(U.key,U):void 0!==G?(f.set(U.key,G.mutation.getFieldMask()),bc(G.mutation,U,G.mutation.getFieldMask(),ti.now())):f.set(U.key,xs.empty())}),this.recalculateAndSaveOverlays(e,l).next(M=>(M.forEach((U,G)=>f.set(U,G)),t.forEach((U,G)=>{var se;return b.set(U,new g_(G,null!==(se=f.get(U))&&void 0!==se?se:null))}),b))}recalculateAndSaveOverlays(e,t){const s=Fu();let a=new Yr((f,b)=>f-b),l=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const b of f)b.keys().forEach(M=>{const U=t.get(M);if(null===U)return;let G=s.get(M)||xs.empty();G=b.applyToLocalView(U,G),s.set(M,G);const se=(a.get(b.batchId)||Cn()).add(M);a=a.insert(b.batchId,se)})}).next(()=>{const f=[],b=a.getReverseIterator();for(;b.hasNext();){const M=b.getNext(),U=M.key,G=M.value,se=$d();G.forEach(Ne=>{if(!l.has(Ne)){const Ye=Yd(t.get(Ne),s.get(Ne));null!==Ye&&se.set(Ne,Ye),l=l.add(Ne)}}),f.push(this.documentOverlayCache.saveOverlays(e,U,se))}return Pe.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Et.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Ya(r){return null!==r.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const f=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):Pe.resolve(Io());let b=-1,M=l;return f.next(U=>Pe.forEach(U,(G,se)=>(b<se.largestBatchId&&(b=se.largestBatchId),l.get(G)?Pe.resolve():this.remoteDocumentCache.getEntry(e,G).next(Ne=>{M=M.insert(G,Ne)}))).next(()=>this.populateOverlays(e,U,l)).next(()=>this.computeViews(e,M,U,Cn())).next(G=>({batchId:b,changes:Hh(G)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Et(t)).next(s=>{let a=Ec();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let l=Ec();return this.indexManager.getCollectionParents(e,a).next(f=>Pe.forEach(f,b=>{const M=(U=t,G=b.child(a),new ft(G,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,G;return this.getDocumentsMatchingCollectionQuery(e,M,s).next(U=>{U.forEach((G,se)=>{l=l.insert(G,se)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(l=>{a.forEach((b,M)=>{const U=M.getKey();null===l.get(U)&&(l=l.insert(U,Gr.newInvalidDocument(U)))});let f=Ec();return l.forEach((b,M)=>{const U=a.get(b);void 0!==U&&bc(U.mutation,M,xs.empty(),ti.now()),Ou(t,M)&&(f=f.insert(b,M))}),f})}}class Em{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Pe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Is(s.createTime)}),Pe.resolve()}getNamedQuery(e,t){return Pe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Tp(s.bundledQuery),readTime:Is(s.readTime)}),Pe.resolve();var s}}class m_{constructor(){this.overlays=new Yr(Et.comparator),this.ls=new Map}getOverlay(e,t){return Pe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Io();return Pe.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.we(e,t,l)}),Pe.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(s)),Pe.resolve()}getOverlaysForCollection(e,t,s){const a=Io(),l=t.length+1,f=new Et(t.child("")),b=this.overlays.getIteratorFrom(f);for(;b.hasNext();){const M=b.getNext().value,U=M.getKey();if(!t.isPrefixOf(U.path))break;U.path.length===l&&M.largestBatchId>s&&a.set(M.getKey(),M)}return Pe.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Yr((U,G)=>U-G);const f=this.overlays.getIterator();for(;f.hasNext();){const U=f.getNext().value;if(U.getKey().getCollectionGroup()===t&&U.largestBatchId>s){let G=l.get(U.largestBatchId);null===G&&(G=Io(),l=l.insert(U.largestBatchId,G)),G.set(U.getKey(),U)}}const b=Io(),M=l.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((U,G)=>b.set(U,G)),!(b.size()>=a)););return Pe.resolve(b)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Xd(t,s));let l=this.ls.get(t);void 0===l&&(l=Cn(),this.ls.set(t,l)),this.ls.set(t,l.add(s.key))}}class Mp{constructor(){this.fs=new Hr(Js.ds),this.ws=new Hr(Js._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Js(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Js(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new Et(new Hn([])),s=new Js(t,e),a=new Js(t,e+1),l=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Et(new Hn([])),s=new Js(t,e),a=new Js(t,e+1);let l=Cn();return this.ws.forEachInRange([s,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new Js(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Js{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Et.comparator(e.key,t.key)||Ut(e.As,t.As)}static _s(e,t){return Ut(e.As,t.As)||Et.comparator(e.key,t.key)}}class Gn{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Hr(Js.ds)}checkEmpty(e){return Pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const l=this.vs;this.vs++;const f=new Yl(l,t,s,a);this.mutationQueue.push(f);for(const b of a)this.Rs=this.Rs.add(new Js(b.key,l)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Pe.resolve(f)}lookupMutationBatch(e,t){return Pe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),l=a<0?0:a;return Pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Js(t,0),a=new Js(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([s,a],f=>{const b=this.Ps(f.As);l.push(b)}),Pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Hr(Ut);return t.forEach(a=>{const l=new Js(a,0),f=new Js(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],b=>{s=s.add(b.As)})}),Pe.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Et.isDocumentKey(l)||(l=l.child(""));const f=new Js(new Et(l),0);let b=new Hr(Ut);return this.Rs.forEachWhile(M=>{const U=M.key.path;return!!s.isPrefixOf(U)&&(U.length===a&&(b=b.add(M.As)),!0)},f),Pe.resolve(this.Vs(b))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Zt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Pe.forEach(t.mutations,a=>{const l=new Js(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Js(t,0),a=this.Rs.firstAfterOrEqual(s);return Pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Pe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Im{constructor(e){this.Ds=e,this.docs=new Yr(Et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Pe.resolve(s?s.document.mutableCopy():Gr.newInvalidDocument(t))}getEntries(e,t){let s=No();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Gr.newInvalidDocument(a))}),Pe.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=No();const f=t.path,b=new Et(f.child("")),M=this.docs.getIteratorFrom(b);for(;M.hasNext();){const{key:U,value:{document:G}}=M.getNext();if(!f.isPrefixOf(U.path))break;U.path.length>f.length+1||Bl(zu(G),s)<=0||(a.has(G.key)||Ou(t,G))&&(l=l.insert(G.key,G.mutableCopy()))}return Pe.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Ct()}Cs(e,t){return Pe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new bm(this)}getSize(e){return Pe.resolve(this.size)}}class bm extends class f_{constructor(){this.changes=new Lu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Pe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Pe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Tm{constructor(e){this.persistence=e,this.xs=new Lu(t=>k(t),H),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Mp,this.targetCount=0,this.Ms=yl.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Pe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new yl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Pe.resolve()}updateTargetData(e,t){return this.Fn(t),Pe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.xs.forEach((f,b)=>{b.sequenceNumber<=t&&null===s.get(b.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),Pe.waitFor(l).next(()=>a)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Pe.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Pe.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),Pe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Pe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Pe.resolve(s)}containsKey(e,t){return Pe.resolve(this.ks.containsKey(t))}}class kp{constructor(e,t){this.$s={},this.overlays={},this.Os=new ws(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Tm(this),this.indexManager=new Uw,this.remoteDocumentCache=new Im(s=>this.referenceDelegate.Ls(s)),this.serializer=new Ip(t),this.qs=new Em(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Gn(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){st("MemoryPersistence","Starting transaction:",e);const a=new y_(this.Os.next());return this.referenceDelegate.Us(),s(a).next(l=>this.referenceDelegate.Ks(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Gs(e,t){return Pe.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class y_ extends class Nd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class lh{constructor(e){this.persistence=e,this.Qs=new Mp,this.js=null}static zs(e){return new lh(e)}get Ws(){if(this.js)return this.js;throw Ct()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Pe.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Pe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Pe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ws.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.Ws,s=>{const a=Et.fromPath(s);return this.Hs(e,a).next(l=>{l||t.removeEntry(a,Jt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Pe.or([()=>Pe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Np{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=Cn(),a=Cn();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Np(e,t.fromCache,s,a)}}class cf{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(l=>l||this.Gi(e,t,a,s)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(wn(t))return Pe.resolve(null);let s=Mi(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Ms(t,null,"F"),s=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const f=Cn(...l);return this.Ui.getDocuments(e,f).next(b=>this.indexManager.getMinOffset(e,s).next(M=>{const U=this.ji(t,b);return this.zi(t,U,f,M.readTime)?this.Ki(e,Ms(t,null,"F")):this.Wi(e,U,t,M)}))})))}Gi(e,t,s,a){return wn(t)||a.isEqual(Jt.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(l=>{const f=this.ji(t,l);return this.zi(t,f,s,a)?this.Qi(e,t):(io()<=K.in.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vd(t)),this.Wi(e,f,t,function Vl(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Jt.fromTimestamp(1e9===s?new ti(t+1,0):new ti(t,s));return new qs(a,Et.empty(),e)}(a,-1)))})}ji(e,t){let s=new Hr(jh(e));return t.forEach((a,l)=>{Ou(e,l)&&(s=s.add(l))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Qi(e,t){return io()<=K.in.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Vd(t)),this.Ui.getDocumentsMatchingQuery(e,t,qs.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class Op{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Yr(Ut),this.Yi=new Lu(l=>k(l),H),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function __(r,e){return xm.apply(this,arguments)}function xm(){return xm=(0,De.Z)(function*(r,e){const t=bt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const f=[],b=[];let M=Cn();for(const U of a){f.push(U.batchId);for(const G of U.mutations)M=M.add(G.key)}for(const U of l){b.push(U.batchId);for(const G of U.mutations)M=M.add(G.key)}return t.localDocuments.getDocuments(s,M).next(U=>({er:U,removedBatchIds:f,addedBatchIds:b}))})})}),xm.apply(this,arguments)}function Rm(r){const e=bt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Mm(r,e){const t=bt(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const b=[];e.targetChanges.forEach((G,se)=>{const Ne=a.get(se);if(!Ne)return;b.push(t.Bs.removeMatchingKeys(l,G.removedDocuments,se).next(()=>t.Bs.addMatchingKeys(l,G.addedDocuments,se)));let Ye=Ne.withSequenceNumber(l.currentSequenceNumber);var mt,Vt,Ht;null!==e.targetMismatches.get(se)?Ye=Ye.withResumeToken(Dr.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):G.resumeToken.approximateByteSize()>0&&(Ye=Ye.withResumeToken(G.resumeToken,s)),a=a.insert(se,Ye),Vt=Ye,Ht=G,(0===(mt=Ne).resumeToken.approximateByteSize()||Vt.snapshotVersion.toMicroseconds()-mt.snapshotVersion.toMicroseconds()>=3e8||Ht.addedDocuments.size+Ht.modifiedDocuments.size+Ht.removedDocuments.size>0)&&b.push(t.Bs.updateTargetData(l,Ye))});let M=No(),U=Cn();if(e.documentUpdates.forEach(G=>{e.resolvedLimboDocuments.has(G)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(l,G))}),b.push(function v_(r,e,t){let s=Cn(),a=Cn();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let f=No();return t.forEach((b,M)=>{const U=l.get(b);M.isFoundDocument()!==U.isFoundDocument()&&(a=a.add(b)),M.isNoDocument()&&M.version.isEqual(Jt.min())?(e.removeEntry(b,M.readTime),f=f.insert(b,M)):!U.isValidDocument()||M.version.compareTo(U.version)>0||0===M.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(M),f=f.insert(b,M)):st("LocalStore","Ignoring outdated watch update for ",b,". Current version:",U.version," Watch version:",M.version)}),{nr:f,sr:a}})}(l,f,e.documentUpdates).next(G=>{M=G.nr,U=G.sr})),!s.isEqual(Jt.min())){const G=t.Bs.getLastRemoteSnapshotVersion(l).next(se=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,s));b.push(G)}return Pe.waitFor(b).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,M,U)).next(()=>M)}).then(l=>(t.Ji=a,l))}function wu(r,e){const t=bt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(l=>l?(a=l,Pe.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new vu(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function ld(r,e,t){return lf.apply(this,arguments)}function lf(){return lf=(0,De.Z)(function*(r,e,t){const s=bt(r),a=s.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Ba(f))throw f;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),lf.apply(this,arguments)}function vl(r,e,t){const s=bt(r);let a=Jt.min(),l=Cn();return s.persistence.runTransaction("Execute query","readonly",f=>function(b,M,U){const G=bt(b),se=G.Yi.get(U);return void 0!==se?Pe.resolve(G.Ji.get(se)):G.Bs.getTargetData(M,U)}(s,f,Mi(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,b.targetId).next(M=>{l=M})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:Jt.min(),t?l:Cn())).next(b=>(function Pm(r,e,t){let s=r.Xi.get(e)||Jt.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Xi.set(e,s)}(s,function Gl(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),b),{documents:b,ir:l})))}class $p{constructor(){this.activeTargetIds=function Wl(){return Gh}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class El{constructor(){this.Hr=new $p,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new $p,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lm{Yr(e){}shutdown(){}}class jp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Il=null;function Da(){return null===Il?Il=268435456+Math.round(2147483648*Math.random()):Il++,"0x"+Il.toString(16)}const Fm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Xs="WebChannelConnection";class oc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,l){const f=Da(),b=this.To(e,t);st("RestConnection",`Sending RPC '${e}' ${f}:`,b,s);const M={};return this.Eo(M,a,l),this.Ao(e,b,M,s).then(U=>(st("RestConnection",`Received RPC '${e}' ${f}: `,U),U),U=>{throw os("RestConnection",`RPC '${e}' ${f} failed with error: `,U,"url: ",b,"request:",s),U})}vo(e,t,s,a,l,f){return this.Io(e,t,s,a,l)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ki,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}To(e,t){return`${this.mo}/v1/${t}:${Fm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const l=Da();return new Promise((f,b)=>{const M=new Kn;M.setWithCredentials(!0),M.listenOnce(qn.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Gt.NO_ERROR:const G=M.getResponseJson();st(Xs,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(G)),f(G);break;case Gt.TIMEOUT:st(Xs,`RPC '${e}' ${l} timed out`),b(new tt(Be.DEADLINE_EXCEEDED,"Request time out"));break;case Gt.HTTP_ERROR:const se=M.getStatus();if(st(Xs,`RPC '${e}' ${l} failed with status:`,se,"response text:",M.getResponseText()),se>0){let Ne=M.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const Ye=Ne?.error;if(Ye&&Ye.status&&Ye.message){const mt=function(Vt){const Ht=Vt.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(Ht)>=0?Ht:Be.UNKNOWN}(Ye.status);b(new tt(mt,Ye.message))}else b(new tt(Be.UNKNOWN,"Server responded with status "+M.getStatus()))}else b(new tt(Be.UNAVAILABLE,"Connection failed."));break;default:Ct()}}finally{st(Xs,`RPC '${e}' ${l} completed.`)}});const U=JSON.stringify(a);st(Xs,`RPC '${e}' ${l} sending request:`,a),M.send(t,"POST",U,s,15)})}Ro(e,t,s){const a=Da(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Ve(),b=Je(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(M.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(M.xmlHttpFactory=new Nn({})),this.Eo(M.initMessageHeaders,t,s),M.encodeInitMessageHeaders=!0;const G=l.join("");st(Xs,`Creating RPC '${e}' stream ${a}: ${G}`,M);const se=f.createWebChannel(G,M);let Ne=!1,Ye=!1;const mt=new b_({ro:Ht=>{Ye?st(Xs,`Not sending because RPC '${e}' stream ${a} is closed:`,Ht):(Ne||(st(Xs,`Opening RPC '${e}' stream ${a} transport.`),se.open(),Ne=!0),st(Xs,`RPC '${e}' stream ${a} sending:`,Ht),se.send(Ht))},oo:()=>se.close()}),Vt=(Ht,Yn,Sr)=>{Ht.listen(Yn,ir=>{try{Sr(ir)}catch(Us){setTimeout(()=>{throw Us},0)}})};return Vt(se,Xr.EventType.OPEN,()=>{Ye||st(Xs,`RPC '${e}' stream ${a} transport opened.`)}),Vt(se,Xr.EventType.CLOSE,()=>{Ye||(Ye=!0,st(Xs,`RPC '${e}' stream ${a} transport closed`),mt.wo())}),Vt(se,Xr.EventType.ERROR,Ht=>{Ye||(Ye=!0,os(Xs,`RPC '${e}' stream ${a} transport errored:`,Ht),mt.wo(new tt(Be.UNAVAILABLE,"The operation could not be completed")))}),Vt(se,Xr.EventType.MESSAGE,Ht=>{var Yn;if(!Ye){const Sr=Ht.data[0];Zt(!!Sr);const ir=Sr,Us=ir.error||(null===(Yn=ir[0])||void 0===Yn?void 0:Yn.error);if(Us){st(Xs,`RPC '${e}' stream ${a} received error:`,Us);const Ns=Us.status;let Pi=function(Ll){const Zy=Es[Ll];if(void 0!==Zy)return lp(Zy)}(Ns),ca=Us.message;void 0===Pi&&(Pi=Be.INTERNAL,ca="Unknown error status: "+Ns+" with message "+Us.message),Ye=!0,mt.wo(new tt(Pi,ca)),se.close()}else st(Xs,`RPC '${e}' stream ${a} received:`,Sr),mt._o(Sr)}}),Vt(b,wr.STAT_EVENT,Ht=>{Ht.stat===rr.PROXY?st(Xs,`RPC '${e}' stream ${a} detected buffering proxy`):Ht.stat===rr.NOPROXY&&st(Xs,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{mt.fo()},0),mt}}function ph(){return typeof document<"u"?document:null}function bl(r){return new a_(r,!0)}class Um{constructor(e,t,s=1e3,a=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&st("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Hw extends class Vm{constructor(e,t,s,a,l,f,b,M){this.ii=e,this.$o=s,this.Oo=a,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=b,this.listener=M,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Um(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,De.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,De.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,De.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===Be.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===Be.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new tt(Be.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,De.Z)(function*(){e.state=0,e.start()}))}tu(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,t,s,a,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function ze(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(M=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===M?1:"REMOVE"===M?2:"CURRENT"===M?3:"RESET"===M?4:Ct(),a=e.targetChange.targetIds||[],l=function(M,U){return M.useProto3Json?(Zt(void 0===U||"string"==typeof U),Dr.fromBase64String(U||"")):(Zt(void 0===U||U instanceof Uint8Array),Dr.fromUint8Array(U||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,b=f&&function(M){const U=void 0===M.code?Be.UNKNOWN:lp(M.code);return new tt(U,M.message||"")}(f);t=new pp(s,a,l,b||null)}else if("documentChange"in e){const s=e.documentChange,a=d(r,s.document.name),l=Is(s.document.updateTime),f=s.document.createTime?Is(s.document.createTime):Jt.min(),b=new Bi({mapValue:{fields:s.document.fields}}),M=Gr.newFoundDocument(a,l,f,b);t=new eh(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const s=e.documentDelete,a=d(r,s.document),l=s.readTime?Is(s.readTime):Jt.min(),f=Gr.newNoDocument(a,l);t=new eh([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=d(r,s.document);t=new eh([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Ct();{const s=e.filter,{count:a=0,unchangedNames:l}=s,f=new Cc(a,l);t=new fp(s.targetId,f)}}var M;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Jt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Jt.min():l.readTime?Is(l.readTime):Jt.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=L(this.serializer),t.addTarget=function(a,l){let f;const b=l.target;if(f=le(b)?{documents:yr(a,b)}:{query:ls(a,b)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=function nh(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}(a,l.resumeToken);const M=vp(a,l.expectedCount);null!==M&&(f.expectedCount=M)}else if(l.snapshotVersion.compareTo(Jt.min())>0){f.readTime=function Jl(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(a,l.snapshotVersion.toTimestamp());const M=vp(a,l.expectedCount);null!==M&&(f.expectedCount=M)}return f}(this.serializer,e);const s=function Oo(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=L(this.serializer),t.removeTarget=e,this.Wo(t)}}class pf extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new tt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Io(e,t,s,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Be.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,t,s,l,f,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new tt(Be.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class Gp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ui(t),this.mu=!1):st("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Gw{constructor(e,t,s,a,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(b=>{s.enqueueAndForget((0,De.Z)(function*(){var M;Nc(f)&&(st("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,De.Z)(function*(U){const G=bt(U);G.vu.add(4),yield dd(G),G.bu.set("Unknown"),G.vu.delete(4),yield mh(G)}),function(U){return M.apply(this,arguments)})(f))}))}),this.bu=new Gp(s,a)}}function mh(r){return zp.apply(this,arguments)}function zp(){return zp=(0,De.Z)(function*(r){if(Nc(r))for(const e of r.Ru)yield e(!0)}),zp.apply(this,arguments)}function dd(r){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,De.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),Wp.apply(this,arguments)}function yh(r,e){const t=bt(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),yf(t)?mf(t):Lc(t).Ko()&&qp(t,e))}function gf(r,e){const t=bt(r),s=Lc(t);t.Au.delete(e),s.Ko()&&T_(t,e),0===t.Au.size&&(s.Ko()?s.jo():Nc(t)&&t.bu.set("Unknown"))}function qp(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Jt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lc(r).su(e)}function T_(r,e){r.Vu.qt(e),Lc(r).iu(e)}function mf(r){r.Vu=new th({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Lc(r).start(),r.bu.gu()}function yf(r){return Nc(r)&&!Lc(r).Uo()&&r.Au.size>0}function Nc(r){return 0===bt(r).vu.size}function _f(r){r.Vu=void 0}function zw(r){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,De.Z)(function*(r){r.Au.forEach((e,t)=>{qp(r,e)})}),Bm.apply(this,arguments)}function Ww(r,e){return $m.apply(this,arguments)}function $m(){return $m=(0,De.Z)(function*(r,e){_f(r),yf(r)?(r.bu.Iu(e),mf(r)):r.bu.set("Unknown")}),$m.apply(this,arguments)}function qw(r,e,t){return jm.apply(this,arguments)}function jm(){return jm=(0,De.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof pp&&2===e.state&&e.cause)try{yield(s=(0,De.Z)(function*(a,l){const f=l.cause;for(const b of l.targetIds)a.Au.has(b)&&(yield a.remoteSyncer.rejectListen(b,f),a.Au.delete(b),a.Vu.removeTarget(b))}),function(a,l){return s.apply(this,arguments)})(r,e)}catch(s){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Kp(r,s)}else if(e instanceof eh?r.Vu.Ht(e):e instanceof fp?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Jt.min()))try{const s=yield Rm(r.localStore);t.compareTo(s)>=0&&(yield function(a,l){const f=a.Vu.ce(l);return f.targetChanges.forEach((b,M)=>{if(b.resumeToken.approximateByteSize()>0){const U=a.Au.get(M);U&&a.Au.set(M,U.withResumeToken(b.resumeToken,l))}}),f.targetMismatches.forEach((b,M)=>{const U=a.Au.get(b);if(!U)return;a.Au.set(b,U.withResumeToken(Dr.EMPTY_BYTE_STRING,U.snapshotVersion)),T_(a,b);const G=new vu(U.target,b,M,U.sequenceNumber);qp(a,G)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){st("RemoteStore","Failed to raise snapshot:",s),yield Kp(r,s)}var s}),jm.apply(this,arguments)}function Kp(r,e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,De.Z)(function*(r,e,t){if(!Ba(e))throw e;r.vu.add(1),yield dd(r),r.bu.set("Offline"),t||(t=()=>Rm(r.localStore)),r.asyncQueue.enqueueRetryable((0,De.Z)(function*(){st("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield mh(r)}))}),Hm.apply(this,arguments)}function Wm(r,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,De.Z)(function*(r,e){const t=bt(r);t.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const s=Nc(t);t.vu.add(3),yield dd(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield mh(t)}),Jp.apply(this,arguments)}function Oc(){return Oc=(0,De.Z)(function*(r,e){const t=bt(r);e?(t.vu.delete(2),yield mh(t)):e||(t.vu.add(2),yield dd(t),t.bu.set("Unknown"))}),Oc.apply(this,arguments)}function Lc(r){return r.Su||(r.Su=function(e,t,s){const a=bt(e);return a.fu(),new Hw(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:zw.bind(null,r),ao:Ww.bind(null,r),nu:qw.bind(null,r)}),r.Ru.push(function(){var e=(0,De.Z)(function*(t){t?(r.Su.Qo(),yf(r)?mf(r):r.bu.set("Unknown")):(yield r.Su.stop(),_f(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}class wh{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,l){const f=Date.now()+s,b=new wh(e,t,f,a,l);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ac(r,e){if(ui("AsyncQueue",`${e}: ${r}`),Ba(r))return new tt(Be.UNAVAILABLE,`${e}: ${r}`);throw r}class Tl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Et.comparator(t.key,s.key):(t,s)=>Et.comparator(t.key,s.key),this.keyedMap=Ec(),this.sortedSet=new Yr(this.comparator)}static emptySet(e){return new Tl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Tl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Xp{constructor(){this.Cu=new Yr(Et.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ct():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Fc{constructor(e,t,s,a,l,f,b,M,U){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=b,this.excludesMetadataChanges=M,this.hasCachedResults=U}static fromInitialDocuments(e,t,s,a,l){const f=[];return t.forEach(b=>{f.push({type:0,doc:b})}),new Fc(e,t,Tl.emptySet(t),f,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Za(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class eg{constructor(){this.Nu=void 0,this.listeners=[]}}class qm{constructor(){this.queries=new Lu(e=>Ud(e),Za),this.onlineState="Unknown",this.ku=new Set}}function tg(){return tg=(0,De.Z)(function*(r,e){const t=bt(r),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new eg),a)try{l.Nu=yield t.onListen(s)}catch(f){const b=ac(f,`Initialization of query '${Vd(e.query)}' failed`);return void e.onError(b)}t.queries.set(s,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&Ef(t)}),tg.apply(this,arguments)}function ng(){return ng=(0,De.Z)(function*(r,e){const t=bt(r),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),ng.apply(this,arguments)}function Ym(r,e){const t=bt(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const b of f.listeners)b.$u(a)&&(s=!0);f.Nu=a}}s&&Ef(t)}function x_(r,e,t){const s=bt(r),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function Ef(r){r.ku.forEach(e=>{e.next()})}class If{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Fc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class M_{constructor(e){this.key=e}}class Jm{constructor(e){this.key=e}}class bf{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Cn(),this.mutatedKeys=Cn(),this.tc=jh(e),this.ec=new Tl(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new Xp,a=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,b=!1;const M="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,U="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((G,se)=>{const Ne=a.get(G),Ye=Ou(this.query,se)?se:null,mt=!!Ne&&this.mutatedKeys.has(Ne.key),Vt=!!Ye&&(Ye.hasLocalMutations||this.mutatedKeys.has(Ye.key)&&Ye.hasCommittedMutations);let Ht=!1;Ne&&Ye?Ne.data.isEqual(Ye.data)?mt!==Vt&&(s.track({type:3,doc:Ye}),Ht=!0):this.rc(Ne,Ye)||(s.track({type:2,doc:Ye}),Ht=!0,(M&&this.tc(Ye,M)>0||U&&this.tc(Ye,U)<0)&&(b=!0)):!Ne&&Ye?(s.track({type:0,doc:Ye}),Ht=!0):Ne&&!Ye&&(s.track({type:1,doc:Ne}),Ht=!0,(M||U)&&(b=!0)),Ht&&(Ye?(f=f.add(Ye),l=Vt?l.add(G):l.delete(G)):(f=f.delete(G),l=l.delete(G)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const G="F"===this.query.limitType?f.last():f.first();f=f.delete(G.key),l=l.delete(G.key),s.track({type:1,doc:G})}return{ec:f,ic:s,zi:b,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((U,G)=>function(se,Ne){const Ye=mt=>{switch(mt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct()}};return Ye(se)-Ye(Ne)}(U.type,G.type)||this.tc(U.doc,G.doc)),this.oc(s);const f=t?this.uc():[],b=0===this.Zu.size&&this.current?1:0,M=b!==this.Xu;return this.Xu=b,0!==l.length||M?{snapshot:new Fc(this.query,e.ec,a,l,e.mutatedKeys,0===b,M,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Xp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Cn(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Jm(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new M_(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Cn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Fc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Xm{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class k_{constructor(e){this.key=e,this.fc=!1}}class P_{constructor(e,t,s,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Lu(b=>Ud(b),Za),this._c=new Map,this.mc=new Set,this.gc=new Yr(Et.comparator),this.yc=new Map,this.Ic=new Mp,this.Tc={},this.Ec=new Map,this.Ac=yl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function N_(r,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,De.Z)(function*(r,e){const t=gg(r);let s,a;const l=t.wc.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.lc();else{const f=yield wu(t.localStore,Mi(e)),b=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield rg(t,e,s,"current"===b,f.resumeToken),t.isPrimaryClient&&yh(t.remoteStore,f)}return a}),Tf.apply(this,arguments)}function rg(r,e,t,s,a){return Df.apply(this,arguments)}function Df(){return Df=(0,De.Z)(function*(r,e,t,s,a){r.Rc=(se,Ne,Ye)=>{return(mt=(0,De.Z)(function*(Vt,Ht,Yn,Sr){let ir=Ht.view.sc(Yn);ir.zi&&(ir=yield vl(Vt.localStore,Ht.query,!1).then(({documents:Pi})=>Ht.view.sc(Pi,ir)));const Us=Sr&&Sr.targetChanges.get(Ht.targetId),Ns=Ht.view.applyChanges(ir,Vt.isPrimaryClient,Us);return fd(Vt,Ht.targetId,Ns.cc),Ns.snapshot}),function(Vt,Ht,Yn,Sr){return mt.apply(this,arguments)})(r,se,Ne,Ye);var mt};const l=yield vl(r.localStore,e,!0),f=new bf(e,l.ir),b=f.sc(l.documents),M=cl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),U=f.applyChanges(b,r.isPrimaryClient,M);fd(r,t,U.cc);const G=new Xm(e,t,f);return r.wc.set(e,G),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),U.snapshot}),Df.apply(this,arguments)}function O_(r,e){return ig.apply(this,arguments)}function ig(){return ig=(0,De.Z)(function*(r,e){const t=bt(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(l=>!Za(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ld(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),gf(t.remoteStore,s.targetId),uc(t,s.targetId)}).catch(vs))):(uc(t,s.targetId),yield ld(t.localStore,s.targetId,!0))}),ig.apply(this,arguments)}function ty(r,e){return eu.apply(this,arguments)}function eu(){return eu=(0,De.Z)(function*(r,e){const t=bt(r);try{const s=yield Mm(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.yc.get(l);f&&(Zt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?Zt(f.fc):a.removedDocuments.size>0&&(Zt(f.fc),f.fc=!1))}),yield Uc(t,s,e)}catch(s){yield vs(s)}}),eu.apply(this,arguments)}function Sf(r,e,t){const s=bt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((l,f)=>{const b=f.view.Mu(e);b.snapshot&&a.push(b.snapshot)}),function(l,f){const b=bt(l);b.onlineState=f;let M=!1;b.queries.forEach((U,G)=>{for(const se of G.listeners)se.Mu(f)&&(M=!0)}),M&&Ef(b)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function L_(r,e,t){return sg.apply(this,arguments)}function sg(){return sg=(0,De.Z)(function*(r,e,t){const s=bt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),l=a&&a.key;if(l){let f=new Yr(Et.comparator);f=f.insert(l,Gr.newNoDocument(l,Jt.min()));const b=Cn().add(l),M=new Ql(Jt.min(),new Map,new Yr(Ut),f,b);yield ty(s,M),s.gc=s.gc.remove(l),s.yc.delete(e),bh(s)}else yield ld(s.localStore,e,!1).then(()=>uc(s,e,t)).catch(vs)}),sg.apply(this,arguments)}function uc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||xf(r,s)})}function xf(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(gf(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),bh(r))}function fd(r,e,t){for(const s of t)s instanceof M_?(r.Ic.addReference(s.key,e),Yw(r,s)):s instanceof Jm?(st("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||xf(r,s.key)):Ct()}function Yw(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(st("SyncEngine","New document in limbo: "+t),r.mc.add(s),bh(r))}function bh(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new Et(Hn.fromString(e)),s=r.Ac.next();r.yc.set(s,new k_(t)),r.gc=r.gc.insert(t,s),yh(r.remoteStore,new vu(Mi(dn(t.path)),s,"TargetPurposeLimboResolution",ws.ct))}}function Uc(r,e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,De.Z)(function*(r,e,t){const s=bt(r),a=[],l=[],f=[];var b;s.wc.isEmpty()||(s.wc.forEach((b,M)=>{f.push(s.Rc(M,e,t).then(U=>{if((U||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(M.targetId,U?.fromCache?"not-current":"current"),U){a.push(U);const G=Np.Li(M.targetId,U);l.push(G)}}))}),yield Promise.all(f),s.dc.nu(a),yield(b=(0,De.Z)(function*(M,U){const G=bt(M);try{yield G.persistence.runTransaction("notifyLocalViewChanges","readwrite",se=>Pe.forEach(U,Ne=>Pe.forEach(Ne.Fi,Ye=>G.persistence.referenceDelegate.addReference(se,Ne.targetId,Ye)).next(()=>Pe.forEach(Ne.Bi,Ye=>G.persistence.referenceDelegate.removeReference(se,Ne.targetId,Ye)))))}catch(se){if(!Ba(se))throw se;st("LocalStore","Failed to update sequence numbers: "+se)}for(const se of U){const Ne=se.targetId;if(!se.fromCache){const Ye=G.Ji.get(Ne),Vt=Ye.withLastLimboFreeSnapshotVersion(Ye.snapshotVersion);G.Ji=G.Ji.insert(Ne,Vt)}}}),function(M,U){return b.apply(this,arguments)})(s.localStore,l))}),Rf.apply(this,arguments)}function ny(r,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,De.Z)(function*(r,e){const t=bt(r);if(!t.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const s=yield __(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(b=>{b.reject(new tt(Be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Uc(t,s.er)}var a}),Mf.apply(this,arguments)}function ry(r,e){const t=bt(r),s=t.yc.get(e);if(s&&s.fc)return Cn().add(s.key);{let a=Cn();const l=t._c.get(e);if(!l)return a;for(const f of l){const b=t.wc.get(f);a=a.unionWith(b.view.nc)}return a}}function gg(r){const e=bt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ty.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ry.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L_.bind(null,e),e.dc.nu=Ym.bind(null,e.eventManager),e.dc.Pc=x_.bind(null,e.eventManager),e}class md{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.serializer=bl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Am(r,e,t,s){return new Op(r,e,t,s)}(this.persistence,new cf,e.initialUser,this.serializer)}createPersistence(e){return new kp(lh.zs,this.serializer)}createSharedClientState(e){return new El}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yd{initialize(e,t){var s=this;return(0,De.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Sf(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=ny.bind(null,s.syncEngine),yield function hd(r,e){return Oc.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qm}createDatastore(e){const t=bl(e.databaseInfo.databaseId),s=new oc(e.databaseInfo);return new pf(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=b=>Sf(this.syncEngine,b,0),f=jp.D()?new jp:new Lm,new Gw(t,s,a,l,f);var t,s,a,l,f}createSyncEngine(e,t){return function(s,a,l,f,b,M,U){const G=new P_(s,a,l,f,b,M);return U&&(G.vc=!0),G}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const s=bt(t);st("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield dd(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Of{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dl{constructor(e,t,s,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=ur.UNAUTHENTICATED,this.clientId=class Yo{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=qc(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,De.Z)(function*(b){st("FirestoreClient","Received user=",b.uid),yield l.authCredentialListener(b),l.user=b});return function(b){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(st("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=ac(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function yg(r,e){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,De.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,De.Z)(function*(l){s.isEqual(l)||(yield __(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Cl.apply(this,arguments)}function _g(r,e){return vg.apply(this,arguments)}function vg(){return vg=(0,De.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield wg(r);st("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>Wm(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>Wm(e.remoteStore,l)),r._onlineComponents=e}),vg.apply(this,arguments)}function Ff(r){return"FirebaseError"===r.name?r.code===Be.FAILED_PRECONDITION||r.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function wg(r){return tu.apply(this,arguments)}function tu(){return tu=(0,De.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Ff(t))throw t;os("Error using user provided cache. Falling back to memory cache: "+t),yield yg(r,new md)}}else st("FirestoreClient","Using default OfflineComponentProvider"),yield yg(r,new md);return r._offlineComponents}),tu.apply(this,arguments)}function Vc(r){return eo.apply(this,arguments)}function eo(){return eo=(0,De.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),yield _g(r,r._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),yield _g(r,new yd))),r._onlineComponents}),eo.apply(this,arguments)}function Iu(r){return $c.apply(this,arguments)}function $c(){return $c=(0,De.Z)(function*(r){const e=yield Vc(r),t=e.eventManager;return t.onListen=N_.bind(null,e.syncEngine),t.onUnlisten=O_.bind(null,e.syncEngine),t}),$c.apply(this,arguments)}function Eg(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Ig=new Map;function fy(r){if(Et.isDocumentKey(r))throw new tt(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ir(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new tt(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Vf(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Ct()}(r);throw new tt(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Tg{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function hy(r,e,t,s){if(!0===e&&!0===s)throw new tt(Be.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Eg(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new tt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new tt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new tt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ml{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Du;switch(t.type){case"firstParty":return new Gu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new tt(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ig.get(e);t&&(st("ComponentProvider","Removing Datastore"),Ig.delete(e),t.terminate())}(this),Promise.resolve()}}class bs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bs(this.firestore,e,this._key)}}class ks{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ks(this.firestore,e,this._query)}}class Aa extends ks{constructor(e,t,s){super(e,t,dn(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bs(this.firestore,null,new Et(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function Cg(r,e,...t){if(r=(0,Q.m9)(r),function Uf(r,e,t){if(!t)throw new tt(Be.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}("collection","path",e),r instanceof Ml){const s=Hn.fromString(e,...t);return fy(s),new Aa(r,null,s)}{if(!(r instanceof bs||r instanceof Aa))throw new tt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Hn.fromString(e,...t));return fy(s),new Aa(r.firestore,null,s)}}class gy{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Um(this,"async_queue_retry"),this.Xc=()=>{const t=ph();t&&st("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=ph();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ph();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ei;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,De.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ba(t))throw t;st("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,ui("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=wh.createAndSchedule(this,e,t,s,l=>this.na(l));return this.zc.push(a),a}Zc(){this.Wc&&Ct()}verifyOperationInProgress(){}sa(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Ch(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Ei extends Ml{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new gy,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xg(this),this._firestoreClient.terminate()}}function z_(r,e){const t="object"==typeof r?r:(0,Le.Mq)(),s="string"==typeof r?r:e||"(default)",a=(0,Le.qX)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=(0,Q.P0)("firestore");l&&function Dg(r,e,t,s={}){var a;const l=(r=Ir(r,Ml))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),s.mockUserToken){let b,M;if("string"==typeof s.mockUserToken)b=s.mockUserToken,M=ur.MOCK_USER;else{b=(0,Q.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new tt(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new ur(U)}r._authCredentials=new cu(new Wc(b,M))}}(a,...l)}return a}function xg(r){var e,t,s;const a=r._freezeSettings(),l=(b=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Od(r._databaseId,b,r._persistenceKey,(U=a).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,Eg(U.experimentalLongPollingOptions),U.useFetchStreams));var b,U;r._firestoreClient=new Dl(r._authCredentials,r._appCheckCredentials,r._queue,l),(null===(t=a.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(s=a.cache)||void 0===s?void 0:s._onlineComponentProvider)&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jc(Dr.fromBase64String(e))}catch(t){throw new tt(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jc(Dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tt(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const ju=new RegExp("[~\\*/\\[\\]]");function ua(r,e,t,s,a){const l=s&&!s.isEmpty(),f=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let M="";return(l||f)&&(M+=" (found",l&&(M+=` in field ${s}`),f&&(M+=` in document ${a}`),M+=")"),new tt(Be.INVALID_ARGUMENT,b+r+M)}class Hf{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sv extends Hf{data(){return super.data()}}function Gf(r,e){return"string"==typeof e?function aa(r,e,t){if(e.search(ju)>=0)throw ua(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new kl(...e.split("."))._internalPath}catch{throw ua(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}(r,e):e instanceof kl?e._internalPath:e._delegate._internalPath}class Ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sd extends Hf{constructor(e,t,s,a,l,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Wf extends Sd{data(e={}){return super.data(e)}}class Ad{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ol(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Wf(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Wf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Ol(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const b=new Wf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Ol(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let M=-1,U=-1;return 0!==f.type&&(M=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),U=l.indexOf(f.doc.key)),{type:yv(f.type),doc:b,oldIndex:M,newIndex:U}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yv(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct()}}class cc extends class gv{convertValue(e,t="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ct()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Xo(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new Mg(ci(e.latitude),ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Yu(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const t=ea(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Hn.fromString(e);Zt(dl(s));const a=new za(s.get(1),s.get(3)),l=new Et(s.popFirst(5));return a.isEqual(t)||ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new jc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bs(this.firestore,null,t)}}!function(r,e=!0){Ki=Le.Jn,(0,Le.Xd)(new we.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const l=t.getProvider("app").getImmediate(),f=new Ei(new dc(t.getProvider("auth-internal")),new Cu(t.getProvider("app-check-internal")),function(b,M){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new tt(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(b.options.projectId,M)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,Le.KN)(qi,"3.13.0",r),(0,Le.KN)(qi,"3.13.0","esm2017")}();var kh=q(6498),Oy=q(4850),Kf=function(){return Kf=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++)for(var l in t=arguments[s])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},Kf.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Yf={includeMetadataChanges:!1};function Zf(r,e){return void 0===e&&(e=Yf),new kh.y(function(t){var s=function Ry(r,...e){var t,s,a;r=(0,Q.m9)(r);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Ch(e[f])||(l=e[f],f++);const b={includeMetadataChanges:l.includeMetadataChanges};if(Ch(e[f])){const se=e[f];e[f]=null===(t=se.next)||void 0===t?void 0:t.bind(se),e[f+1]=null===(s=se.error)||void 0===s?void 0:s.bind(se),e[f+2]=null===(a=se.complete)||void 0===a?void 0:a.bind(se)}let M,U,G;if(r instanceof bs)U=Ir(r.firestore,Ei),G=dn(r._key.path),M={next:se=>{e[f]&&e[f](function jg(r,e,t){const s=t.docs.get(e._key),a=new cc(r);return new Sd(r,a,e._key,s,new Ol(t.hasPendingWrites,t.fromCache),e.converter)}(U,r,se))},error:e[f+1],complete:e[f+2]};else{const se=Ir(r,ks);U=Ir(se.firestore,Ei),G=se._query;const Ne=new cc(U);M={next:Ye=>{e[f]&&e[f](new Ad(U,Ne,se,Ye))},error:e[f+1],complete:e[f+2]},function Ty(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new tt(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query)}return function(se,Ne,Ye,mt){const Vt=new Of(mt),Ht=new If(Ne,Vt,Ye);return se.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function Eh(r,e){return tg.apply(this,arguments)}(yield Iu(se),Ht)})),()=>{Vt.Dc(),se.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function Km(r,e){return ng.apply(this,arguments)}(yield Iu(se),Ht)}))}}(function Ts(r){return r._firestoreClient||xg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}(U),G,b,M)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function mE(r,e){return void 0===e&&(e={}),function By(r){return Zf(r,{includeMetadataChanges:!0}).pipe((0,Oy.U)(function(e){return e.docs}))}(r).pipe((0,Oy.U)(function(t){return t.map(function(s){return function Fy(r,e){var t;void 0===e&&(e={});var s=r.data(e);return r.exists()&&"object"==typeof s&&null!==s&&e.idField?Kf(Kf({},s),((t={})[e.idField]=r.id,t)):s}(s,e)})}))}class Yg{constructor(e){return e}}const Zg="firestore",Qg=new z.OlP("angularfire2.firestore-instances");function Nh(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new Yg(s)}}const Fv={provide:class Jf{constructor(){return(0,P.vb)(Zg)}},deps:[[new z.FiY,Qg]]},Uv={provide:Yg,useFactory:function $y(r,e){const t=(0,P.JM)(Zg,r,e);return t&&new Yg(t)},deps:[[new z.FiY,Qg],Ue.Ot]};let Vv=(()=>{class r{constructor(){(0,ve.KN)("angularfire",P.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=z.oAB({type:r}),r.\u0275inj=z.cJS({providers:[Uv,Fv]}),r})();function Bv(r,...e){return{ngModule:Vv,providers:[{provide:Qg,useFactory:Nh(r),multi:!0,deps:[z.R0b,z.zs3,P.HU,Ue.z6,[new z.FiY,ce.dh],[new z.FiY,Re.nm],...e]}]}}const Oh=(0,P.u3)(mE,!0),zv=(0,P.u3)(Cg,!0),Qv=(0,P.u3)(z_,!0)},8032:(an,et,q)=>{q.d(et,{Ke:()=>js,cF:()=>tn,Vq:()=>Co});var P=q(902),z=q(6738),ce=q(3692),Ue=q(8522),ve=q(259),Re=q(2313),De=q(9671),Le=q(6881),we=q(2090),K=q(4859);const Q="firebasestorage.googleapis.com";class Ce extends we.ZR{constructor(O,X,te=0){super(Bt(O),`Firebase Storage: ${X} (${Bt(O)})`),this.status_=te,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ce.prototype)}get status(){return this.status_}set status(O){this.status_=O}_codeEquals(O){return Bt(O)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(O){this.customData.serverResponse=O,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var nt=(()=>{return(R=nt||(nt={})).UNKNOWN="unknown",R.OBJECT_NOT_FOUND="object-not-found",R.BUCKET_NOT_FOUND="bucket-not-found",R.PROJECT_NOT_FOUND="project-not-found",R.QUOTA_EXCEEDED="quota-exceeded",R.UNAUTHENTICATED="unauthenticated",R.UNAUTHORIZED="unauthorized",R.UNAUTHORIZED_APP="unauthorized-app",R.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",R.INVALID_CHECKSUM="invalid-checksum",R.CANCELED="canceled",R.INVALID_EVENT_NAME="invalid-event-name",R.INVALID_URL="invalid-url",R.INVALID_DEFAULT_BUCKET="invalid-default-bucket",R.NO_DEFAULT_BUCKET="no-default-bucket",R.CANNOT_SLICE_BLOB="cannot-slice-blob",R.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",R.NO_DOWNLOAD_URL="no-download-url",R.INVALID_ARGUMENT="invalid-argument",R.INVALID_ARGUMENT_COUNT="invalid-argument-count",R.APP_DELETED="app-deleted",R.INVALID_ROOT_OPERATION="invalid-root-operation",R.INVALID_FORMAT="invalid-format",R.INTERNAL_ERROR="internal-error",R.UNSUPPORTED_ENVIRONMENT="unsupported-environment",nt;var R})();function Bt(R){return"storage/"+R}function _r(R){return new Ce(nt.INVALID_ARGUMENT,R)}function An(){return new Ce(nt.APP_DELETED,"The Firebase app was deleted.")}class hr{constructor(O,X){this.bucket=O,this.path_=X}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const O=encodeURIComponent;return"/b/"+O(this.bucket)+"/o/"+O(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(O,X){let te;try{te=hr.makeFromUrl(O,X)}catch{return new hr(O,"")}if(""===te.path)return te;throw function rn(R){return new Ce(nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+R+"'.")}(O)}static makeFromUrl(O,X){let te=null;const Ee="([A-Za-z0-9.\\-_]+)",xt=new RegExp("^gs://"+Ee+"(/(.*))?$","i");function Tn(vr){vr.path_=decodeURIComponent(vr.path)}const $r=X.replace(/[.]/g,"\\."),jn=[{regex:xt,indices:{bucket:1,path:3},postModify:function qe(vr){"/"===vr.path.charAt(vr.path.length-1)&&(vr.path_=vr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${$r}/v[A-Za-z0-9_]+/b/${Ee}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Tn},{regex:new RegExp(`^https?://${X===Q?"(?:storage.googleapis.com|storage.cloud.google.com)":X}/${Ee}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Tn}];for(let vr=0;vr<jn.length;vr++){const Gs=jn[vr],Ui=Gs.regex.exec(O);if(Ui){let Ss=Ui[Gs.indices.path];Ss||(Ss=""),te=new hr(Ui[Gs.indices.bucket],Ss),Gs.postModify(te);break}}if(null==te)throw function Mt(R){return new Ce(nt.INVALID_URL,"Invalid URL '"+R+"'.")}(O);return te}}class Lr{constructor(O){this.promise_=Promise.reject(O)}getPromise(){return this.promise_}cancel(O=!1){}}function Wn(R,O,X,te){if(te<O)throw _r(`Invalid value for '${R}'. Expected ${O} or greater.`);if(te>X)throw _r(`Invalid value for '${R}'. Expected ${X} or less.`)}var Nr=(()=>{return(R=Nr||(Nr={}))[R.NO_ERROR=0]="NO_ERROR",R[R.NETWORK_ERROR=1]="NETWORK_ERROR",R[R.ABORT=2]="ABORT",Nr;var R})();class Ar{constructor(O,X,te,Ee,qe,rt,xt,yt,Tn,$n,$r,jr=!0){this.url_=O,this.method_=X,this.headers_=te,this.body_=Ee,this.successCodes_=qe,this.additionalRetryCodes_=rt,this.callback_=xt,this.errorCallback_=yt,this.timeout_=Tn,this.progressCallback_=$n,this.connectionFactory_=$r,this.retry=jr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Tr,Fn)=>{this.resolve_=Tr,this.reject_=Fn,this.start_()})}start_(){const X=(te,Ee)=>{const qe=this.resolve_,rt=this.reject_,xt=Ee.connection;if(Ee.wasSuccessCode)try{const yt=this.callback_(xt,xt.getResponse());!function fr(R){return void 0!==R}(yt)?qe():qe(yt)}catch(yt){rt(yt)}else if(null!==xt){const yt=function bn(){return new Ce(nt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();yt.serverResponse=xt.getErrorText(),rt(this.errorCallback_?this.errorCallback_(xt,yt):yt)}else rt(Ee.canceled?this.appDelete_?An():function Qe(){return new Ce(nt.CANCELED,"User canceled the upload/download.")}():function ut(){return new Ce(nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?X(0,new br(!1,null,!0)):this.backoffId_=function Ni(R,O,X){let te=1,Ee=null,qe=null,rt=!1,xt=0;function yt(){return 2===xt}let Tn=!1;function $n(...dr){Tn||(Tn=!0,O.apply(null,dr))}function $r(dr){Ee=setTimeout(()=>{Ee=null,R(Tr,yt())},dr)}function jr(){qe&&clearTimeout(qe)}function Tr(dr,...Qr){if(Tn)return void jr();if(dr)return jr(),void $n.call(null,dr,...Qr);if(yt()||rt)return jr(),void $n.call(null,dr,...Qr);let jn;te<64&&(te*=2),1===xt?(xt=2,jn=0):jn=1e3*(te+Math.random()),$r(jn)}let Fn=!1;function lr(dr){Fn||(Fn=!0,jr(),!Tn&&(null!==Ee?(dr||(xt=2),clearTimeout(Ee),$r(0)):dr||(xt=1)))}return $r(0),qe=setTimeout(()=>{rt=!0,lr(!0)},X),lr}((te,Ee)=>{if(Ee)return void te(!1,new br(!1,null,!0));const qe=this.connectionFactory_();this.pendingConnection_=qe;const rt=xt=>{null!==this.progressCallback_&&this.progressCallback_(xt.loaded,xt.lengthComputable?xt.total:-1)};null!==this.progressCallback_&&qe.addUploadProgressListener(rt),qe.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&qe.removeUploadProgressListener(rt),this.pendingConnection_=null;const xt=qe.getErrorCode()===Nr.NO_ERROR,yt=qe.getStatus();if(!xt||function ii(R,O){const X=R>=500&&R<600,Ee=-1!==[408,429].indexOf(R),qe=-1!==O.indexOf(R);return X||Ee||qe}(yt,this.additionalRetryCodes_)&&this.retry){const $n=qe.getErrorCode()===Nr.ABORT;return void te(!1,new br(!1,null,$n))}const Tn=-1!==this.successCodes_.indexOf(yt);te(!0,new br(Tn,qe))})},X,this.timeout_)}getPromise(){return this.promise_}cancel(O){this.canceled_=!0,this.appDelete_=O||!1,null!==this.backoffId_&&function Fr(R){R(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class br{constructor(O,X,te){this.wasSuccessCode=O,this.connection=X,this.canceled=!!te}}class cn{constructor(O,X){this._service=O,this._location=X instanceof hr?X:hr.makeFromUrl(X,O.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(O,X){return new cn(O,X)}get root(){const O=new hr(this._location.bucket,"");return this._newRef(this._service,O)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function kn(R){const O=R.lastIndexOf("/",R.length-2);return-1===O?R:R.slice(O+1)}(this._location.path)}get storage(){return this._service}get parent(){const O=function At(R){if(0===R.length)return null;const O=R.lastIndexOf("/");return-1===O?"":R.slice(0,O)}(this._location.path);if(null===O)return null;const X=new hr(this._location.bucket,O);return new cn(this._service,X)}_throwIfRoot(O){if(""===this._location.path)throw function Pr(R){return new Ce(nt.INVALID_ROOT_OPERATION,"The operation '"+R+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(O)}}function To(R,O){const X=O?.storageBucket;return null==X?null:hr.makeFromBucketSpec(X,R)}class hi{constructor(O,X,te,Ee,qe){this.app=O,this._authProvider=X,this._appCheckProvider=te,this._url=Ee,this._firebaseVersion=qe,this._bucket=null,this._host=Q,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ee?hr.makeFromBucketSpec(Ee,this._host):To(this._host,this.app.options)}get host(){return this._host}set host(O){this._host=O,this._bucket=null!=this._url?hr.makeFromBucketSpec(this._url,O):To(O,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(O){Wn("time",0,Number.POSITIVE_INFINITY,O),this._maxUploadRetryTime=O}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(O){Wn("time",0,Number.POSITIVE_INFINITY,O),this._maxOperationRetryTime=O}_getAuthToken(){var O=this;return(0,De.Z)(function*(){if(O._overrideAuthToken)return O._overrideAuthToken;const X=O._authProvider.getImmediate({optional:!0});if(X){const te=yield X.getToken();if(null!==te)return te.accessToken}return null})()}_getAppCheckToken(){var O=this;return(0,De.Z)(function*(){const X=O._appCheckProvider.getImmediate({optional:!0});return X?(yield X.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(O=>O.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(O){return new cn(this,O)}_makeRequest(O,X,te,Ee,qe=!0){if(this._deleted)return new Lr(An());{const rt=function Or(R,O,X,te,Ee,qe,rt=!0){const xt=function Zr(R){const O=encodeURIComponent;let X="?";for(const te in R)R.hasOwnProperty(te)&&(X=X+(O(te)+"=")+O(R[te])+"&");return X=X.slice(0,-1),X}(R.urlParams),yt=R.url+xt,Tn=Object.assign({},R.headers);return function Ur(R,O){O&&(R["X-Firebase-GMPID"]=O)}(Tn,O),function mi(R,O){null!==O&&O.length>0&&(R.Authorization="Firebase "+O)}(Tn,X),function Ji(R,O){R["X-Firebase-Storage-Version"]="webjs/"+(O??"AppManager")}(Tn,qe),function Xn(R,O){null!==O&&(R["X-Firebase-AppCheck"]=O)}(Tn,te),new Ar(yt,R.method,Tn,R.body,R.successCodes,R.additionalRetryCodes,R.handler,R.errorHandler,R.timeout,R.progressCallback,Ee,rt)}(O,this._appId,te,Ee,X,this._firebaseVersion,qe);return this._requests.add(rt),rt.getPromise().then(()=>this._requests.delete(rt),()=>this._requests.delete(rt)),rt}}makeRequestWithTokens(O,X){var te=this;return(0,De.Z)(function*(){const[Ee,qe]=yield Promise.all([te._getAuthToken(),te._getAppCheckToken()]);return te._makeRequest(O,X,Ee,qe).getPromise()})()}}const gs="@firebase/storage",Vo="storage";function vi(R=(0,Le.Mq)(),O){R=(0,we.m9)(R);const te=(0,Le.qX)(R,Vo).getImmediate({identifier:O}),Ee=(0,we.P0)("storage");return Ee&&function $s(R,O,X,te={}){!function iu(R,O,X,te={}){R.host=`${O}:${X}`,R._protocol="http";const{mockUserToken:Ee}=te;Ee&&(R._overrideAuthToken="string"==typeof Ee?Ee:(0,we.Sg)(Ee,R.app.options.projectId))}(R,O,X,te)}(te,...Ee),te}function fi(R,{instanceIdentifier:O}){const X=R.getProvider("app").getImmediate(),te=R.getProvider("auth-internal"),Ee=R.getProvider("app-check-internal");return new hi(X,te,Ee,O,Le.Jn)}!function Li(){(0,Le.Xd)(new K.wA(Vo,fi,"PUBLIC").setMultipleInstances(!0)),(0,Le.KN)(gs,"0.11.2",""),(0,Le.KN)(gs,"0.11.2","esm2017")}();class js{constructor(O){return O}}const Hs="storage",tr=new z.OlP("angularfire2.storage-instances");function mo(R){return(O,X)=>{const te=O.runOutsideAngular(()=>R(X));return new js(te)}}const Ds={provide:class Go{constructor(){return(0,P.vb)(Hs)}},deps:[[new z.FiY,tr]]},Di={provide:js,useFactory:function Do(R,O){const X=(0,P.JM)(Hs,R,O);return X&&new js(X)},deps:[[new z.FiY,tr],ce.Ot]};let ms=(()=>{class R{constructor(){(0,ve.KN)("angularfire",P.q4.full,"gcs")}}return R.\u0275fac=function(X){return new(X||R)},R.\u0275mod=z.oAB({type:R}),R.\u0275inj=z.cJS({providers:[Di,Ds]}),R})();function Co(R,...O){return{ngModule:ms,providers:[{provide:tr,useFactory:mo(R),multi:!0,deps:[z.R0b,z.zs3,P.HU,ce.z6,[new z.FiY,Ue.dh],[new z.FiY,Re.nm],...O]}]}}const tn=(0,P.u3)(vi,!0)},902:(an,et,q)=>{q.d(et,{q4:()=>nl,HU:()=>Rs,vb:()=>rl,JM:()=>Qu,u3:()=>sl});var P=q(6738),z=q(259),ce=q(9671),Ue=q(6881),ve=q(2090),Re=q(4859),De=q(1877);let we,K;const Ae=new WeakMap,fe=new WeakMap,kt=new WeakMap,Ce=new WeakMap,nt=new WeakMap;let ht={get(w,I,k){if(w instanceof IDBTransaction){if("done"===I)return fe.get(w);if("objectStoreNames"===I)return w.objectStoreNames||kt.get(w);if("store"===I)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return ot(w[I])},set:(w,I,k)=>(w[I]=k,!0),has:(w,I)=>w instanceof IDBTransaction&&("done"===I||"store"===I)||I in w};function wt(w){return"function"==typeof w?function Jn(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...I){return w.apply(ut(this),I),ot(Ae.get(this))}:function(...I){return ot(w.apply(ut(this),I))}:function(I,...k){const H=w.call(ut(this),I,...k);return kt.set(H,I.sort?I.sort():[I]),ot(H)}}(w):(w instanceof IDBTransaction&&function bn(w){if(fe.has(w))return;const I=new Promise((k,H)=>{const le=()=>{w.removeEventListener("complete",Te),w.removeEventListener("error",He),w.removeEventListener("abort",He)},Te=()=>{k(),le()},He=()=>{H(w.error||new DOMException("AbortError","AbortError")),le()};w.addEventListener("complete",Te),w.addEventListener("error",He),w.addEventListener("abort",He)});fe.set(w,I)}(w),((w,I)=>I.some(k=>w instanceof k))(w,function Q(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,ht):w)}function ot(w){if(w instanceof IDBRequest)return function Bt(w){const I=new Promise((k,H)=>{const le=()=>{w.removeEventListener("success",Te),w.removeEventListener("error",He)},Te=()=>{k(ot(w.result)),le()},He=()=>{H(w.error),le()};w.addEventListener("success",Te),w.addEventListener("error",He)});return I.then(k=>{k instanceof IDBCursor&&Ae.set(k,w)}).catch(()=>{}),nt.set(I,w),I}(w);if(Ce.has(w))return Ce.get(w);const I=wt(w);return I!==w&&(Ce.set(w,I),nt.set(I,w)),I}const ut=w=>nt.get(w),rn=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],pt=new Map;function lt(w,I){if(!(w instanceof IDBDatabase)||I in w||"string"!=typeof I)return;if(pt.get(I))return pt.get(I);const k=I.replace(/FromIndex$/,""),H=I!==k,le=Pt.includes(k);if(!(k in(H?IDBIndex:IDBObjectStore).prototype)||!le&&!rn.includes(k))return;const Te=function(){var He=(0,ce.Z)(function*(St,...ft){const zt=this.transaction(St,le?"readwrite":"readonly");let dn=zt.store;return H&&(dn=dn.index(ft.shift())),(yield Promise.all([dn[k](...ft),le&&zt.done]))[0]});return function(ft){return He.apply(this,arguments)}}();return pt.set(I,Te),Te}!function nn(w){ht=w(ht)}(w=>({...w,get:(I,k,H)=>lt(I,k)||w.get(I,k,H),has:(I,k)=>!!lt(I,k)||w.has(I,k)}));const zn="@firebase/installations",An="w:0.6.4",Pr="FIS_v2",Fr=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fr(w){return w instanceof ve.ZR&&w.code.includes("request-failed")}function Vn({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function yn(w){return{token:w.token,requestStatus:2,expiresIn:Nr(w.expiresIn),creationTime:Date.now()}}function On(w,I){return di.apply(this,arguments)}function di(){return(di=(0,ce.Z)(function*(w,I){const H=(yield I.json()).error;return Fr.create("request-failed",{requestName:w,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function gi({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function Wn(w,{refreshToken:I}){const k=gi(w);return k.append("Authorization",function ii(w){return`${Pr} ${w}`}(I)),k}function pr(w){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,ce.Z)(function*(w){const I=yield w();return I.status>=500&&I.status<600?w():I})).apply(this,arguments)}function Nr(w){return Number(w.replace("s","000"))}function Ar(w,I){return br.apply(this,arguments)}function br(){return(br=(0,ce.Z)(function*({appConfig:w,heartbeatServiceProvider:I},{fid:k}){const H=Vn(w),le=gi(w),Te=I.getImmediate({optional:!0});if(Te){const zt=yield Te.getHeartbeatsHeader();zt&&le.append("x-firebase-client",zt)}const St={method:"POST",headers:le,body:JSON.stringify({fid:k,authVersion:Pr,appId:w.appId,sdkVersion:An})},ft=yield pr(()=>fetch(H,St));if(ft.ok){const zt=yield ft.json();return{fid:zt.fid||k,registrationStatus:2,refreshToken:zt.refreshToken,authToken:yn(zt.authToken)}}throw yield On("Create Installation",ft)})).apply(this,arguments)}function mi(w){return new Promise(I=>{setTimeout(I,w)})}const Ur=/^[cdef][\w-]{21}$/;function Or(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const k=function Ke(w){return function Ji(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Ur.test(k)?k:""}catch{return""}}function Y(w){return`${w.appName}!${w.appId}`}const ee=new Map;function de(w,I){const k=Y(w);Wt(k,I),function gt(w,I){const k=function Mn(){return!Dt&&"BroadcastChannel"in self&&(Dt=new BroadcastChannel("[Firebase] FID Change"),Dt.onmessage=w=>{Wt(w.data.key,w.data.fid)}),Dt}();k&&k.postMessage({key:w,fid:I}),function pn(){0===ee.size&&Dt&&(Dt.close(),Dt=null)}()}(k,I)}function Wt(w,I){const k=ee.get(w);if(k)for(const H of k)H(I)}let Dt=null;const ln="firebase-installations-store";let _n=null;function xr(){return _n||(_n=function Qe(w,I,{blocked:k,upgrade:H,blocking:le,terminated:Te}={}){const He=indexedDB.open(w,I),St=ot(He);return H&&He.addEventListener("upgradeneeded",ft=>{H(ot(He.result),ft.oldVersion,ft.newVersion,ot(He.transaction))}),k&&He.addEventListener("blocked",()=>k()),St.then(ft=>{Te&&ft.addEventListener("close",()=>Te()),le&&ft.addEventListener("versionchange",()=>le())}).catch(()=>{}),St}("firebase-installations-database",1,{upgrade:(w,I)=>{0===I&&w.createObjectStore(ln)}})),_n}function At(w,I){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,ce.Z)(function*(w,I){const k=Y(w),le=(yield xr()).transaction(ln,"readwrite"),Te=le.objectStore(ln),He=yield Te.get(k);return yield Te.put(I,k),yield le.done,(!He||He.fid!==I.fid)&&de(w,I.fid),I})).apply(this,arguments)}function kn(w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,ce.Z)(function*(w){const I=Y(w),H=(yield xr()).transaction(ln,"readwrite");yield H.objectStore(ln).delete(I),yield H.done})).apply(this,arguments)}function en(w,I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,ce.Z)(function*(w,I){const k=Y(w),le=(yield xr()).transaction(ln,"readwrite"),Te=le.objectStore(ln),He=yield Te.get(k),St=I(He);return void 0===St?yield Te.delete(k):yield Te.put(St,k),yield le.done,St&&(!He||He.fid!==St.fid)&&de(w,St.fid),St})).apply(this,arguments)}function ue(w){return ie.apply(this,arguments)}function ie(){return(ie=(0,ce.Z)(function*(w){let I;const k=yield en(w.appConfig,H=>{const le=_e(H),Te=Ze(w,le);return I=Te.registrationPromise,Te.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function _e(w){return ye(w||{fid:Or(),registrationStatus:0})}function Ze(w,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Fr.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},H=function Me(w,I){return Rt.apply(this,arguments)}(w,k);return{installationEntry:k,registrationPromise:H}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Qt(w)}:{installationEntry:I}}function Rt(){return(Rt=(0,ce.Z)(function*(w,I){try{const k=yield Ar(w,I);return At(w.appConfig,k)}catch(k){throw fr(k)&&409===k.customData.serverCode?yield kn(w.appConfig):yield At(w.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Qt(w){return xn.apply(this,arguments)}function xn(){return(xn=(0,ce.Z)(function*(w){let I=yield er(w.appConfig);for(;1===I.registrationStatus;)yield mi(100),I=yield er(w.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:H}=yield ue(w);return H||k}return I})).apply(this,arguments)}function er(w){return en(w,I=>{if(!I)throw Fr.create("installation-not-found");return ye(I)})}function ye(w){return function re(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function W(w,I){return pe.apply(this,arguments)}function pe(){return(pe=(0,ce.Z)(function*({appConfig:w,heartbeatServiceProvider:I},k){const H=$e(w,k),le=Wn(w,k),Te=I.getImmediate({optional:!0});if(Te){const zt=yield Te.getHeartbeatsHeader();zt&&le.append("x-firebase-client",zt)}const St={method:"POST",headers:le,body:JSON.stringify({installation:{sdkVersion:An,appId:w.appId}})},ft=yield pr(()=>fetch(H,St));if(ft.ok)return yn(yield ft.json());throw yield On("Generate Auth Token",ft)})).apply(this,arguments)}function $e(w,{fid:I}){return`${Vn(w)}/${I}/authTokens:generate`}function Lt(w){return $t.apply(this,arguments)}function $t(){return($t=(0,ce.Z)(function*(w,I=!1){let k;const H=yield en(w.appConfig,Te=>{if(!sn(Te))throw Fr.create("not-registered");const He=Te.authToken;if(!I&&Yt(He))return Te;if(1===He.requestStatus)return k=xe(w,I),Te;{if(!navigator.onLine)throw Fr.create("app-offline");const St=fn(Te);return k=dt(w,St),St}});return k?yield k:H.authToken})).apply(this,arguments)}function xe(w,I){return ne.apply(this,arguments)}function ne(){return(ne=(0,ce.Z)(function*(w,I){let k=yield Fe(w.appConfig);for(;1===k.authToken.requestStatus;)yield mi(100),k=yield Fe(w.appConfig);const H=k.authToken;return 0===H.requestStatus?Lt(w,I):H})).apply(this,arguments)}function Fe(w){return en(w,I=>{if(!sn(I))throw Fr.create("not-registered");return function gr(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function dt(w,I){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,ce.Z)(function*(w,I){try{const k=yield W(w,I),H=Object.assign(Object.assign({},I),{authToken:k});return yield At(w.appConfig,H),k}catch(k){if(!fr(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const H=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield At(w.appConfig,H)}else yield kn(w.appConfig);throw k}})).apply(this,arguments)}function sn(w){return void 0!==w&&2===w.registrationStatus}function Yt(w){return 2===w.requestStatus&&!function or(w){const I=Date.now();return I<w.creationTime||w.creationTime+w.expiresIn<I+36e5}(w)}function fn(w){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:I})}function un(){return(un=(0,ce.Z)(function*(w){const I=w,{installationEntry:k,registrationPromise:H}=yield ue(I);return H?H.catch(console.error):Lt(I).catch(console.error),k.fid})).apply(this,arguments)}function Gi(){return(Gi=(0,ce.Z)(function*(w,I=!1){const k=w;return yield Ii(k),(yield Lt(k,I)).token})).apply(this,arguments)}function Ii(w){return si.apply(this,arguments)}function si(){return(si=(0,ce.Z)(function*(w){const{registrationPromise:I}=yield ue(w);I&&(yield I)})).apply(this,arguments)}function me(w){return Fr.create("missing-app-config-values",{valueName:w})}const Se="installations",it=w=>{const I=w.getProvider("app").getImmediate(),k=function Ie(w){if(!w||!w.options)throw me("App Configuration");if(!w.name)throw me("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!w.options[k])throw me(k);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,Ue.qX)(I,"heartbeat"),_delete:()=>Promise.resolve()}},qt=w=>{const I=w.getProvider("app").getImmediate(),k=(0,Ue.qX)(I,Se).getImmediate();return{getId:()=>function Hi(w){return un.apply(this,arguments)}(k),getToken:le=>function Xi(w){return Gi.apply(this,arguments)}(k,le)}};(function gn(){(0,Ue.Xd)(new Re.wA(Se,it,"PUBLIC")),(0,Ue.Xd)(new Re.wA("installations-internal",qt,"PRIVATE"))})(),(0,Ue.KN)(zn,"0.6.4"),(0,Ue.KN)(zn,"0.6.4","esm2017");const Kt="@firebase/remote-config",Ln=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vo{constructor(I,k,H,le){this.client=I,this.storage=k,this.storageCache=H,this.logger=le}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-k,le=H<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${le}.`),le}fetch(I){var k=this;return(0,ce.Z)(function*(){const[H,le]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(le&&k.isCachedDataFresh(I.cacheMaxAgeMillis,H))return le;I.eTag=le&&le.eTag;const Te=yield k.client.fetch(I),He=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Te.status&&He.push(k.storage.setLastSuccessfulFetchResponse(Te)),yield Promise.all(He),Te})()}}function oi(w=navigator){return w.languages&&w.languages[0]||w.language}class ar{constructor(I,k,H,le,Te,He){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=H,this.projectId=le,this.apiKey=Te,this.appId=He}fetch(I){var k=this;return(0,ce.Z)(function*(){const[H,le]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),He=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,St={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ft={sdk_version:k.sdkVersion,app_instance_id:H,app_instance_id_token:le,app_id:k.appId,language_code:oi()},zt={method:"POST",headers:St,body:JSON.stringify(ft)},dn=fetch(He,zt),wn=new Promise((Eo,Ms)=>{I.signal.addEventListener(()=>{const Za=new Error("The operation was aborted.");Za.name="AbortError",Ms(Za)})});let Zs;try{yield Promise.race([dn,wn]),Zs=yield dn}catch(Eo){let Ms="fetch-client-network";throw"AbortError"===Eo?.name&&(Ms="fetch-timeout"),Ln.create(Ms,{originalErrorMessage:Eo?.message})}let $i=Zs.status;const Ya=Zs.headers.get("ETag")||void 0;let Po,Mi;if(200===Zs.status){let Eo;try{Eo=yield Zs.json()}catch(Ms){throw Ln.create("fetch-client-parse",{originalErrorMessage:Ms?.message})}Po=Eo.entries,Mi=Eo.state}if("INSTANCE_STATE_UNSPECIFIED"===Mi?$i=500:"NO_CHANGE"===Mi?$i=304:("NO_TEMPLATE"===Mi||"EMPTY_CONFIG"===Mi)&&(Po={}),304!==$i&&200!==$i)throw Ln.create("fetch-status",{httpStatus:$i});return{status:$i,eTag:Ya,config:Po}})()}}class Ma{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,ce.Z)(function*(){const H=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,H)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:H}){var le=this;return(0,ce.Z)(function*(){yield function Bo(w,I){return new Promise((k,H)=>{const le=Math.max(I-Date.now(),0),Te=setTimeout(k,le);w.addEventListener(()=>{clearTimeout(Te),H(Ln.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const Te=yield le.client.fetch(I);return yield le.storage.deleteThrottleMetadata(),Te}catch(Te){if(!function la(w){if(!(w instanceof ve.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}(Te))throw Te;const He={throttleEndTimeMillis:Date.now()+(0,ve.$s)(H),backoffCount:H+1};return yield le.storage.setThrottleMetadata(He),le.attemptFetch(I,He)}})()}}class $o{constructor(I,k,H,le,Te){this.app=I,this._client=k,this._storageCache=H,this._storage=le,this._logger=Te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jo(w,I){const k=w.target.error||void 0;return Ln.create(I,{originalErrorMessage:k&&k?.message})}const go="app_namespace_store";class $s{constructor(I,k,H,le=function vi(){return new Promise((w,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=H=>{I(jo(H,"storage-open"))},k.onsuccess=H=>{w(H.target.result)},k.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(go,{keyPath:"compositeKey"})}}catch(k){I(Ln.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=I,this.appName=k,this.namespace=H,this.openDbPromise=le}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,ce.Z)(function*(){const H=yield k.openDbPromise;return new Promise((le,Te)=>{const St=H.transaction([go],"readonly").objectStore(go),ft=k.createCompositeKey(I);try{const zt=St.get(ft);zt.onerror=dn=>{Te(jo(dn,"storage-get"))},zt.onsuccess=dn=>{const wn=dn.target.result;le(wn?wn.value:void 0)}}catch(zt){Te(Ln.create("storage-get",{originalErrorMessage:zt?.message}))}})})()}set(I,k){var H=this;return(0,ce.Z)(function*(){const le=yield H.openDbPromise;return new Promise((Te,He)=>{const ft=le.transaction([go],"readwrite").objectStore(go),zt=H.createCompositeKey(I);try{const dn=ft.put({compositeKey:zt,value:k});dn.onerror=wn=>{He(jo(wn,"storage-set"))},dn.onsuccess=()=>{Te()}}catch(dn){He(Ln.create("storage-set",{originalErrorMessage:dn?.message}))}})})()}delete(I){var k=this;return(0,ce.Z)(function*(){const H=yield k.openDbPromise;return new Promise((le,Te)=>{const St=H.transaction([go],"readwrite").objectStore(go),ft=k.createCompositeKey(I);try{const zt=St.delete(ft);zt.onerror=dn=>{Te(jo(dn,"storage-delete"))},zt.onsuccess=()=>{le()}}catch(zt){Te(Ln.create("storage-delete",{originalErrorMessage:zt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class ha{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,ce.Z)(function*(){const k=I.storage.getLastFetchStatus(),H=I.storage.getLastSuccessfulFetchTimestampMillis(),le=I.storage.getActiveConfig(),Te=yield k;Te&&(I.lastFetchStatus=Te);const He=yield H;He&&(I.lastSuccessfulFetchTimestampMillis=He);const St=yield le;St&&(I.activeConfig=St)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function js(){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,ce.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}let fa,tr;!function Ho(){(0,Ue.Xd)(new Re.wA("remote-config",function w(I,{instanceIdentifier:k}){const H=I.getProvider("app").getImmediate(),le=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ln.create("registration-window");if(!(0,ve.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:Te,apiKey:He,appId:St}=H.options;if(!Te)throw Ln.create("registration-project-id");if(!He)throw Ln.create("registration-api-key");if(!St)throw Ln.create("registration-app-id");const ft=new $s(St,H.name,k=k||"firebase"),zt=new ha(ft),dn=new De.Yd(Kt);dn.logLevel=De.in.ERROR;const wn=new ar(le,Ue.Jn,k,Te,He,St),Zs=new Ma(wn,ft),$i=new Vo(Zs,ft,zt,dn),Ya=new $o(H,$i,zt,ft,dn);return function Vs(w){const I=(0,ve.m9)(w);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Ya),Ya},"PUBLIC").setMultipleInstances(!0)),(0,Ue.KN)(Kt,"0.4.4"),(0,Ue.KN)(Kt,"0.4.4","esm2017")}();const Ds=new WeakMap,Di=new WeakMap,ms=new WeakMap,Co=new WeakMap,es=new WeakMap;let ys={get(w,I,k){if(w instanceof IDBTransaction){if("done"===I)return Di.get(w);if("objectStoreNames"===I)return w.objectStoreNames||ms.get(w);if("store"===I)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return Vr(w[I])},set:(w,I,k)=>(w[I]=k,!0),has:(w,I)=>w instanceof IDBTransaction&&("done"===I||"store"===I)||I in w};function Pa(w){return"function"==typeof w?function ns(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mo(){return tr||(tr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...I){return w.apply(tn(this),I),Vr(Ds.get(this))}:function(...I){return Vr(w.apply(tn(this),I))}:function(I,...k){const H=w.call(tn(this),I,...k);return ms.set(H,I.sort?I.sort():[I]),Vr(H)}}(w):(w instanceof IDBTransaction&&function yo(w){if(Di.has(w))return;const I=new Promise((k,H)=>{const le=()=>{w.removeEventListener("complete",Te),w.removeEventListener("error",He),w.removeEventListener("abort",He)},Te=()=>{k(),le()},He=()=>{H(w.error||new DOMException("AbortError","AbortError")),le()};w.addEventListener("complete",Te),w.addEventListener("error",He),w.addEventListener("abort",He)});Di.set(w,I)}(w),((w,I)=>I.some(k=>w instanceof k))(w,function Do(){return fa||(fa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,ys):w)}function Vr(w){if(w instanceof IDBRequest)return function Fi(w){const I=new Promise((k,H)=>{const le=()=>{w.removeEventListener("success",Te),w.removeEventListener("error",He)},Te=()=>{k(Vr(w.result)),le()},He=()=>{H(w.error),le()};w.addEventListener("success",Te),w.addEventListener("error",He)});return I.then(k=>{k instanceof IDBCursor&&Ds.set(k,w)}).catch(()=>{}),es.set(I,w),I}(w);if(Co.has(w))return Co.get(w);const I=Pa(w);return I!==w&&(Co.set(w,I),es.set(I,w)),I}const tn=w=>es.get(w);function _o(w,I,{blocked:k,upgrade:H,blocking:le,terminated:Te}={}){const He=indexedDB.open(w,I),St=Vr(He);return H&&He.addEventListener("upgradeneeded",ft=>{H(Vr(He.result),ft.oldVersion,ft.newVersion,Vr(He.transaction))}),k&&He.addEventListener("blocked",()=>k()),St.then(ft=>{Te&&ft.addEventListener("close",()=>Te()),le&&ft.addEventListener("versionchange",()=>le())}).catch(()=>{}),St}function Br(w,{blocked:I}={}){const k=indexedDB.deleteDatabase(w);return I&&k.addEventListener("blocked",()=>I()),Vr(k).then(()=>{})}const pa=["get","getKey","getAll","getAllKeys","count"],Na=["put","add","delete","clear"],zo=new Map;function su(w,I){if(!(w instanceof IDBDatabase)||I in w||"string"!=typeof I)return;if(zo.get(I))return zo.get(I);const k=I.replace(/FromIndex$/,""),H=I!==k,le=Na.includes(k);if(!(k in(H?IDBIndex:IDBObjectStore).prototype)||!le&&!pa.includes(k))return;const Te=function(){var He=(0,ce.Z)(function*(St,...ft){const zt=this.transaction(St,le?"readwrite":"readonly");let dn=zt.store;return H&&(dn=dn.index(ft.shift())),(yield Promise.all([dn[k](...ft),le&&zt.done]))[0]});return function(ft){return He.apply(this,arguments)}}();return zo.set(I,Te),Te}!function ts(w){ys=w(ys)}(w=>({...w,get:(I,k,H)=>su(I,k)||w.get(I,k,H),has:(I,k)=>!!su(I,k)||w.has(I,k)}));const bu="/firebase-messaging-sw.js",Oa="/firebase-cloud-messaging-push-scope",R="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",X="google.c.a.c_id",te="google.c.a.c_l",Ee="google.c.a.ts",qe="google.c.a.e";var xt=(()=>{return(w=xt||(xt={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",xt;var w})();function yt(w){const I=new Uint8Array(w);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tn(w){const k=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(k),le=new Uint8Array(H.length);for(let Te=0;Te<H.length;++Te)le[Te]=H.charCodeAt(Te);return le}const $n="fcm_token_details_db",jr="fcm_token_object_Store";function Tr(w){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,ce.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Te=>Te.name).includes($n))return null;let I=null;return(yield _o($n,5,{upgrade:(H=(0,ce.Z)(function*(le,Te,He,St){var ft;if(Te<2||!le.objectStoreNames.contains(jr))return;const zt=St.objectStore(jr),dn=yield zt.index("fcmSenderId").get(w);if(yield zt.clear(),dn)if(2===Te){const wn=dn;if(!wn.auth||!wn.p256dh||!wn.endpoint)return;I={token:wn.fcmToken,createTime:null!==(ft=wn.createTime)&&void 0!==ft?ft:Date.now(),subscriptionOptions:{auth:wn.auth,p256dh:wn.p256dh,endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:"string"==typeof wn.vapidKey?wn.vapidKey:yt(wn.vapidKey)}}}else if(3===Te){const wn=dn;I={token:wn.fcmToken,createTime:wn.createTime,subscriptionOptions:{auth:yt(wn.auth),p256dh:yt(wn.p256dh),endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:yt(wn.vapidKey)}}}else if(4===Te){const wn=dn;I={token:wn.fcmToken,createTime:wn.createTime,subscriptionOptions:{auth:yt(wn.auth),p256dh:yt(wn.p256dh),endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:yt(wn.vapidKey)}}}}),function(Te,He,St,ft){return H.apply(this,arguments)})})).close(),yield Br($n),yield Br("fcm_vapid_details_db"),yield Br("undefined"),lr(I)?I:null;var H}),Fn.apply(this,arguments)}function lr(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:I}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const nr="firebase-messaging-store";let jn=null;function vr(){return jn||(jn=_o("firebase-messaging-database",1,{upgrade:(w,I)=>{0===I&&w.createObjectStore(nr)}})),jn}function Gs(w){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,ce.Z)(function*(w){const I=La(w),H=yield(yield vr()).transaction(nr).objectStore(nr).get(I);if(H)return H;{const le=yield Tr(w.appConfig.senderId);if(le)return yield Cs(w,le),le}})).apply(this,arguments)}function Cs(w,I){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,ce.Z)(function*(w,I){const k=La(w),le=(yield vr()).transaction(nr,"readwrite");return yield le.objectStore(nr).put(I,k),yield le.done,I})).apply(this,arguments)}function _s(w){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,ce.Z)(function*(w){const I=La(w),H=(yield vr()).transaction(nr,"readwrite");yield H.objectStore(nr).delete(I),yield H.done})).apply(this,arguments)}function La({appConfig:w}){return w.appId}const Wr=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zs(w,I){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,ce.Z)(function*(w,I){const k=yield ai(w),H=Rr(I),le={method:"POST",headers:k,body:JSON.stringify(H)};let Te;try{Te=yield(yield fetch(rs(w.appConfig),le)).json()}catch(He){throw Wr.create("token-subscribe-failed",{errorInfo:He?.toString()})}if(Te.error)throw Wr.create("token-subscribe-failed",{errorInfo:Te.error.message});if(!Te.token)throw Wr.create("token-subscribe-no-token");return Te.token})).apply(this,arguments)}function ou(w,I){return qo.apply(this,arguments)}function qo(){return(qo=(0,ce.Z)(function*(w,I){const k=yield ai(w),H=Rr(I.subscriptionOptions),le={method:"PATCH",headers:k,body:JSON.stringify(H)};let Te;try{Te=yield(yield fetch(`${rs(w.appConfig)}/${I.token}`,le)).json()}catch(He){throw Wr.create("token-update-failed",{errorInfo:He?.toString()})}if(Te.error)throw Wr.create("token-update-failed",{errorInfo:Te.error.message});if(!Te.token)throw Wr.create("token-update-no-token");return Te.token})).apply(this,arguments)}function ro(w,I){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,ce.Z)(function*(w,I){const H={method:"DELETE",headers:yield ai(w)};try{const Te=yield(yield fetch(`${rs(w.appConfig)}/${I}`,H)).json();if(Te.error)throw Wr.create("token-unsubscribe-failed",{errorInfo:Te.error.message})}catch(le){throw Wr.create("token-unsubscribe-failed",{errorInfo:le?.toString()})}})).apply(this,arguments)}function rs({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function ai(w){return Un.apply(this,arguments)}function Un(){return(Un=(0,ce.Z)(function*({appConfig:w,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Rr({p256dh:w,auth:I,endpoint:k,vapidKey:H}){const le={web:{endpoint:k,auth:I,p256dh:w}};return H!==R&&(le.web.applicationPubKey=H),le}const au=6048e5;function As(w){return uu.apply(this,arguments)}function uu(){return(uu=(0,ce.Z)(function*(w){const I=yield qr(w.swRegistration,w.vapidKey),k={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:I.endpoint,auth:yt(I.getKey("auth")),p256dh:yt(I.getKey("p256dh"))},H=yield Gs(w.firebaseDependencies);if(H){if(D(H.subscriptionOptions,k))return Date.now()>=H.createTime+au?Ko(w,{token:H.token,createTime:Date.now(),subscriptionOptions:k}):H.token;try{yield ro(w.firebaseDependencies,H.token)}catch(le){console.warn(le)}return is(w.firebaseDependencies,k)}return is(w.firebaseDependencies,k)})).apply(this,arguments)}function So(w){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,ce.Z)(function*(w){const I=yield Gs(w.firebaseDependencies);I&&(yield ro(w.firebaseDependencies,I.token),yield _s(w.firebaseDependencies));const k=yield w.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Ko(w,I){return Os.apply(this,arguments)}function Os(){return(Os=(0,ce.Z)(function*(w,I){try{const k=yield ou(w.firebaseDependencies,I),H=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield Cs(w.firebaseDependencies,H),k}catch(k){throw yield So(w),k}})).apply(this,arguments)}function is(w,I){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,ce.Z)(function*(w,I){const H={token:yield zs(w,I),createTime:Date.now(),subscriptionOptions:I};return yield Cs(w,H),H.token})).apply(this,arguments)}function qr(w,I){return ga.apply(this,arguments)}function ga(){return(ga=(0,ce.Z)(function*(w,I){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tn(I)})})).apply(this,arguments)}function D(w,I){return I.vapidKey===w.vapidKey&&I.endpoint===w.endpoint&&I.auth===w.auth&&I.p256dh===w.p256dh}function F(w){const I={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function A(w,I){if(!I.notification)return;w.notification={};const k=I.notification.title;k&&(w.notification.title=k);const H=I.notification.body;H&&(w.notification.body=H);const le=I.notification.image;le&&(w.notification.image=le);const Te=I.notification.icon;Te&&(w.notification.icon=Te)}(I,w),function B(w,I){!I.data||(w.data=I.data)}(I,w),function oe(w,I){var k,H,le,Te,He;if(!(I.fcmOptions||null!==(k=I.notification)&&void 0!==k&&k.click_action))return;w.fcmOptions={};const St=null!==(le=null===(H=I.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==le?le:null===(Te=I.notification)||void 0===Te?void 0:Te.click_action;St&&(w.fcmOptions.link=St);const ft=null===(He=I.fcmOptions)||void 0===He?void 0:He.analytics_label;ft&&(w.fcmOptions.analyticsLabel=ft)}(I,w),I}function Ve(w){return"object"==typeof w&&!!w&&X in w}function Je(w,I){const k=[];for(let H=0;H<w.length;H++)k.push(w.charAt(H)),H<I.length&&k.push(I.charAt(H));return k.join("")}function qn(w){return Wr.create("missing-app-config-values",{valueName:w})}Je("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Je("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wr{constructor(I,k,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const le=function Gt(w){if(!w||!w.options)throw qn("App Configuration Object");if(!w.name)throw qn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=w;for(const H of I)if(!k[H])throw qn(H);return{appName:w.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:le,installations:k,analyticsProvider:H}}_delete(){return Promise.resolve()}}function rr(w){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,ce.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(bu,{scope:Oa}),w.swRegistration.update().catch(()=>{})}catch(I){throw Wr.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Xr(w,I){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,ce.Z)(function*(w,I){if(!I&&!w.swRegistration&&(yield rr(w)),I||!w.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Wr.create("invalid-sw-registration");w.swRegistration=I}})).apply(this,arguments)}function wi(w,I){return ss.apply(this,arguments)}function ss(){return(ss=(0,ce.Z)(function*(w,I){I?w.vapidKey=I:w.vapidKey||(w.vapidKey=R)})).apply(this,arguments)}function ur(){return(ur=(0,ce.Z)(function*(w,I){if(!navigator)throw Wr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wr.create("permission-blocked");return yield wi(w,I?.vapidKey),yield Xr(w,I?.serviceWorkerRegistration),As(w)})).apply(this,arguments)}function Ki(w,I,k){return Si.apply(this,arguments)}function Si(){return(Si=(0,ce.Z)(function*(w,I,k){const H=io(I);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:k[X],message_name:k[te],message_time:k[Ee],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function io(w){switch(w){case xt.NOTIFICATION_CLICKED:return"notification_open";case xt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function st(){return(st=(0,ce.Z)(function*(w,I){const k=I.data;if(!k.isFirebaseMessaging)return;w.onMessageHandler&&k.messageType===xt.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(F(k)):w.onMessageHandler.next(F(k)));const H=k.data;Ve(H)&&"1"===H[qe]&&(yield Ki(w,k.messageType,H))})).apply(this,arguments)}const ui="@firebase/messaging",Tu=w=>{const I=new wr(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Va(w,I){return st.apply(this,arguments)}(I,k)),I},Ct=w=>{const I=w.getProvider("messaging").getImmediate();return{getToken:H=>function qi(w,I){return ur.apply(this,arguments)}(I,H)}};function ma(){return bt.apply(this,arguments)}function bt(){return(bt=(0,ce.Z)(function*(){try{yield(0,ve.eu)()}catch{return!1}return typeof window<"u"&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zt(){(0,Ue.Xd)(new Re.wA("messaging",Tu,"PUBLIC")),(0,Ue.Xd)(new Re.wA("messaging-internal",Ct,"PRIVATE")),(0,Ue.KN)(ui,"0.12.4"),(0,Ue.KN)(ui,"0.12.4","esm2017")}();const Gu="analytics",lu="firebase_id",qc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yo="https://www.googletagmanager.com/gtag/js",Ut=new De.Yd("@firebase/analytics"),Vi=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ti(w){if(!w.startsWith(Yo)){const I=Vi.create("invalid-gtag-resource",{gtagURL:w});return Ut.warn(I.message),""}return w}function Jt(w){return Promise.all(w.map(I=>I.catch(k=>k)))}function Hn(w,I){const k=function Zo(w,I){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(w,I)),k}("firebase-js-sdk-policy",{createScriptURL:ti}),H=document.createElement("script"),le=`${Yo}?l=${w}&id=${I}`;H.src=k?k?.createScriptURL(le):le,H.async=!0,document.head.appendChild(H)}function Mr(w,I,k,H,le,Te){return Et.apply(this,arguments)}function Et(){return(Et=(0,ce.Z)(function*(w,I,k,H,le,Te){const He=H[le];try{if(He)yield I[He];else{const ft=(yield Jt(k)).find(zt=>zt.measurementId===le);ft&&(yield I[ft.appId])}}catch(St){Ut.error(St)}w("config",le,Te)})).apply(this,arguments)}function du(w,I,k,H,le){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,ce.Z)(function*(w,I,k,H,le){try{let Te=[];if(le&&le.send_to){let He=le.send_to;Array.isArray(He)||(He=[He]);const St=yield Jt(k);for(const ft of He){const zt=St.find(wn=>wn.measurementId===ft),dn=zt&&I[zt.appId];if(!dn){Te=[];break}Te.push(dn)}}0===Te.length&&(Te=Object.values(I)),yield Promise.all(Te),w("event",H,le||{})}catch(Te){Ut.error(Te)}})).apply(this,arguments)}function hu(w){const I=window.document.getElementsByTagName("script");for(const k of Object.values(I))if(k.src&&k.src.includes(Yo)&&k.src.includes(w))return k;return null}const zu=new class Vl{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function qs(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Bl(w){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,ce.Z)(function*(w){var I;const{appId:k,apiKey:H}=w,le={method:"GET",headers:qs(H)},Te=qc.replace("{app-id}",k),He=yield fetch(Te,le);if(200!==He.status&&304!==He.status){let St="";try{const ft=yield He.json();null!==(I=ft.error)&&void 0!==I&&I.message&&(St=ft.error.message)}catch{}throw Vi.create("config-fetch-failed",{httpStatus:He.status,responseMessage:St})}return He.json()})).apply(this,arguments)}function Nd(w){return vs.apply(this,arguments)}function vs(){return(vs=(0,ce.Z)(function*(w,I=zu,k){const{appId:H,apiKey:le,measurementId:Te}=w.options;if(!H)throw Vi.create("no-app-id");if(!le){if(Te)return{measurementId:Te,appId:H};throw Vi.create("no-api-key")}const He=I.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},St=new Ro;return setTimeout((0,ce.Z)(function*(){St.abort()}),void 0!==k?k:6e4),Su({appId:H,apiKey:le,measurementId:Te},He,St,I)})).apply(this,arguments)}function Su(w,I,k){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,ce.Z)(function*(w,{throttleEndTimeMillis:I,backoffCount:k},H,le=zu){var Te;const{appId:He,measurementId:St}=w;try{yield pi(H,I)}catch(ft){if(St)return Ut.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:He,measurementId:St};throw ft}try{const ft=yield Bl(w);return le.deleteThrottleMetadata(He),ft}catch(ft){const zt=ft;if(!Ls(zt)){if(le.deleteThrottleMetadata(He),St)return Ut.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${zt?.message}]`),{appId:He,measurementId:St};throw ft}const dn=503===Number(null===(Te=zt?.customData)||void 0===Te?void 0:Te.httpStatus)?(0,ve.$s)(k,le.intervalMillis,30):(0,ve.$s)(k,le.intervalMillis),wn={throttleEndTimeMillis:Date.now()+dn,backoffCount:k+1};return le.setThrottleMetadata(He,wn),Ut.debug(`Calling attemptFetch again in ${dn} millis`),Su(w,wn,H,le)}})).apply(this,arguments)}function pi(w,I){return new Promise((k,H)=>{const le=Math.max(I-Date.now(),0),Te=setTimeout(k,le);w.addEventListener(()=>{clearTimeout(Te),H(Vi.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Ls(w){if(!(w instanceof ve.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Ro{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let vo,xi;function Zn(){return(Zn=(0,ce.Z)(function*(w,I,k,H,le){if(le&&le.global)w("event",k,H);else{const Te=yield I;w("event",k,Object.assign(Object.assign({},H),{send_to:Te}))}})).apply(this,arguments)}function va(w){xi=w}function us(w){vo=w}function Zc(){return ja.apply(this,arguments)}function ja(){return(ja=(0,ce.Z)(function*(){if(!(0,ve.hl)())return Ut.warn(Vi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(w){return Ut.warn(Vi.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function fc(){return(fc=(0,ce.Z)(function*(w,I,k,H,le,Te,He){var St;const ft=Nd(w);ft.then($i=>{k[$i.measurementId]=$i.appId,w.options.measurementId&&$i.measurementId!==w.options.measurementId&&Ut.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${$i.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($i=>Ut.error($i)),I.push(ft);const zt=Zc().then($i=>{if($i)return H.getId()}),[dn,wn]=yield Promise.all([ft,zt]);hu(Te)||Hn(Te,dn.measurementId),xi&&(le("consent","default",xi),va(void 0)),le("js",new Date);const Zs=null!==(St=He?.config)&&void 0!==St?St:{};return Zs.origin="firebase",Zs.update=!0,null!=wn&&(Zs[lu]=wn),le("config",dn.measurementId,Zs),vo&&(le("set",vo),us(void 0)),dn.measurementId})).apply(this,arguments)}class Wu{constructor(I){this.app=I}_delete(){return delete ko[this.app.options.appId],Promise.resolve()}}let ko={},pc=[];const Qc={};let _,g,xu="dataLayer",C=!1;function J(w,I,k){!function $(){const w=[];if((0,ve.ru)()&&w.push("This is a browser extension environment."),(0,ve.zI)()||w.push("Cookies are not available."),w.length>0){const I=w.map((H,le)=>`(${le+1}) ${H}`).join(" "),k=Vi.create("invalid-analytics-context",{errorInfo:I});Ut.warn(k.message)}}();const H=w.options.appId;if(!H)throw Vi.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Vi.create("no-api-key");Ut.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ko[H])throw Vi.create("already-exists",{id:H});if(!C){!function Ws(w){let I=[];Array.isArray(window[w])?I=window[w]:window[w]=I}(xu);const{wrappedGtag:Te,gtagCore:He}=function Ul(w,I,k,H,le){let Te=function(...He){window[H].push(arguments)};return window[le]&&"function"==typeof window[le]&&(Te=window[le]),window[le]=function kr(w,I,k,H){function Te(){return(Te=(0,ce.Z)(function*(He,...St){try{if("event"===He){const[ft,zt]=St;yield du(w,I,k,ft,zt)}else if("config"===He){const[ft,zt]=St;yield Mr(w,I,k,H,ft,zt)}else if("consent"===He){const[ft]=St;w("consent","update",ft)}else if("get"===He){const[ft,zt,dn]=St;w("get",ft,zt,dn)}else if("set"===He){const[ft]=St;w("set",ft)}else w(He,...St)}catch(ft){Ut.error(ft)}})).apply(this,arguments)}return function le(He){return Te.apply(this,arguments)}}(Te,w,I,k),{gtagCore:Te,wrappedGtag:window[le]}}(ko,pc,Qc,xu,"gtag");g=Te,_=He,C=!0}return ko[H]=function Au(w,I,k,H,le,Te,He){return fc.apply(this,arguments)}(w,pc,Qc,I,_,xu,k),new Wu(w)}function _t(){return mn.apply(this,arguments)}function mn(){return(mn=(0,ce.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}const wa="@firebase/analytics";!function Hr(){(0,Ue.Xd)(new Re.wA(Gu,(I,{options:k})=>J(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,Ue.Xd)(new Re.wA("analytics-internal",function w(I){try{const k=I.getProvider(Gu).getImmediate();return{logEvent:(H,le,Te)=>function gu(w,I,k,H){w=(0,ve.m9)(w),function Ba(w,I,k,H,le){return Zn.apply(this,arguments)}(g,ko[w.app.options.appId],I,k,H).catch(le=>Ut.error(le))}(k,H,le,Te)}}catch(k){throw Vi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,Ue.KN)(wa,"0.10.0"),(0,Ue.KN)(wa,"0.10.0","esm2017")}();var qu=q(2654);class Ha extends qu.w{constructor(I,k){super()}schedule(I,k=0){return this}}class xs extends Ha{constructor(I,k){super(I,k),this.scheduler=I,this.work=k,this.pending=!1}schedule(I,k=0){if(this.closed)return this;this.state=I;const H=this.id,le=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(le,H,k)),this.pending=!0,this.delay=k,this.id=this.id||this.requestAsyncId(le,this.id,k),this}requestAsyncId(I,k,H=0){return setInterval(I.flush.bind(I,this),H)}recycleAsyncId(I,k,H=0){if(null!==H&&this.delay===H&&!1===this.pending)return k;clearInterval(k)}execute(I,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const H=this._execute(I,k);if(H)return H;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(I,k){let le,H=!1;try{this.work(I)}catch(Te){H=!0,le=!!Te&&Te||new Error(Te)}if(H)return this.unsubscribe(),le}_unsubscribe(){const I=this.id,k=this.scheduler,H=k.actions,le=H.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==le&&H.splice(le,1),null!=I&&(this.id=this.recycleAsyncId(k,I,null)),this.delay=null}}let Ru=(()=>{class w{constructor(k,H=w.now){this.SchedulerAction=k,this.now=H}schedule(k,H=0,le){return new this.SchedulerAction(this,k).schedule(le,H)}}return w.now=()=>Date.now(),w})();class Dr extends Ru{constructor(I,k=Ru.now){super(I,()=>Dr.delegate&&Dr.delegate!==this?Dr.delegate.now():k()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(I,k=0,H){return Dr.delegate&&Dr.delegate!==this?Dr.delegate.schedule(I,k,H):super.schedule(I,k,H)}flush(I){const{actions:k}=this;if(this.active)return void k.push(I);let H;this.active=!0;do{if(H=I.execute(I.state,I.delay))break}while(I=k.shift());if(this.active=!1,H){for(;I=k.shift();)I.unsubscribe();throw H}}}const ea=new class Vh extends Dr{}(class Ga extends xs{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,H=0){return null!==H&&H>0||null===H&&this.delay>0?super.requestAsyncId(I,k,H):I.flush(this)}}),Zi=new Dr(xs);var Yu=q(6498),Mu=q(2868);let Od=1;const za=Promise.resolve(),ta={};function gc(w){return w in ta&&(delete ta[w],!0)}const Wa={setImmediate(w){const I=Od++;return ta[I]=!0,za.then(()=>gc(I)&&w()),I},clearImmediate(w){gc(w)}},Ea=new class na extends Dr{flush(I){this.active=!0,this.scheduled=void 0;const{actions:k}=this;let H,le=-1,Te=k.length;I=I||k.shift();do{if(H=I.execute(I.state,I.delay))break}while(++le<Te&&(I=k.shift()));if(this.active=!1,H){for(;++le<Te&&(I=k.shift());)I.unsubscribe();throw H}}}(class Zu extends xs{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}requestAsyncId(I,k,H=0){return null!==H&&H>0?super.requestAsyncId(I,k,H):(I.actions.push(this),I.scheduled||(I.scheduled=Wa.setImmediate(I.flush.bind(I,null))))}recycleAsyncId(I,k,H=0){if(null!==H&&H>0||null===H&&this.delay>0)return super.recycleAsyncId(I,k,H);0===I.actions.length&&(Wa.clearImmediate(k),I.scheduled=void 0)}});var ku=q(6688);class Ys extends Yu.y{constructor(I,k=0,H=Ea){super(),this.source=I,this.delayTime=k,this.scheduler=H,(!function Jc(w){return!(0,ku.k)(w)&&w-parseFloat(w)+1>=0}(k)||k<0)&&(this.delayTime=0),(!H||"function"!=typeof H.schedule)&&(this.scheduler=Ea)}static create(I,k=0,H=Ea){return new Ys(I,k,H)}static dispatch(I){const{source:k,subscriber:H}=I;return this.add(k.subscribe(H))}_subscribe(I){return this.scheduler.schedule(Ys.dispatch,this.delayTime,{source:this.source,subscriber:I})}}function mc(w,I=0){return function(H){return H.lift(new mu(w,I))}}class mu{constructor(I,k){this.scheduler=I,this.delay=k}call(I,k){return new Ys(k,this.delay,this.scheduler).subscribe(I)}}var Xc=q(3489),el=q(8896),qa=q(1086),tl=q(1737);class wo{constructor(I,k,H){this.kind=I,this.value=k,this.error=H,this.hasValue="N"===I}observe(I){switch(this.kind){case"N":return I.next&&I.next(this.value);case"E":return I.error&&I.error(this.error);case"C":return I.complete&&I.complete()}}do(I,k,H){switch(this.kind){case"N":return I&&I(this.value);case"E":return k&&k(this.error);case"C":return H&&H()}}accept(I,k,H){return I&&"function"==typeof I.next?this.observe(I):this.do(I,k,H)}toObservable(){switch(this.kind){case"N":return(0,qa.of)(this.value);case"E":return(0,tl._)(this.error);case"C":return(0,el.c)()}throw new Error("unexpected notification kind value")}static createNext(I){return typeof I<"u"?new wo("N",I):wo.undefinedValueNotification}static createError(I){return new wo("E",void 0,I)}static createComplete(){return wo.completeNotification}}function $l(w,I=0){return function(H){return H.lift(new $h(w,I))}}wo.completeNotification=new wo("C"),wo.undefinedValueNotification=new wo("N",void 0);class $h{constructor(I,k=0){this.scheduler=I,this.delay=k}call(I,k){return k.subscribe(new yc(I,this.scheduler,this.delay))}}class yc extends Xc.L{constructor(I,k,H=0){super(I),this.scheduler=k,this.delay=H}static dispatch(I){const{notification:k,destination:H}=I;k.observe(H),this.unsubscribe()}scheduleMessage(I){this.destination.add(this.scheduler.schedule(yc.dispatch,this.delay,new Bi(I,this.destination)))}_next(I){this.scheduleMessage(wo.createNext(I))}_error(I){this.scheduleMessage(wo.createError(I)),this.unsubscribe()}_complete(){this.scheduleMessage(wo.createComplete()),this.unsubscribe()}}class Bi{constructor(I,k){this.notification=I,this.destination=k}}const nl=new P.GfV("7.4.0"),Gr="__angularfire_symbol__analyticsIsSupportedValue",oo="__angularfire_symbol__analyticsIsSupported",_c="__angularfire_symbol__remoteConfigIsSupportedValue",ao="__angularfire_symbol__remoteConfigIsSupported",ra="__angularfire_symbol__messagingIsSupportedValue",jl="__angularfire_symbol__messagingIsSupported";function Qu(w,I,k){if(I){if(1===I.length)return I[0];const Te=I.filter(He=>He.app===k);if(1===Te.length)return Te[0]}return k.container.getProvider(w).getImmediate({optional:!0})}globalThis[oo]||(globalThis[oo]=_t().then(w=>globalThis[Gr]=w).catch(()=>globalThis[Gr]=!1)),globalThis[jl]||(globalThis[jl]=ma().then(w=>globalThis[ra]=w).catch(()=>globalThis[ra]=!1)),globalThis[ao]||(globalThis[ao]=js().then(w=>globalThis[_c]=w).catch(()=>globalThis[_c]=!1));const rl=(w,I)=>{const k=I?[I]:(0,z.C6)(),H=[];return k.forEach(le=>{le.container.getProvider(w).instances.forEach(He=>{H.includes(He)||H.push(He)})}),H};function Ka(){}class Ju{constructor(I,k=ea){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,H){const le=this.zone;return this.delegate.schedule(function(He){le.runGuarded(()=>{I.apply(this,[He])})},k,H)}}class il{constructor(I){this.zone=I,this.task=null}call(I,k){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)),k.pipe((0,Mu.b)({next:H,complete:H,error:H})).subscribe(I).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Rs=(()=>{class w{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Ju(Zone.current)),this.insideAngular=k.run(()=>new Ju(Zone.current,Zi)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(k){return new(k||w)(P.LFG(P.R0b))},w.\u0275prov=P.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ia(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function vc(w){return ia().ngZone.runOutsideAngular(()=>w())}function Ia(w){return ia().ngZone.run(()=>w())}function wc(w){return ia(),function Hl(w){return function(k){return(k=k.lift(new il(w.ngZone))).pipe(mc(w.outsideAngular),$l(w.insideAngular))}}(ia())(w)}const Fd=(w,I)=>function(){const H=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),Ia(()=>w.apply(void 0,H))},sl=(w,I)=>function(){let k;const H=arguments;for(let Te=0;Te<arguments.length;Te++)"function"==typeof H[Te]&&(I&&(k||(k=Ia(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)))),H[Te]=Fd(H[Te],k));const le=vc(()=>w.apply(this,H));if(!I){if(le instanceof Yu.y){const Te=ia();return le.pipe(mc(Te.outsideAngular),$l(Te.insideAngular))}return Ia(()=>le)}return le instanceof Yu.y?le.pipe(wc):le instanceof Promise?Ia(()=>new Promise((Te,He)=>le.then(St=>Ia(()=>Te(St)),St=>Ia(()=>He(St))))):"function"==typeof le&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),le.apply(this,arguments)}:Ia(()=>le)}},2090:(an,et,q)=>{q.d(et,{$s:()=>kn,BH:()=>wt,L:()=>we,LL:()=>Ni,P0:()=>ht,Pz:()=>Jn,Sg:()=>ot,US:()=>Re,ZR:()=>Lr,aH:()=>nn,b$:()=>pt,eu:()=>ri,hl:()=>Pr,m9:()=>Pn,ne:()=>Y,ru:()=>Pt,tV:()=>K,uI:()=>Qe,vZ:()=>br,xO:()=>Ur,z$:()=>ut,zI:()=>ji});const Ue=function(ue){const ie=[];let _e=0;for(let Ze=0;Ze<ue.length;Ze++){let Me=ue.charCodeAt(Ze);Me<128?ie[_e++]=Me:Me<2048?(ie[_e++]=Me>>6|192,ie[_e++]=63&Me|128):55296==(64512&Me)&&Ze+1<ue.length&&56320==(64512&ue.charCodeAt(Ze+1))?(Me=65536+((1023&Me)<<10)+(1023&ue.charCodeAt(++Ze)),ie[_e++]=Me>>18|240,ie[_e++]=Me>>12&63|128,ie[_e++]=Me>>6&63|128,ie[_e++]=63&Me|128):(ie[_e++]=Me>>12|224,ie[_e++]=Me>>6&63|128,ie[_e++]=63&Me|128)}return ie},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ie){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const _e=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[];for(let Me=0;Me<ue.length;Me+=3){const Rt=ue[Me],Qt=Me+1<ue.length,xn=Qt?ue[Me+1]:0,er=Me+2<ue.length,ye=er?ue[Me+2]:0;let pe=(15&xn)<<2|ye>>6,$e=63&ye;er||($e=64,Qt||(pe=64)),Ze.push(_e[Rt>>2],_e[(3&Rt)<<4|xn>>4],_e[pe],_e[$e])}return Ze.join("")},encodeString(ue,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(ue):this.encodeByteArray(Ue(ue),ie)},decodeString(ue,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(ue):function(ue){const ie=[];let _e=0,Ze=0;for(;_e<ue.length;){const Me=ue[_e++];if(Me<128)ie[Ze++]=String.fromCharCode(Me);else if(Me>191&&Me<224){const Rt=ue[_e++];ie[Ze++]=String.fromCharCode((31&Me)<<6|63&Rt)}else if(Me>239&&Me<365){const er=((7&Me)<<18|(63&ue[_e++])<<12|(63&ue[_e++])<<6|63&ue[_e++])-65536;ie[Ze++]=String.fromCharCode(55296+(er>>10)),ie[Ze++]=String.fromCharCode(56320+(1023&er))}else{const Rt=ue[_e++],Qt=ue[_e++];ie[Ze++]=String.fromCharCode((15&Me)<<12|(63&Rt)<<6|63&Qt)}}return ie.join("")}(this.decodeStringToByteArray(ue,ie))},decodeStringToByteArray(ue,ie){this.init_();const _e=ie?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[];for(let Me=0;Me<ue.length;){const Rt=_e[ue.charAt(Me++)],xn=Me<ue.length?_e[ue.charAt(Me)]:0;++Me;const ye=Me<ue.length?_e[ue.charAt(Me)]:64;++Me;const W=Me<ue.length?_e[ue.charAt(Me)]:64;if(++Me,null==Rt||null==xn||null==ye||null==W)throw new De;Ze.push(Rt<<2|xn>>4),64!==ye&&(Ze.push(xn<<4&240|ye>>2),64!==W&&Ze.push(ye<<6&192|W))}return Ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(ue){return function(ue){const ie=Ue(ue);return Re.encodeByteArray(ie,!0)}(ue).replace(/\./g,"")},K=function(ue){try{return Re.decodeString(ue,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null},Bt=()=>{try{return function fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ue=process.env.__FIREBASE_DEFAULTS__;return ue?JSON.parse(ue):void 0})()||(()=>{if(typeof document>"u")return;let ue;try{ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=ue&&K(ue[1]);return ie&&JSON.parse(ie)})()}catch(ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ue}`)}},ht=ue=>{const ie=(ue=>{var ie,_e;return null===(_e=null===(ie=Bt())||void 0===ie?void 0:ie.emulatorHosts)||void 0===_e?void 0:_e[ue]})(ue);if(!ie)return;const _e=ie.lastIndexOf(":");if(_e<=0||_e+1===ie.length)throw new Error(`Invalid host ${ie} with no separate hostname and port!`);const Ze=parseInt(ie.substring(_e+1),10);return"["===ie[0]?[ie.substring(1,_e-1),Ze]:[ie.substring(0,_e),Ze]},nn=()=>{var ue;return null===(ue=Bt())||void 0===ue?void 0:ue.config},Jn=ue=>{var ie;return null===(ie=Bt())||void 0===ie?void 0:ie[`_${ue}`]};class wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,_e)=>{this.resolve=ie,this.reject=_e})}wrapCallback(ie){return(_e,Ze)=>{_e?this.reject(_e):this.resolve(Ze),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(_e):ie(_e,Ze))}}}function ot(ue,ie){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ze=ie||"demo-project",Me=ue.iat||0,Rt=ue.sub||ue.user_id;if(!Rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qt=Object.assign({iss:`https://securetoken.google.com/${Ze}`,aud:Ze,iat:Me,exp:Me+3600,auth_time:Me,sub:Rt,user_id:Rt,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(Qt)),""].join(".")}function ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function Pt(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pr(){try{return"object"==typeof indexedDB}catch{return!1}}function ri(){return new Promise((ue,ie)=>{try{let _e=!0;const Ze="validate-browser-context-for-indexeddb-analytics-module",Me=self.indexedDB.open(Ze);Me.onsuccess=()=>{Me.result.close(),_e||self.indexedDB.deleteDatabase(Ze),ue(!0)},Me.onupgradeneeded=()=>{_e=!1},Me.onerror=()=>{var Rt;ie((null===(Rt=Me.error)||void 0===Rt?void 0:Rt.message)||"")}}catch(_e){ie(_e)}})}function ji(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Lr extends Error{constructor(ie,_e,Ze){super(_e),this.code=ie,this.customData=Ze,this.name="FirebaseError",Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ni.prototype.create)}}class Ni{constructor(ie,_e,Ze){this.service=ie,this.serviceName=_e,this.errors=Ze}create(ie,..._e){const Ze=_e[0]||{},Me=`${this.service}/${ie}`,Rt=this.errors[ie],Qt=Rt?function Fr(ue,ie){return ue.replace(fr,(_e,Ze)=>{const Me=ie[Ze];return null!=Me?String(Me):`<${Ze}?>`})}(Rt,Ze):"Error";return new Lr(Me,`${this.serviceName}: ${Qt} (${Me}).`,Ze)}}const fr=/\{\$([^}]+)}/g;function br(ue,ie){if(ue===ie)return!0;const _e=Object.keys(ue),Ze=Object.keys(ie);for(const Me of _e){if(!Ze.includes(Me))return!1;const Rt=ue[Me],Qt=ie[Me];if(mi(Rt)&&mi(Qt)){if(!br(Rt,Qt))return!1}else if(Rt!==Qt)return!1}for(const Me of Ze)if(!_e.includes(Me))return!1;return!0}function mi(ue){return null!==ue&&"object"==typeof ue}function Ur(ue){const ie=[];for(const[_e,Ze]of Object.entries(ue))Array.isArray(Ze)?Ze.forEach(Me=>{ie.push(encodeURIComponent(_e)+"="+encodeURIComponent(Me))}):ie.push(encodeURIComponent(_e)+"="+encodeURIComponent(Ze));return ie.length?"&"+ie.join("&"):""}function Y(ue,ie){const _e=new ee(ue,ie);return _e.subscribe.bind(_e)}class ee{constructor(ie,_e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=_e,this.task.then(()=>{ie(this)}).catch(Ze=>{this.error(Ze)})}next(ie){this.forEachObserver(_e=>{_e.next(ie)})}error(ie){this.forEachObserver(_e=>{_e.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,_e,Ze){let Me;if(void 0===ie&&void 0===_e&&void 0===Ze)throw new Error("Missing Observer.");Me=function je(ue,ie){if("object"!=typeof ue||null===ue)return!1;for(const _e of ie)if(_e in ue&&"function"==typeof ue[_e])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:_e,complete:Ze},void 0===Me.next&&(Me.next=It),void 0===Me.error&&(Me.error=It),void 0===Me.complete&&(Me.complete=It);const Rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Me.error(this.finalError):Me.complete()}catch{}}),this.observers.push(Me),Rt}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let _e=0;_e<this.observers.length;_e++)this.sendOne(_e,ie)}sendOne(ie,_e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{_e(this.observers[ie])}catch(Ze){typeof console<"u"&&console.error&&console.error(Ze)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function It(){}function kn(ue,ie=1e3,_e=2){const Ze=ie*Math.pow(_e,ue),Me=Math.round(.5*Ze*(Math.random()-.5)*2);return Math.min(144e5,Ze+Me)}function Pn(ue){return ue&&ue._delegate?ue._delegate:ue}},3951:(an,et,q)=>{q.d(et,{e:()=>Re});var P=q(9671),z=q(2868),ce=q(6738),Ue=q(529),ve=q(2279);let Re=(()=>{class De{constructor(we,K){this.http=we,this.router=K,this.isLogged=!1}login(we){return this.http.post("/auth/login",we).pipe((0,z.b)(K=>{this.saveSession(K),this.sessionObject=K}))}saveSession(we){localStorage.setItem("user",JSON.stringify(we)),this.sessionObject=we,this.isLogged=!0}isAuthenticated(){return Boolean(localStorage.getItem("user"))}logout(){localStorage.removeItem("user"),this.isLogged=!1,this.router.navigateByUrl("auth/login",{replaceUrl:!0})}userStatus(){const we=localStorage.getItem("user");we&&(this.sessionObject=JSON.parse(we))}getUserSession(){let we;const K=localStorage.getItem("user");return this.isAuthenticated()&&"string"==typeof K&&(we=JSON.parse(K)),we}refreshToken(){const we=this.getUserSession();return this.http.post("/auth/refresh",{username:we.username,refreshToken:we.refreshToken}).pipe((0,z.b)(Q=>this.saveOnRefreshToken(Q)))}saveOnRefreshToken(we){var K=this;return(0,P.Z)(function*(){const Q=K.getUserSession();Q.accessToken=we.accessToken,Q.refreshToken=we.refreshToken,K.saveSession(Q)})()}}return De.\u0275fac=function(we){return new(we||De)(ce.LFG(Ue.eN),ce.LFG(ve.F0))},De.\u0275prov=ce.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},9098:(an,et,q)=>{var P=q(1481),z=q(6738),ce=q(2279),Ue=q(3951);const Re=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>Promise.all([q.e(836),q.e(698)]).then(q.bind(q,1698)).then(ot=>ot.MainModule)},{path:"auth",loadChildren:()=>Promise.all([q.e(719),q.e(774)]).then(q.bind(q,1774)).then(ot=>ot.AuthModule)},{path:"admin",loadChildren:()=>q.e(144).then(q.bind(q,144)).then(ot=>ot.AdminModule),canActivate:[(()=>{class ot{constructor(Qe,Mt){this.authService=Qe,this.router=Mt}canActivate(Qe,Mt){return!!this.authService.isAuthenticated()||(this.router.navigateByUrl("/auth/login"),!1)}}return ot.\u0275fac=function(Qe){return new(Qe||ot)(z.LFG(Ue.e),z.LFG(ce.F0))},ot.\u0275prov=z.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})()]}];let De=(()=>{class ot{}return ot.\u0275fac=function(Qe){return new(Qe||ot)},ot.\u0275mod=z.oAB({type:ot}),ot.\u0275inj=z.cJS({imports:[ce.Bz.forRoot(Re,{useHash:!1}),ce.Bz]}),ot})(),Le=(()=>{class ot{constructor(){this.title="portafolio-oscargx"}}return ot.\u0275fac=function(Qe){return new(Qe||ot)},ot.\u0275cmp=z.Xpm({type:ot,selectors:[["app-root"]],decls:1,vars:0,template:function(Qe,Mt){1&Qe&&z._UZ(0,"router-outlet")},dependencies:[ce.lC]}),ot})();var we=q(529);const K_firebaseConfig={apiKey:"AIzaSyC4snbHmEsZ0Y47PEWxQIdqo6oF6TZx1Is",authDomain:"oscargx-api-backup.firebaseapp.com",projectId:"oscargx-api-backup",storageBucket:"oscargx-api-backup.appspot.com",messagingSenderId:"264452178407",appId:"1:264452178407:web:412c7ca094c903ff013d42"};let Q=(()=>{class ot{constructor(){}intercept(Qe,Mt){const Pt=Qe.clone({url:`https://oscargx-potafolio-api.herokuapp.com/api/v1${Qe.url}`});return Mt.handle(Pt)}}return ot.\u0275fac=function(Qe){return new(Qe||ot)},ot.\u0275prov=z.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),be=(()=>{class ot{constructor(Qe){this.authService=Qe}intercept(Qe,Mt){if(this.authService.isAuthenticated()){const rn=this.authService.getUserSession();Qe=Qe.clone({setHeaders:{authorization:`Bearer ${rn.accessToken}`}})}return Mt.handle(Qe)}}return ot.\u0275fac=function(Qe){return new(Qe||ot)(z.LFG(Ue.e))},ot.\u0275prov=z.Yz7({token:ot,factory:ot.\u0275fac}),ot})();var Ae=q(591),fe=q(1737),kt=q(7221),Ce=q(7545),nt=q(2198),Bt=q(2986);let bn=(()=>{class ot{constructor(Qe){this.authService=Qe,this.refreshTokenInProgress=!1,this.accessTokenSubject=new Ae.X(null)}intercept(Qe,Mt){const rn=this.authService.isAuthenticated();return Mt.handle(Qe).pipe((0,kt.K)(Pt=>Pt instanceof we.UA&&401===Pt.status&&rn?this.refreshTokenInProgress?this.accessTokenSubject.pipe((0,nt.h)(pt=>null!==pt),(0,Bt.q)(1),(0,Ce.w)(pt=>(Qe=Qe.clone({setHeaders:{authorization:`Bearer ${pt}`}}),Mt.handle(Qe)))):(this.refreshTokenInProgress=!0,this.accessTokenSubject.next(null),this.authService.refreshToken().pipe((0,Ce.w)(pt=>(this.refreshTokenInProgress=!1,this.accessTokenSubject.next(pt.accessToken),Qe=Qe.clone({setHeaders:{authorization:`Bearer ${pt.accessToken}`}}),Mt.handle(Qe))),(0,kt.K)(pt=>(this.refreshTokenInProgress=!1,this.authService.logout(),(0,fe._)(pt))))):(0,fe._)(Pt)))}}return ot.\u0275fac=function(Qe){return new(Qe||ot)(z.LFG(Ue.e))},ot.\u0275prov=z.Yz7({token:ot,factory:ot.\u0275fac}),ot})();var ht=q(3692),nn=q(4102),Jn=q(8032);let wt=(()=>{class ot{}return ot.\u0275fac=function(Qe){return new(Qe||ot)},ot.\u0275mod=z.oAB({type:ot,bootstrap:[Le]}),ot.\u0275inj=z.cJS({providers:[{provide:we.TP,useClass:Q,multi:!0},{provide:we.TP,useClass:be,multi:!0},{provide:we.TP,useClass:bn,multi:!0}],imports:[P.b2,De,we.JF,(0,ht.hX)(()=>(0,ht.ZF)(K_firebaseConfig)),(0,nn.Cm)(()=>(0,nn.ad)()),(0,Jn.Vq)(()=>(0,Jn.cF)())]}),ot})();(0,z.G48)(),P.q6().bootstrapModule(wt).catch(ot=>console.error(ot))},591:(an,et,q)=>{q.d(et,{X:()=>ce});var P=q(5529),z=q(5279);class ce extends P.xQ{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const Re=super._subscribe(ve);return Re&&!Re.closed&&ve.next(this._value),Re}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new z.N;return this._value}next(ve){super.next(this._value=ve)}}},6498:(an,et,q)=>{q.d(et,{y:()=>we});var P=q(3489),ce=q(7668),Ue=q(3292),Re=q(3821),De=q(4843),Le=q(2830);let we=(()=>{class Q{constructor(Ae){this._isScalar=!1,Ae&&(this._subscribe=Ae)}lift(Ae){const fe=new Q;return fe.source=this,fe.operator=Ae,fe}subscribe(Ae,fe,kt){const{operator:Ce}=this,nt=function ve(Q,be,Ae){if(Q){if(Q instanceof P.L)return Q;if(Q[ce.b])return Q[ce.b]()}return Q||be||Ae?new P.L(Q,be,Ae):new P.L(Ue.c)}(Ae,fe,kt);if(nt.add(Ce?Ce.call(nt,this.source):this.source||Le.v.useDeprecatedSynchronousErrorHandling&&!nt.syncErrorThrowable?this._subscribe(nt):this._trySubscribe(nt)),Le.v.useDeprecatedSynchronousErrorHandling&&nt.syncErrorThrowable&&(nt.syncErrorThrowable=!1,nt.syncErrorThrown))throw nt.syncErrorValue;return nt}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(fe){Le.v.useDeprecatedSynchronousErrorHandling&&(Ae.syncErrorThrown=!0,Ae.syncErrorValue=fe),function z(Q){for(;Q;){const{closed:be,destination:Ae,isStopped:fe}=Q;if(be||fe)return!1;Q=Ae&&Ae instanceof P.L?Ae:null}return!0}(Ae)?Ae.error(fe):console.warn(fe)}}forEach(Ae,fe){return new(fe=K(fe))((kt,Ce)=>{let nt;nt=this.subscribe(Bt=>{try{Ae(Bt)}catch(bn){Ce(bn),nt&&nt.unsubscribe()}},Ce,kt)})}_subscribe(Ae){const{source:fe}=this;return fe&&fe.subscribe(Ae)}[Re.L](){return this}pipe(...Ae){return 0===Ae.length?this:(0,De.U)(Ae)(this)}toPromise(Ae){return new(Ae=K(Ae))((fe,kt)=>{let Ce;this.subscribe(nt=>Ce=nt,nt=>kt(nt),()=>fe(Ce))})}}return Q.create=be=>new Q(be),Q})();function K(Q){if(Q||(Q=Le.v.Promise||Promise),!Q)throw new Error("no Promise impl found");return Q}},3292:(an,et,q)=>{q.d(et,{c:()=>ce});var P=q(2830),z=q(2782);const ce={closed:!0,next(Ue){},error(Ue){if(P.v.useDeprecatedSynchronousErrorHandling)throw Ue;(0,z.z)(Ue)},complete(){}}},5529:(an,et,q)=>{q.d(et,{xQ:()=>Le,Yc:()=>De});var P=q(6498),z=q(3489),ce=q(2654),Ue=q(5279);class ve extends ce.w{constructor(Q,be){super(),this.subject=Q,this.subscriber=be,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Q=this.subject,be=Q.observers;if(this.subject=null,!be||0===be.length||Q.isStopped||Q.closed)return;const Ae=be.indexOf(this.subscriber);-1!==Ae&&be.splice(Ae,1)}}var Re=q(7668);class De extends z.L{constructor(Q){super(Q),this.destination=Q}}let Le=(()=>{class K extends P.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Re.b](){return new De(this)}lift(be){const Ae=new we(this,this);return Ae.operator=be,Ae}next(be){if(this.closed)throw new Ue.N;if(!this.isStopped){const{observers:Ae}=this,fe=Ae.length,kt=Ae.slice();for(let Ce=0;Ce<fe;Ce++)kt[Ce].next(be)}}error(be){if(this.closed)throw new Ue.N;this.hasError=!0,this.thrownError=be,this.isStopped=!0;const{observers:Ae}=this,fe=Ae.length,kt=Ae.slice();for(let Ce=0;Ce<fe;Ce++)kt[Ce].error(be);this.observers.length=0}complete(){if(this.closed)throw new Ue.N;this.isStopped=!0;const{observers:be}=this,Ae=be.length,fe=be.slice();for(let kt=0;kt<Ae;kt++)fe[kt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(be){if(this.closed)throw new Ue.N;return super._trySubscribe(be)}_subscribe(be){if(this.closed)throw new Ue.N;return this.hasError?(be.error(this.thrownError),ce.w.EMPTY):this.isStopped?(be.complete(),ce.w.EMPTY):(this.observers.push(be),new ve(this,be))}asObservable(){const be=new P.y;return be.source=this,be}}return K.create=(Q,be)=>new we(Q,be),K})();class we extends Le{constructor(Q,be){super(),this.destination=Q,this.source=be}next(Q){const{destination:be}=this;be&&be.next&&be.next(Q)}error(Q){const{destination:be}=this;be&&be.error&&this.destination.error(Q)}complete(){const{destination:Q}=this;Q&&Q.complete&&this.destination.complete()}_subscribe(Q){const{source:be}=this;return be?this.source.subscribe(Q):ce.w.EMPTY}}},3489:(an,et,q)=>{q.d(et,{L:()=>De});var P=q(7043),z=q(3292),ce=q(2654),Ue=q(7668),ve=q(2830),Re=q(2782);class De extends ce.w{constructor(K,Q,be){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=z.c;break;case 1:if(!K){this.destination=z.c;break}if("object"==typeof K){K instanceof De?(this.syncErrorThrowable=K.syncErrorThrowable,this.destination=K,K.add(this)):(this.syncErrorThrowable=!0,this.destination=new Le(this,K));break}default:this.syncErrorThrowable=!0,this.destination=new Le(this,K,Q,be)}}[Ue.b](){return this}static create(K,Q,be){const Ae=new De(K,Q,be);return Ae.syncErrorThrowable=!1,Ae}next(K){this.isStopped||this._next(K)}error(K){this.isStopped||(this.isStopped=!0,this._error(K))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(K){this.destination.next(K)}_error(K){this.destination.error(K),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:K}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=K,this}}class Le extends De{constructor(K,Q,be,Ae){super(),this._parentSubscriber=K;let fe,kt=this;(0,P.m)(Q)?fe=Q:Q&&(fe=Q.next,be=Q.error,Ae=Q.complete,Q!==z.c&&(kt=Object.create(Q),(0,P.m)(kt.unsubscribe)&&this.add(kt.unsubscribe.bind(kt)),kt.unsubscribe=this.unsubscribe.bind(this))),this._context=kt,this._next=fe,this._error=be,this._complete=Ae}next(K){if(!this.isStopped&&this._next){const{_parentSubscriber:Q}=this;ve.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?this.__tryOrSetError(Q,this._next,K)&&this.unsubscribe():this.__tryOrUnsub(this._next,K)}}error(K){if(!this.isStopped){const{_parentSubscriber:Q}=this,{useDeprecatedSynchronousErrorHandling:be}=ve.v;if(this._error)be&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,this._error,K),this.unsubscribe()):(this.__tryOrUnsub(this._error,K),this.unsubscribe());else if(Q.syncErrorThrowable)be?(Q.syncErrorValue=K,Q.syncErrorThrown=!0):(0,Re.z)(K),this.unsubscribe();else{if(this.unsubscribe(),be)throw K;(0,Re.z)(K)}}}complete(){if(!this.isStopped){const{_parentSubscriber:K}=this;if(this._complete){const Q=()=>this._complete.call(this._context);ve.v.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable?(this.__tryOrSetError(K,Q),this.unsubscribe()):(this.__tryOrUnsub(Q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(K,Q){try{K.call(this._context,Q)}catch(be){if(this.unsubscribe(),ve.v.useDeprecatedSynchronousErrorHandling)throw be;(0,Re.z)(be)}}__tryOrSetError(K,Q,be){if(!ve.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Q.call(this._context,be)}catch(Ae){return ve.v.useDeprecatedSynchronousErrorHandling?(K.syncErrorValue=Ae,K.syncErrorThrown=!0,!0):((0,Re.z)(Ae),!0)}return!1}_unsubscribe(){const{_parentSubscriber:K}=this;this._context=null,this._parentSubscriber=null,K.unsubscribe()}}},2654:(an,et,q)=>{q.d(et,{w:()=>Re});var P=q(6688),z=q(7830),ce=q(7043);const ve=(()=>{function Le(we){return Error.call(this),this.message=we?`${we.length} errors occurred during unsubscription:\n${we.map((K,Q)=>`${Q+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=we,this}return Le.prototype=Object.create(Error.prototype),Le})();class Re{constructor(we){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,we&&(this._ctorUnsubscribe=!0,this._unsubscribe=we)}unsubscribe(){let we;if(this.closed)return;let{_parentOrParents:K,_ctorUnsubscribe:Q,_unsubscribe:be,_subscriptions:Ae}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,K instanceof Re)K.remove(this);else if(null!==K)for(let fe=0;fe<K.length;++fe)K[fe].remove(this);if((0,ce.m)(be)){Q&&(this._unsubscribe=void 0);try{be.call(this)}catch(fe){we=fe instanceof ve?De(fe.errors):[fe]}}if((0,P.k)(Ae)){let fe=-1,kt=Ae.length;for(;++fe<kt;){const Ce=Ae[fe];if((0,z.K)(Ce))try{Ce.unsubscribe()}catch(nt){we=we||[],nt instanceof ve?we=we.concat(De(nt.errors)):we.push(nt)}}}if(we)throw new ve(we)}add(we){let K=we;if(!we)return Re.EMPTY;switch(typeof we){case"function":K=new Re(we);case"object":if(K===this||K.closed||"function"!=typeof K.unsubscribe)return K;if(this.closed)return K.unsubscribe(),K;if(!(K instanceof Re)){const Ae=K;K=new Re,K._subscriptions=[Ae]}break;default:throw new Error("unrecognized teardown "+we+" added to Subscription.")}let{_parentOrParents:Q}=K;if(null===Q)K._parentOrParents=this;else if(Q instanceof Re){if(Q===this)return K;K._parentOrParents=[Q,this]}else{if(-1!==Q.indexOf(this))return K;Q.push(this)}const be=this._subscriptions;return null===be?this._subscriptions=[K]:be.push(K),K}remove(we){const K=this._subscriptions;if(K){const Q=K.indexOf(we);-1!==Q&&K.splice(Q,1)}}}var Le;function De(Le){return Le.reduce((we,K)=>we.concat(K instanceof ve?K.errors:K),[])}Re.EMPTY=((Le=new Re).closed=!0,Le)},2830:(an,et,q)=>{q.d(et,{v:()=>z});let P=!1;const z={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ce){if(ce){const Ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ue.stack)}else P&&console.log("RxJS: Back to a better error behavior. Thank you. <3");P=ce},get useDeprecatedSynchronousErrorHandling(){return P}}},1177:(an,et,q)=>{q.d(et,{Ds:()=>Re,IY:()=>Ue,ft:()=>Le});var P=q(3489),z=q(6498),ce=q(9249);class Ue extends P.L{constructor(K){super(),this.parent=K}_next(K){this.parent.notifyNext(K)}_error(K){this.parent.notifyError(K),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Re extends P.L{notifyNext(K){this.destination.next(K)}notifyError(K){this.destination.error(K)}notifyComplete(){this.destination.complete()}}function Le(we,K){if(K.closed)return;if(we instanceof z.y)return we.subscribe(K);let Q;try{Q=(0,ce.s)(we)(K)}catch(be){K.error(be)}return Q}},1762:(an,et,q)=>{q.d(et,{N:()=>Re,c:()=>ve});var P=q(5529),z=q(6498),ce=q(2654),Ue=q(4327);class ve extends z.y{constructor(Q,be){super(),this.source=Q,this.subjectFactory=be,this._refCount=0,this._isComplete=!1}_subscribe(Q){return this.getSubject().subscribe(Q)}getSubject(){const Q=this._subject;return(!Q||Q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Q=this._connection;return Q||(this._isComplete=!1,Q=this._connection=new ce.w,Q.add(this.source.subscribe(new De(this.getSubject(),this))),Q.closed&&(this._connection=null,Q=ce.w.EMPTY)),Q}refCount(){return(0,Ue.x)()(this)}}const Re=(()=>{const K=ve.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:K._subscribe},_isComplete:{value:K._isComplete,writable:!0},getSubject:{value:K.getSubject},connect:{value:K.connect},refCount:{value:K.refCount}}})();class De extends P.Yc{constructor(Q,be){super(Q),this.connectable=be}_error(Q){this._unsubscribe(),super._error(Q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Q=this.connectable;if(Q){this.connectable=null;const be=Q._connection;Q._refCount=0,Q._subject=null,Q._connection=null,be&&be.unsubscribe()}}}},8896:(an,et,q)=>{q.d(et,{E:()=>z,c:()=>ce});var P=q(6498);const z=new P.y(ve=>ve.complete());function ce(ve){return ve?function Ue(ve){return new P.y(Re=>ve.schedule(()=>Re.complete()))}(ve):z}},5254:(an,et,q)=>{q.d(et,{D:()=>kt});var P=q(6498),z=q(9249),ce=q(2654),Ue=q(3821),De=q(6454),Le=q(5430),Q=q(8955),be=q(8515);function kt(Ce,nt){return nt?function fe(Ce,nt){if(null!=Ce){if(function K(Ce){return Ce&&"function"==typeof Ce[Ue.L]}(Ce))return function ve(Ce,nt){return new P.y(Bt=>{const bn=new ce.w;return bn.add(nt.schedule(()=>{const ht=Ce[Ue.L]();bn.add(ht.subscribe({next(nn){bn.add(nt.schedule(()=>Bt.next(nn)))},error(nn){bn.add(nt.schedule(()=>Bt.error(nn)))},complete(){bn.add(nt.schedule(()=>Bt.complete()))}}))})),bn})}(Ce,nt);if((0,Q.t)(Ce))return function Re(Ce,nt){return new P.y(Bt=>{const bn=new ce.w;return bn.add(nt.schedule(()=>Ce.then(ht=>{bn.add(nt.schedule(()=>{Bt.next(ht),bn.add(nt.schedule(()=>Bt.complete()))}))},ht=>{bn.add(nt.schedule(()=>Bt.error(ht)))}))),bn})}(Ce,nt);if((0,be.z)(Ce))return(0,De.r)(Ce,nt);if(function Ae(Ce){return Ce&&"function"==typeof Ce[Le.hZ]}(Ce)||"string"==typeof Ce)return function we(Ce,nt){if(!Ce)throw new Error("Iterable cannot be null");return new P.y(Bt=>{const bn=new ce.w;let ht;return bn.add(()=>{ht&&"function"==typeof ht.return&&ht.return()}),bn.add(nt.schedule(()=>{ht=Ce[Le.hZ](),bn.add(nt.schedule(function(){if(Bt.closed)return;let nn,Jn;try{const wt=ht.next();nn=wt.value,Jn=wt.done}catch(wt){return void Bt.error(wt)}Jn?Bt.complete():(Bt.next(nn),this.schedule())}))})),bn})}(Ce,nt)}throw new TypeError((null!==Ce&&typeof Ce||Ce)+" is not observable")}(Ce,nt):Ce instanceof P.y?Ce:new P.y((0,z.s)(Ce))}},3009:(an,et,q)=>{q.d(et,{n:()=>Ue});var P=q(6498),z=q(3650),ce=q(6454);function Ue(ve,Re){return Re?(0,ce.r)(ve,Re):new P.y((0,z.V)(ve))}},1086:(an,et,q)=>{q.d(et,{of:()=>Ue});var P=q(2866),z=q(3009),ce=q(6454);function Ue(...ve){let Re=ve[ve.length-1];return(0,P.K)(Re)?(ve.pop(),(0,ce.r)(ve,Re)):(0,z.n)(ve)}},1737:(an,et,q)=>{q.d(et,{_:()=>z});var P=q(6498);function z(Ue,ve){return new P.y(ve?Re=>ve.schedule(ce,0,{error:Ue,subscriber:Re}):Re=>Re.error(Ue))}function ce({error:Ue,subscriber:ve}){ve.error(Ue)}},7221:(an,et,q)=>{q.d(et,{K:()=>z});var P=q(1177);function z(ve){return function(De){const Le=new ce(ve),we=De.lift(Le);return Le.caught=we}}class ce{constructor(Re){this.selector=Re}call(Re,De){return De.subscribe(new Ue(Re,this.selector,this.caught))}}class Ue extends P.Ds{constructor(Re,De,Le){super(Re),this.selector=De,this.caught=Le}error(Re){if(!this.isStopped){let De;try{De=this.selector(Re,this.caught)}catch(K){return void super.error(K)}this._unsubscribeAndRecycle();const Le=new P.IY(this);this.add(Le);const we=(0,P.ft)(De,Le);we!==Le&&this.add(we)}}}},1406:(an,et,q)=>{q.d(et,{b:()=>z});var P=q(1709);function z(ce,Ue){return(0,P.zg)(ce,Ue,1)}},2198:(an,et,q)=>{q.d(et,{h:()=>z});var P=q(3489);function z(ve,Re){return function(Le){return Le.lift(new ce(ve,Re))}}class ce{constructor(Re,De){this.predicate=Re,this.thisArg=De}call(Re,De){return De.subscribe(new Ue(Re,this.predicate,this.thisArg))}}class Ue extends P.L{constructor(Re,De,Le){super(Re),this.predicate=De,this.thisArg=Le,this.count=0}_next(Re){let De;try{De=this.predicate.call(this.thisArg,Re,this.count++)}catch(Le){return void this.destination.error(Le)}De&&this.destination.next(Re)}}},4850:(an,et,q)=>{q.d(et,{U:()=>z});var P=q(3489);function z(ve,Re){return function(Le){if("function"!=typeof ve)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Le.lift(new ce(ve,Re))}}class ce{constructor(Re,De){this.project=Re,this.thisArg=De}call(Re,De){return De.subscribe(new Ue(Re,this.project,this.thisArg))}}class Ue extends P.L{constructor(Re,De,Le){super(Re),this.project=De,this.count=0,this.thisArg=Le||this}_next(Re){let De;try{De=this.project.call(this.thisArg,Re,this.count++)}catch(Le){return void this.destination.error(Le)}this.destination.next(De)}}},9146:(an,et,q)=>{q.d(et,{J:()=>ce});var P=q(1709),z=q(5379);function ce(Ue=Number.POSITIVE_INFINITY){return(0,P.zg)(z.y,Ue)}},1709:(an,et,q)=>{q.d(et,{zg:()=>Ue});var P=q(4850),z=q(5254),ce=q(1177);function Ue(Le,we,K=Number.POSITIVE_INFINITY){return"function"==typeof we?Q=>Q.pipe(Ue((be,Ae)=>(0,z.D)(Le(be,Ae)).pipe((0,P.U)((fe,kt)=>we(be,fe,Ae,kt))),K)):("number"==typeof we&&(K=we),Q=>Q.lift(new ve(Le,K)))}class ve{constructor(we,K=Number.POSITIVE_INFINITY){this.project=we,this.concurrent=K}call(we,K){return K.subscribe(new Re(we,this.project,this.concurrent))}}class Re extends ce.Ds{constructor(we,K,Q=Number.POSITIVE_INFINITY){super(we),this.project=K,this.concurrent=Q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(we){this.active<this.concurrent?this._tryNext(we):this.buffer.push(we)}_tryNext(we){let K;const Q=this.index++;try{K=this.project(we,Q)}catch(be){return void this.destination.error(be)}this.active++,this._innerSub(K)}_innerSub(we){const K=new ce.IY(this),Q=this.destination;Q.add(K);const be=(0,ce.ft)(we,K);be!==K&&Q.add(be)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(we){this.destination.next(we)}notifyComplete(){const we=this.buffer;this.active--,we.length>0?this._next(we.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4327:(an,et,q)=>{q.d(et,{x:()=>z});var P=q(3489);function z(){return function(Re){return Re.lift(new ce(Re))}}class ce{constructor(Re){this.connectable=Re}call(Re,De){const{connectable:Le}=this;Le._refCount++;const we=new Ue(Re,Le),K=De.subscribe(we);return we.closed||(we.connection=Le.connect()),K}}class Ue extends P.L{constructor(Re,De){super(Re),this.connectable=De}_unsubscribe(){const{connectable:Re}=this;if(!Re)return void(this.connection=null);this.connectable=null;const De=Re._refCount;if(De<=0)return void(this.connection=null);if(Re._refCount=De-1,De>1)return void(this.connection=null);const{connection:Le}=this,we=Re._connection;this.connection=null,we&&(!Le||we===Le)&&we.unsubscribe()}}},7545:(an,et,q)=>{q.d(et,{w:()=>Ue});var P=q(4850),z=q(5254),ce=q(1177);function Ue(De,Le){return"function"==typeof Le?we=>we.pipe(Ue((K,Q)=>(0,z.D)(De(K,Q)).pipe((0,P.U)((be,Ae)=>Le(K,be,Q,Ae))))):we=>we.lift(new ve(De))}class ve{constructor(Le){this.project=Le}call(Le,we){return we.subscribe(new Re(Le,this.project))}}class Re extends ce.Ds{constructor(Le,we){super(Le),this.project=we,this.index=0}_next(Le){let we;const K=this.index++;try{we=this.project(Le,K)}catch(Q){return void this.destination.error(Q)}this._innerSub(we)}_innerSub(Le){const we=this.innerSubscription;we&&we.unsubscribe();const K=new ce.IY(this),Q=this.destination;Q.add(K),this.innerSubscription=(0,ce.ft)(Le,K),this.innerSubscription!==K&&Q.add(this.innerSubscription)}_complete(){const{innerSubscription:Le}=this;(!Le||Le.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Le){this.destination.next(Le)}}},2986:(an,et,q)=>{q.d(et,{q:()=>Ue});var P=q(3489),z=q(4231),ce=q(8896);function Ue(De){return Le=>0===De?(0,ce.c)():Le.lift(new ve(De))}class ve{constructor(Le){if(this.total=Le,this.total<0)throw new z.W}call(Le,we){return we.subscribe(new Re(Le,this.total))}}class Re extends P.L{constructor(Le,we){super(Le),this.total=we,this.count=0}_next(Le){const we=this.total,K=++this.count;K<=we&&(this.destination.next(Le),K===we&&(this.destination.complete(),this.unsubscribe()))}}},2868:(an,et,q)=>{q.d(et,{b:()=>Ue});var P=q(3489);function z(){}var ce=q(7043);function Ue(De,Le,we){return function(Q){return Q.lift(new ve(De,Le,we))}}class ve{constructor(Le,we,K){this.nextOrObserver=Le,this.error=we,this.complete=K}call(Le,we){return we.subscribe(new Re(Le,this.nextOrObserver,this.error,this.complete))}}class Re extends P.L{constructor(Le,we,K,Q){super(Le),this._tapNext=z,this._tapError=z,this._tapComplete=z,this._tapError=K||z,this._tapComplete=Q||z,(0,ce.m)(we)?(this._context=this,this._tapNext=we):we&&(this._context=we,this._tapNext=we.next||z,this._tapError=we.error||z,this._tapComplete=we.complete||z)}_next(Le){try{this._tapNext.call(this._context,Le)}catch(we){return void this.destination.error(we)}this.destination.next(Le)}_error(Le){try{this._tapError.call(this._context,Le)}catch(we){return void this.destination.error(we)}this.destination.error(Le)}_complete(){try{this._tapComplete.call(this._context)}catch(Le){return void this.destination.error(Le)}return this.destination.complete()}}},6454:(an,et,q)=>{q.d(et,{r:()=>ce});var P=q(6498),z=q(2654);function ce(Ue,ve){return new P.y(Re=>{const De=new z.w;let Le=0;return De.add(ve.schedule(function(){Le!==Ue.length?(Re.next(Ue[Le++]),Re.closed||De.add(this.schedule())):Re.complete()})),De})}},5430:(an,et,q)=>{q.d(et,{hZ:()=>z});const z=function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(an,et,q)=>{q.d(et,{L:()=>P});const P="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(an,et,q)=>{q.d(et,{b:()=>P});const P="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(an,et,q)=>{q.d(et,{W:()=>z});const z=(()=>{function ce(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return ce.prototype=Object.create(Error.prototype),ce})()},5279:(an,et,q)=>{q.d(et,{N:()=>z});const z=(()=>{function ce(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ce.prototype=Object.create(Error.prototype),ce})()},2782:(an,et,q)=>{function P(z){setTimeout(()=>{throw z},0)}q.d(et,{z:()=>P})},5379:(an,et,q)=>{function P(z){return z}q.d(et,{y:()=>P})},6688:(an,et,q)=>{q.d(et,{k:()=>P});const P=Array.isArray||(z=>z&&"number"==typeof z.length)},8515:(an,et,q)=>{q.d(et,{z:()=>P});const P=z=>z&&"number"==typeof z.length&&"function"!=typeof z},7043:(an,et,q)=>{function P(z){return"function"==typeof z}q.d(et,{m:()=>P})},7830:(an,et,q)=>{function P(z){return null!==z&&"object"==typeof z}q.d(et,{K:()=>P})},8955:(an,et,q)=>{function P(z){return!!z&&"function"!=typeof z.subscribe&&"function"==typeof z.then}q.d(et,{t:()=>P})},2866:(an,et,q)=>{function P(z){return z&&"function"==typeof z.schedule}q.d(et,{K:()=>P})},4843:(an,et,q)=>{q.d(et,{U:()=>ce,z:()=>z});var P=q(5379);function z(...Ue){return ce(Ue)}function ce(Ue){return 0===Ue.length?P.y:1===Ue.length?Ue[0]:function(Re){return Ue.reduce((De,Le)=>Le(De),Re)}}},9249:(an,et,q)=>{q.d(et,{s:()=>Q});var P=q(3650),z=q(2782),Ue=q(5430),Re=q(3821),Le=q(8515),we=q(8955),K=q(7830);const Q=be=>{if(be&&"function"==typeof be[Re.L])return(be=>Ae=>{const fe=be[Re.L]();if("function"!=typeof fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return fe.subscribe(Ae)})(be);if((0,Le.z)(be))return(0,P.V)(be);if((0,we.t)(be))return(be=>Ae=>(be.then(fe=>{Ae.closed||(Ae.next(fe),Ae.complete())},fe=>Ae.error(fe)).then(null,z.z),Ae))(be);if(be&&"function"==typeof be[Ue.hZ])return(be=>Ae=>{const fe=be[Ue.hZ]();for(;;){let kt;try{kt=fe.next()}catch(Ce){return Ae.error(Ce),Ae}if(kt.done){Ae.complete();break}if(Ae.next(kt.value),Ae.closed)break}return"function"==typeof fe.return&&Ae.add(()=>{fe.return&&fe.return()}),Ae})(be);{const fe=`You provided ${(0,K.K)(be)?"an invalid object":`'${be}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(fe)}}},3650:(an,et,q)=>{q.d(et,{V:()=>P});const P=z=>ce=>{for(let Ue=0,ve=z.length;Ue<ve&&!ce.closed;Ue++)ce.next(z[Ue]);ce.complete()}},9671:(an,et,q)=>{function P(ce,Ue,ve,Re,De,Le,we){try{var K=ce[Le](we),Q=K.value}catch(be){return void ve(be)}K.done?Ue(Q):Promise.resolve(Q).then(Re,De)}function z(ce){return function(){var Ue=this,ve=arguments;return new Promise(function(Re,De){var Le=ce.apply(Ue,ve);function we(Q){P(Le,Re,De,we,K,"next",Q)}function K(Q){P(Le,Re,De,we,K,"throw",Q)}we(void 0)})}}q.d(et,{Z:()=>z})},6895:(an,et,q)=>{q.d(et,{Do:()=>ht,ED:()=>qt,EM:()=>Ho,HT:()=>ve,JF:()=>Go,K0:()=>De,Mx:()=>Gi,NF:()=>da,O5:()=>Bn,Ov:()=>lo,RF:()=>We,S$:()=>nt,Ts:()=>To,V_:()=>K,Ye:()=>nn,b0:()=>bn,bD:()=>ka,ez:()=>no,mk:()=>Ii,n9:()=>it,q:()=>ce,sg:()=>Oi,tP:()=>_i,uU:()=>fo,w_:()=>Re});var P=q(6738);let z=null;function ce(){return z}function ve(D){z||(z=D)}class Re{}const De=new P.OlP("DocumentToken");let Le=(()=>{class D{historyGo(A){throw new Error("Not implemented")}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275prov=P.Yz7({token:D,factory:function(){return function we(){return(0,P.LFG)(Q)}()},providedIn:"platform"}),D})();const K=new P.OlP("Location Initialized");let Q=(()=>{class D extends Le{constructor(A){super(),this._doc=A,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ce().getBaseHref(this._doc)}onPopState(A){const B=ce().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",A,!1),()=>B.removeEventListener("popstate",A)}onHashChange(A){const B=ce().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",A,!1),()=>B.removeEventListener("hashchange",A)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(A){this.location.pathname=A}pushState(A,B,oe){be()?this._history.pushState(A,B,oe):this.location.hash=oe}replaceState(A,B,oe){be()?this._history.replaceState(A,B,oe):this.location.hash=oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}}return D.\u0275fac=function(A){return new(A||D)(P.LFG(De))},D.\u0275prov=P.Yz7({token:D,factory:function(){return function Ae(){return new Q((0,P.LFG)(De))}()},providedIn:"platform"}),D})();function be(){return!!window.history.pushState}function fe(D,F){if(0==D.length)return F;if(0==F.length)return D;let A=0;return D.endsWith("/")&&A++,F.startsWith("/")&&A++,2==A?D+F.substring(1):1==A?D+F:D+"/"+F}function kt(D){const F=D.match(/#|\?|$/),A=F&&F.index||D.length;return D.slice(0,A-("/"===D[A-1]?1:0))+D.slice(A)}function Ce(D){return D&&"?"!==D[0]?"?"+D:D}let nt=(()=>{class D{historyGo(A){throw new Error("Not implemented")}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275prov=P.Yz7({token:D,factory:function(){return(0,P.f3M)(bn)},providedIn:"root"}),D})();const Bt=new P.OlP("appBaseHref");let bn=(()=>{class D extends nt{constructor(A,B){super(),this._platformLocation=A,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,P.f3M)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return fe(this._baseHref,A)}path(A=!1){const B=this._platformLocation.pathname+Ce(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&A?`${B}${oe}`:B}pushState(A,B,oe,Ve){const Je=this.prepareExternalUrl(oe+Ce(Ve));this._platformLocation.pushState(A,B,Je)}replaceState(A,B,oe,Ve){const Je=this.prepareExternalUrl(oe+Ce(Ve));this._platformLocation.replaceState(A,B,Je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}}return D.\u0275fac=function(A){return new(A||D)(P.LFG(Le),P.LFG(Bt,8))},D.\u0275prov=P.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),ht=(()=>{class D extends nt{constructor(A,B){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(A){const B=fe(this._baseHref,A);return B.length>0?"#"+B:B}pushState(A,B,oe,Ve){let Je=this.prepareExternalUrl(oe+Ce(Ve));0==Je.length&&(Je=this._platformLocation.pathname),this._platformLocation.pushState(A,B,Je)}replaceState(A,B,oe,Ve){let Je=this.prepareExternalUrl(oe+Ce(Ve));0==Je.length&&(Je=this._platformLocation.pathname),this._platformLocation.replaceState(A,B,Je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}}return D.\u0275fac=function(A){return new(A||D)(P.LFG(Le),P.LFG(Bt,8))},D.\u0275prov=P.Yz7({token:D,factory:D.\u0275fac}),D})(),nn=(()=>{class D{constructor(A){this._subject=new P.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=A;const B=this._locationStrategy.getBaseHref();this._baseHref=kt(ot(B)),this._locationStrategy.onPopState(oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:oe.state,type:oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(A=!1){return this.normalize(this._locationStrategy.path(A))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(A,B=""){return this.path()==this.normalize(A+Ce(B))}normalize(A){return D.stripTrailingSlash(function wt(D,F){return D&&F.startsWith(D)?F.substring(D.length):F}(this._baseHref,ot(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._locationStrategy.prepareExternalUrl(A)}go(A,B="",oe=null){this._locationStrategy.pushState(oe,"",A,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Ce(B)),oe)}replaceState(A,B="",oe=null){this._locationStrategy.replaceState(oe,"",A,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Ce(B)),oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(A=0){this._locationStrategy.historyGo?.(A)}onUrlChange(A){return this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)})),()=>{const B=this._urlChangeListeners.indexOf(A);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(A="",B){this._urlChangeListeners.forEach(oe=>oe(A,B))}subscribe(A,B,oe){return this._subject.subscribe({next:A,error:B,complete:oe})}}return D.normalizeQueryParams=Ce,D.joinWithSlash=fe,D.stripTrailingSlash=kt,D.\u0275fac=function(A){return new(A||D)(P.LFG(nt))},D.\u0275prov=P.Yz7({token:D,factory:function(){return function Jn(){return new nn((0,P.LFG)(nt))}()},providedIn:"root"}),D})();function ot(D){return D.replace(/\/index.html$/,"")}var rn=(()=>((rn=rn||{})[rn.Format=0]="Format",rn[rn.Standalone=1]="Standalone",rn))(),Pt=(()=>((Pt=Pt||{})[Pt.Narrow=0]="Narrow",Pt[Pt.Abbreviated=1]="Abbreviated",Pt[Pt.Wide=2]="Wide",Pt[Pt.Short=3]="Short",Pt))(),pt=(()=>((pt=pt||{})[pt.Short=0]="Short",pt[pt.Medium=1]="Medium",pt[pt.Long=2]="Long",pt[pt.Full=3]="Full",pt))(),lt=(()=>((lt=lt||{})[lt.Decimal=0]="Decimal",lt[lt.Group=1]="Group",lt[lt.List=2]="List",lt[lt.PercentSign=3]="PercentSign",lt[lt.PlusSign=4]="PlusSign",lt[lt.MinusSign=5]="MinusSign",lt[lt.Exponential=6]="Exponential",lt[lt.SuperscriptingExponent=7]="SuperscriptingExponent",lt[lt.PerMille=8]="PerMille",lt[lt.Infinity=9]="Infinity",lt[lt.NaN=10]="NaN",lt[lt.TimeSeparator=11]="TimeSeparator",lt[lt.CurrencyDecimal=12]="CurrencyDecimal",lt[lt.CurrencyGroup=13]="CurrencyGroup",lt))();function Lr(D,F){return Ar((0,P.cg1)(D)[P.wAp.DateFormat],F)}function Ni(D,F){return Ar((0,P.cg1)(D)[P.wAp.TimeFormat],F)}function Fr(D,F){return Ar((0,P.cg1)(D)[P.wAp.DateTimeFormat],F)}function fr(D,F){const A=(0,P.cg1)(D),B=A[P.wAp.NumberSymbols][F];if(typeof B>"u"){if(F===lt.CurrencyDecimal)return A[P.wAp.NumberSymbols][lt.Decimal];if(F===lt.CurrencyGroup)return A[P.wAp.NumberSymbols][lt.Group]}return B}function pr(D){if(!D[P.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${D[P.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ar(D,F){for(let A=F;A>-1;A--)if(typeof D[A]<"u")return D[A];throw new Error("Locale data API: locale data undefined")}function br(D){const[F,A]=D.split(":");return{hours:+F,minutes:+A}}const Xn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Or={},Ke=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Y=(()=>((Y=Y||{})[Y.Short=0]="Short",Y[Y.ShortGMT=1]="ShortGMT",Y[Y.Long=2]="Long",Y[Y.Extended=3]="Extended",Y))(),ee=(()=>((ee=ee||{})[ee.FullYear=0]="FullYear",ee[ee.Month=1]="Month",ee[ee.Date=2]="Date",ee[ee.Hours=3]="Hours",ee[ee.Minutes=4]="Minutes",ee[ee.Seconds=5]="Seconds",ee[ee.FractionalSeconds=6]="FractionalSeconds",ee[ee.Day=7]="Day",ee))(),de=(()=>((de=de||{})[de.DayPeriods=0]="DayPeriods",de[de.Days=1]="Days",de[de.Months=2]="Months",de[de.Eras=3]="Eras",de))();function je(D,F,A,B){let oe=function Me(D){if(Qt(D))return D;if("number"==typeof D&&!isNaN(D))return new Date(D);if("string"==typeof D){if(D=D.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(D)){const[oe,Ve=1,Je=1]=D.split("-").map(Gt=>+Gt);return It(oe,Ve-1,Je)}const A=parseFloat(D);if(!isNaN(D-A))return new Date(A);let B;if(B=D.match(Xn))return function Rt(D){const F=new Date(0);let A=0,B=0;const oe=D[8]?F.setUTCFullYear:F.setFullYear,Ve=D[8]?F.setUTCHours:F.setHours;D[9]&&(A=Number(D[9]+D[10]),B=Number(D[9]+D[11])),oe.call(F,Number(D[1]),Number(D[2])-1,Number(D[3]));const Je=Number(D[4]||0)-A,Gt=Number(D[5]||0)-B,qn=Number(D[6]||0),wr=Math.floor(1e3*parseFloat("0."+(D[7]||0)));return Ve.call(F,Je,Gt,qn,wr),F}(B)}const F=new Date(D);if(!Qt(F))throw new Error(`Unable to convert "${D}" into a date`);return F}(D);F=Wt(A,F)||F;let Gt,Je=[];for(;F;){if(Gt=Ke.exec(F),!Gt){Je.push(F);break}{Je=Je.concat(Gt.slice(1));const rr=Je.pop();if(!rr)break;F=rr}}let qn=oe.getTimezoneOffset();B&&(qn=ie(B,qn),oe=function Ze(D,F,A){const B=A?-1:1,oe=D.getTimezoneOffset();return function _e(D,F){return(D=new Date(D.getTime())).setMinutes(D.getMinutes()+F),D}(D,B*(ie(F,oe)-oe))}(oe,B,!0));let wr="";return Je.forEach(rr=>{const Nn=function ue(D){if(Pn[D])return Pn[D];let F;switch(D){case"G":case"GG":case"GGG":F=Ot(de.Eras,Pt.Abbreviated);break;case"GGGG":F=Ot(de.Eras,Pt.Wide);break;case"GGGGG":F=Ot(de.Eras,Pt.Narrow);break;case"y":F=pn(ee.FullYear,1,0,!1,!0);break;case"yy":F=pn(ee.FullYear,2,0,!0,!0);break;case"yyy":F=pn(ee.FullYear,3,0,!1,!0);break;case"yyyy":F=pn(ee.FullYear,4,0,!1,!0);break;case"Y":F=en(1);break;case"YY":F=en(2,!0);break;case"YYY":F=en(3);break;case"YYYY":F=en(4);break;case"M":case"L":F=pn(ee.Month,1,1);break;case"MM":case"LL":F=pn(ee.Month,2,1);break;case"MMM":F=Ot(de.Months,Pt.Abbreviated);break;case"MMMM":F=Ot(de.Months,Pt.Wide);break;case"MMMMM":F=Ot(de.Months,Pt.Narrow);break;case"LLL":F=Ot(de.Months,Pt.Abbreviated,rn.Standalone);break;case"LLLL":F=Ot(de.Months,Pt.Wide,rn.Standalone);break;case"LLLLL":F=Ot(de.Months,Pt.Narrow,rn.Standalone);break;case"w":F=Sn(1);break;case"ww":F=Sn(2);break;case"W":F=Sn(1,!0);break;case"d":F=pn(ee.Date,1);break;case"dd":F=pn(ee.Date,2);break;case"c":case"cc":F=pn(ee.Day,1);break;case"ccc":F=Ot(de.Days,Pt.Abbreviated,rn.Standalone);break;case"cccc":F=Ot(de.Days,Pt.Wide,rn.Standalone);break;case"ccccc":F=Ot(de.Days,Pt.Narrow,rn.Standalone);break;case"cccccc":F=Ot(de.Days,Pt.Short,rn.Standalone);break;case"E":case"EE":case"EEE":F=Ot(de.Days,Pt.Abbreviated);break;case"EEEE":F=Ot(de.Days,Pt.Wide);break;case"EEEEE":F=Ot(de.Days,Pt.Narrow);break;case"EEEEEE":F=Ot(de.Days,Pt.Short);break;case"a":case"aa":case"aaa":F=Ot(de.DayPeriods,Pt.Abbreviated);break;case"aaaa":F=Ot(de.DayPeriods,Pt.Wide);break;case"aaaaa":F=Ot(de.DayPeriods,Pt.Narrow);break;case"b":case"bb":case"bbb":F=Ot(de.DayPeriods,Pt.Abbreviated,rn.Standalone,!0);break;case"bbbb":F=Ot(de.DayPeriods,Pt.Wide,rn.Standalone,!0);break;case"bbbbb":F=Ot(de.DayPeriods,Pt.Narrow,rn.Standalone,!0);break;case"B":case"BB":case"BBB":F=Ot(de.DayPeriods,Pt.Abbreviated,rn.Format,!0);break;case"BBBB":F=Ot(de.DayPeriods,Pt.Wide,rn.Format,!0);break;case"BBBBB":F=Ot(de.DayPeriods,Pt.Narrow,rn.Format,!0);break;case"h":F=pn(ee.Hours,1,-12);break;case"hh":F=pn(ee.Hours,2,-12);break;case"H":F=pn(ee.Hours,1);break;case"HH":F=pn(ee.Hours,2);break;case"m":F=pn(ee.Minutes,1);break;case"mm":F=pn(ee.Minutes,2);break;case"s":F=pn(ee.Seconds,1);break;case"ss":F=pn(ee.Seconds,2);break;case"S":F=pn(ee.FractionalSeconds,1);break;case"SS":F=pn(ee.FractionalSeconds,2);break;case"SSS":F=pn(ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":F=_n(Y.Short);break;case"ZZZZZ":F=_n(Y.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":F=_n(Y.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":F=_n(Y.Long);break;default:return null}return Pn[D]=F,F}(rr);wr+=Nn?Nn(oe,A,qn):"''"===rr?"'":rr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),wr}function It(D,F,A){const B=new Date(0);return B.setFullYear(D,F,A),B.setHours(0,0,0),B}function Wt(D,F){const A=function ni(D){return(0,P.cg1)(D)[P.wAp.LocaleId]}(D);if(Or[A]=Or[A]||{},Or[A][F])return Or[A][F];let B="";switch(F){case"shortDate":B=Lr(D,pt.Short);break;case"mediumDate":B=Lr(D,pt.Medium);break;case"longDate":B=Lr(D,pt.Long);break;case"fullDate":B=Lr(D,pt.Full);break;case"shortTime":B=Ni(D,pt.Short);break;case"mediumTime":B=Ni(D,pt.Medium);break;case"longTime":B=Ni(D,pt.Long);break;case"fullTime":B=Ni(D,pt.Full);break;case"short":const oe=Wt(D,"shortTime"),Ve=Wt(D,"shortDate");B=gt(Fr(D,pt.Short),[oe,Ve]);break;case"medium":const Je=Wt(D,"mediumTime"),Gt=Wt(D,"mediumDate");B=gt(Fr(D,pt.Medium),[Je,Gt]);break;case"long":const qn=Wt(D,"longTime"),wr=Wt(D,"longDate");B=gt(Fr(D,pt.Long),[qn,wr]);break;case"full":const rr=Wt(D,"fullTime"),Nn=Wt(D,"fullDate");B=gt(Fr(D,pt.Full),[rr,Nn])}return B&&(Or[A][F]=B),B}function gt(D,F){return F&&(D=D.replace(/\{([^}]+)}/g,function(A,B){return null!=F&&B in F?F[B]:A})),D}function Dt(D,F,A="-",B,oe){let Ve="";(D<0||oe&&D<=0)&&(oe?D=1-D:(D=-D,Ve=A));let Je=String(D);for(;Je.length<F;)Je="0"+Je;return B&&(Je=Je.slice(Je.length-F)),Ve+Je}function pn(D,F,A=0,B=!1,oe=!1){return function(Ve,Je){let Gt=function sr(D,F){switch(D){case ee.FullYear:return F.getFullYear();case ee.Month:return F.getMonth();case ee.Date:return F.getDate();case ee.Hours:return F.getHours();case ee.Minutes:return F.getMinutes();case ee.Seconds:return F.getSeconds();case ee.FractionalSeconds:return F.getMilliseconds();case ee.Day:return F.getDay();default:throw new Error(`Unknown DateType value "${D}".`)}}(D,Ve);if((A>0||Gt>-A)&&(Gt+=A),D===ee.Hours)0===Gt&&-12===A&&(Gt=12);else if(D===ee.FractionalSeconds)return function Mn(D,F){return Dt(D,3).substring(0,F)}(Gt,F);const qn=fr(Je,lt.MinusSign);return Dt(Gt,F,qn,B,oe)}}function Ot(D,F,A=rn.Format,B=!1){return function(oe,Ve){return function ln(D,F,A,B,oe,Ve){switch(A){case de.Months:return function Pr(D,F,A){const B=(0,P.cg1)(D),Ve=Ar([B[P.wAp.MonthsFormat],B[P.wAp.MonthsStandalone]],F);return Ar(Ve,A)}(F,oe,B)[D.getMonth()];case de.Days:return function An(D,F,A){const B=(0,P.cg1)(D),Ve=Ar([B[P.wAp.DaysFormat],B[P.wAp.DaysStandalone]],F);return Ar(Ve,A)}(F,oe,B)[D.getDay()];case de.DayPeriods:const Je=D.getHours(),Gt=D.getMinutes();if(Ve){const wr=function Zr(D){const F=(0,P.cg1)(D);return pr(F),(F[P.wAp.ExtraData][2]||[]).map(B=>"string"==typeof B?br(B):[br(B[0]),br(B[1])])}(F),rr=function Nr(D,F,A){const B=(0,P.cg1)(D);pr(B);const Ve=Ar([B[P.wAp.ExtraData][0],B[P.wAp.ExtraData][1]],F)||[];return Ar(Ve,A)||[]}(F,oe,B),Nn=wr.findIndex(Xr=>{if(Array.isArray(Xr)){const[Kn,wi]=Xr,ss=Je>=Kn.hours&&Gt>=Kn.minutes,qi=Je<wi.hours||Je===wi.hours&&Gt<wi.minutes;if(Kn.hours<wi.hours){if(ss&&qi)return!0}else if(ss||qi)return!0}else if(Xr.hours===Je&&Xr.minutes===Gt)return!0;return!1});if(-1!==Nn)return rr[Nn]}return function _r(D,F,A){const B=(0,P.cg1)(D),Ve=Ar([B[P.wAp.DayPeriodsFormat],B[P.wAp.DayPeriodsStandalone]],F);return Ar(Ve,A)}(F,oe,B)[Je<12?0:1];case de.Eras:return function ri(D,F){return Ar((0,P.cg1)(D)[P.wAp.Eras],F)}(F,B)[D.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${A}`)}}(oe,Ve,D,F,A,B)}}function _n(D){return function(F,A,B){const oe=-1*B,Ve=fr(A,lt.MinusSign),Je=oe>0?Math.floor(oe/60):Math.ceil(oe/60);switch(D){case Y.Short:return(oe>=0?"+":"")+Dt(Je,2,Ve)+Dt(Math.abs(oe%60),2,Ve);case Y.ShortGMT:return"GMT"+(oe>=0?"+":"")+Dt(Je,1,Ve);case Y.Long:return"GMT"+(oe>=0?"+":"")+Dt(Je,2,Ve)+":"+Dt(Math.abs(oe%60),2,Ve);case Y.Extended:return 0===B?"Z":(oe>=0?"+":"")+Dt(Je,2,Ve)+":"+Dt(Math.abs(oe%60),2,Ve);default:throw new Error(`Unknown zone width "${D}"`)}}}function kn(D){return It(D.getFullYear(),D.getMonth(),D.getDate()+(4-D.getDay()))}function Sn(D,F=!1){return function(A,B){let oe;if(F){const Ve=new Date(A.getFullYear(),A.getMonth(),1).getDay()-1,Je=A.getDate();oe=1+Math.floor((Je+Ve)/7)}else{const Ve=kn(A),Je=function Xt(D){const F=It(D,0,1).getDay();return It(D,0,1+(F<=4?4:11)-F)}(Ve.getFullYear()),Gt=Ve.getTime()-Je.getTime();oe=1+Math.round(Gt/6048e5)}return Dt(oe,D,fr(B,lt.MinusSign))}}function en(D,F=!1){return function(A,B){return Dt(kn(A).getFullYear(),D,fr(B,lt.MinusSign),F)}}const Pn={};function ie(D,F){D=D.replace(/:/g,"");const A=Date.parse("Jan 01, 1970 00:00:00 "+D)/6e4;return isNaN(A)?F:A}function Qt(D){return D instanceof Date&&!isNaN(D.valueOf())}function Gi(D,F){F=encodeURIComponent(F);for(const A of D.split(";")){const B=A.indexOf("="),[oe,Ve]=-1==B?[A,""]:[A.slice(0,B),A.slice(B+1)];if(oe.trim()===F)return decodeURIComponent(Ve)}return null}let Ii=(()=>{class D{constructor(A,B,oe,Ve){this._iterableDiffers=A,this._keyValueDiffers=B,this._ngEl=oe,this._renderer=Ve,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(A){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof A?A.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(A){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof A?A.split(/\s+/):A,this._rawClass&&((0,P.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const A=this._iterableDiffer.diff(this._rawClass);A&&this._applyIterableChanges(A)}else if(this._keyValueDiffer){const A=this._keyValueDiffer.diff(this._rawClass);A&&this._applyKeyValueChanges(A)}}_applyKeyValueChanges(A){A.forEachAddedItem(B=>this._toggleClass(B.key,B.currentValue)),A.forEachChangedItem(B=>this._toggleClass(B.key,B.currentValue)),A.forEachRemovedItem(B=>{B.previousValue&&this._toggleClass(B.key,!1)})}_applyIterableChanges(A){A.forEachAddedItem(B=>{if("string"!=typeof B.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,P.AaK)(B.item)}`);this._toggleClass(B.item,!0)}),A.forEachRemovedItem(B=>this._toggleClass(B.item,!1))}_applyClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach(B=>this._toggleClass(B,!0)):Object.keys(A).forEach(B=>this._toggleClass(B,!!A[B])))}_removeClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach(B=>this._toggleClass(B,!1)):Object.keys(A).forEach(B=>this._toggleClass(B,!1)))}_toggleClass(A,B){(A=A.trim())&&A.split(/\s+/g).forEach(oe=>{B?this._renderer.addClass(this._ngEl.nativeElement,oe):this._renderer.removeClass(this._ngEl.nativeElement,oe)})}}return D.\u0275fac=function(A){return new(A||D)(P.Y36(P.ZZ4),P.Y36(P.aQg),P.Y36(P.SBq),P.Y36(P.Qsj))},D.\u0275dir=P.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),D})();class En{constructor(F,A,B,oe){this.$implicit=F,this.ngForOf=A,this.index=B,this.count=oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oi=(()=>{class D{constructor(A,B,oe){this._viewContainer=A,this._template=B,this._differs=oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const B=this._viewContainer;A.forEachOperation((oe,Ve,Je)=>{if(null==oe.previousIndex)B.createEmbeddedView(this._template,new En(oe.item,this._ngForOf,-1,-1),null===Je?void 0:Je);else if(null==Je)B.remove(null===Ve?void 0:Ve);else if(null!==Ve){const Gt=B.get(Ve);B.move(Gt,Je),yi(Gt,oe)}});for(let oe=0,Ve=B.length;oe<Ve;oe++){const Gt=B.get(oe).context;Gt.index=oe,Gt.count=Ve,Gt.ngForOf=this._ngForOf}A.forEachIdentityChange(oe=>{yi(B.get(oe.currentIndex),oe)})}static ngTemplateContextGuard(A,B){return!0}}return D.\u0275fac=function(A){return new(A||D)(P.Y36(P.s_b),P.Y36(P.Rgc),P.Y36(P.ZZ4))},D.\u0275dir=P.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function yi(D,F){D.context.$implicit=F.item}let Bn=(()=>{class D{constructor(A,B){this._viewContainer=A,this._context=new Ie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){me("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){me("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,B){return!0}}return D.\u0275fac=function(A){return new(A||D)(P.Y36(P.s_b),P.Y36(P.Rgc))},D.\u0275dir=P.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class Ie{constructor(){this.$implicit=null,this.ngIf=null}}function me(D,F){if(F&&!F.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,P.AaK)(F)}'.`)}class Se{constructor(F,A){this._viewContainerRef=F,this._templateRef=A,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(F){F&&!this._created?this.create():!F&&this._created&&this.destroy()}}let We=(()=>{class D{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(A){this._ngSwitch=A,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(A){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(A)}_matchCase(A){const B=A==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||B,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),B}_updateDefaultCases(A){if(this._defaultViews&&A!==this._defaultUsed){this._defaultUsed=A;for(let B=0;B<this._defaultViews.length;B++)this._defaultViews[B].enforceState(A)}}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275dir=P.lG2({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),D})(),it=(()=>{class D{constructor(A,B,oe){this.ngSwitch=oe,oe._addCase(),this._view=new Se(A,B)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return D.\u0275fac=function(A){return new(A||D)(P.Y36(P.s_b),P.Y36(P.Rgc),P.Y36(We,9))},D.\u0275dir=P.lG2({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),D})(),qt=(()=>{class D{constructor(A,B,oe){oe._addDefault(new Se(A,B))}}return D.\u0275fac=function(A){return new(A||D)(P.Y36(P.s_b),P.Y36(P.Rgc),P.Y36(We,9))},D.\u0275dir=P.lG2({type:D,selectors:[["","ngSwitchDefault",""]],standalone:!0}),D})(),_i=(()=>{class D{constructor(A){this._viewContainerRef=A,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(A){if(A.ngTemplateOutlet||A.ngTemplateOutletInjector){const B=this._viewContainerRef;if(this._viewRef&&B.remove(B.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:oe,ngTemplateOutletContext:Ve,ngTemplateOutletInjector:Je}=this;this._viewRef=B.createEmbeddedView(oe,Ve,Je?{injector:Je}:void 0)}else this._viewRef=null}else this._viewRef&&A.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return D.\u0275fac=function(A){return new(A||D)(P.Y36(P.s_b))},D.\u0275dir=P.lG2({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[P.TTD]}),D})();function Ln(D,F){return new P.vHH(2100,!1)}class bo{createSubscription(F,A){return F.subscribe({next:A,error:B=>{throw B}})}dispose(F){F.unsubscribe()}}class zi{createSubscription(F,A){return F.then(A,B=>{throw B})}dispose(F){}}const Fo=new zi,co=new bo;let lo=(()=>{class D{constructor(A){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=A}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(A){return this._obj?A!==this._obj?(this._dispose(),this.transform(A)):this._latestValue:(A&&this._subscribe(A),this._latestValue)}_subscribe(A){this._obj=A,this._strategy=this._selectStrategy(A),this._subscription=this._strategy.createSubscription(A,B=>this._updateLatestValue(A,B))}_selectStrategy(A){if((0,P.QGY)(A))return Fo;if((0,P.F4k)(A))return co;throw Ln()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(A,B){A===this._obj&&(this._latestValue=B,this._ref.markForCheck())}}return D.\u0275fac=function(A){return new(A||D)(P.Y36(P.sBO,16))},D.\u0275pipe=P.Yjl({name:"async",type:D,pure:!1,standalone:!0}),D})();const Vs=new P.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let fo=(()=>{class D{constructor(A,B){this.locale=A,this.defaultTimezone=B}transform(A,B="mediumDate",oe,Ve){if(null==A||""===A||A!=A)return null;try{return je(A,B,Ve||this.locale,oe??this.defaultTimezone??void 0)}catch(Je){throw Ln()}}}return D.\u0275fac=function(A){return new(A||D)(P.Y36(P.soG,16),P.Y36(Vs,24))},D.\u0275pipe=P.Yjl({name:"date",type:D,pure:!0,standalone:!0}),D})(),To=(()=>{class D{transform(A){return JSON.stringify(A,null,2)}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275pipe=P.Yjl({name:"json",type:D,pure:!1,standalone:!0}),D})(),no=(()=>{class D{}return D.\u0275fac=function(A){return new(A||D)},D.\u0275mod=P.oAB({type:D}),D.\u0275inj=P.cJS({}),D})();const ka="browser";function da(D){return D===ka}let Ho=(()=>{class D{}return D.\u0275prov=(0,P.Yz7)({token:D,providedIn:"root",factory:()=>new fi((0,P.LFG)(De),window)}),D})();class fi{constructor(F,A){this.document=F,this.window=A,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const A=function js(D,F){const A=D.getElementById(F)||D.getElementsByName(F)[0];if(A)return A;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const B=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let oe=B.currentNode;for(;oe;){const Ve=oe.shadowRoot;if(Ve){const Je=Ve.getElementById(F)||Ve.querySelector(`[name="${F}"]`);if(Je)return Je}oe=B.nextNode()}}return null}(this.document,F);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const A=this.window.history;A&&A.scrollRestoration&&(A.scrollRestoration=F)}}scrollToElement(F){const A=F.getBoundingClientRect(),B=A.left+this.window.pageXOffset,oe=A.top+this.window.pageYOffset,Ve=this.offset();this.window.scrollTo(B-Ve[0],oe-Ve[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=Li(this.window.history)||Li(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Li(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class Go{}},529:(an,et,q)=>{q.d(et,{JF:()=>Ur,TP:()=>An,UA:()=>lt,eN:()=>ni});var P=q(6895),z=q(6738),ce=q(1086),Ue=q(6498),ve=q(1406),Re=q(2198),De=q(4850);class Le{}class we{}class K{constructor(Y){this.normalizedNames=new Map,this.lazyUpdate=null,Y?this.lazyInit="string"==typeof Y?()=>{this.headers=new Map,Y.split("\n").forEach(ee=>{const de=ee.indexOf(":");if(de>0){const je=ee.slice(0,de),It=je.toLowerCase(),Wt=ee.slice(de+1).trim();this.maybeSetNormalizedName(je,It),this.headers.has(It)?this.headers.get(It).push(Wt):this.headers.set(It,[Wt])}})}:()=>{this.headers=new Map,Object.keys(Y).forEach(ee=>{let de=Y[ee];const je=ee.toLowerCase();"string"==typeof de&&(de=[de]),de.length>0&&(this.headers.set(je,de),this.maybeSetNormalizedName(ee,je))})}:this.headers=new Map}has(Y){return this.init(),this.headers.has(Y.toLowerCase())}get(Y){this.init();const ee=this.headers.get(Y.toLowerCase());return ee&&ee.length>0?ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Y){return this.init(),this.headers.get(Y.toLowerCase())||null}append(Y,ee){return this.clone({name:Y,value:ee,op:"a"})}set(Y,ee){return this.clone({name:Y,value:ee,op:"s"})}delete(Y,ee){return this.clone({name:Y,value:ee,op:"d"})}maybeSetNormalizedName(Y,ee){this.normalizedNames.has(ee)||this.normalizedNames.set(ee,Y)}init(){this.lazyInit&&(this.lazyInit instanceof K?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Y=>this.applyUpdate(Y)),this.lazyUpdate=null))}copyFrom(Y){Y.init(),Array.from(Y.headers.keys()).forEach(ee=>{this.headers.set(ee,Y.headers.get(ee)),this.normalizedNames.set(ee,Y.normalizedNames.get(ee))})}clone(Y){const ee=new K;return ee.lazyInit=this.lazyInit&&this.lazyInit instanceof K?this.lazyInit:this,ee.lazyUpdate=(this.lazyUpdate||[]).concat([Y]),ee}applyUpdate(Y){const ee=Y.name.toLowerCase();switch(Y.op){case"a":case"s":let de=Y.value;if("string"==typeof de&&(de=[de]),0===de.length)return;this.maybeSetNormalizedName(Y.name,ee);const je=("a"===Y.op?this.headers.get(ee):void 0)||[];je.push(...de),this.headers.set(ee,je);break;case"d":const It=Y.value;if(It){let Wt=this.headers.get(ee);if(!Wt)return;Wt=Wt.filter(gt=>-1===It.indexOf(gt)),0===Wt.length?(this.headers.delete(ee),this.normalizedNames.delete(ee)):this.headers.set(ee,Wt)}else this.headers.delete(ee),this.normalizedNames.delete(ee)}}forEach(Y){this.init(),Array.from(this.normalizedNames.keys()).forEach(ee=>Y(this.normalizedNames.get(ee),this.headers.get(ee)))}}class be{encodeKey(Y){return Ce(Y)}encodeValue(Y){return Ce(Y)}decodeKey(Y){return decodeURIComponent(Y)}decodeValue(Y){return decodeURIComponent(Y)}}const fe=/%(\d[a-f0-9])/gi,kt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ce(Ke){return encodeURIComponent(Ke).replace(fe,(Y,ee)=>kt[ee]??Y)}function nt(Ke){return`${Ke}`}class Bt{constructor(Y={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Y.encoder||new be,Y.fromString){if(Y.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ae(Ke,Y){const ee=new Map;return Ke.length>0&&Ke.replace(/^\?/,"").split("&").forEach(je=>{const It=je.indexOf("="),[Wt,gt]=-1==It?[Y.decodeKey(je),""]:[Y.decodeKey(je.slice(0,It)),Y.decodeValue(je.slice(It+1))],Dt=ee.get(Wt)||[];Dt.push(gt),ee.set(Wt,Dt)}),ee}(Y.fromString,this.encoder)}else Y.fromObject?(this.map=new Map,Object.keys(Y.fromObject).forEach(ee=>{const de=Y.fromObject[ee],je=Array.isArray(de)?de.map(nt):[nt(de)];this.map.set(ee,je)})):this.map=null}has(Y){return this.init(),this.map.has(Y)}get(Y){this.init();const ee=this.map.get(Y);return ee?ee[0]:null}getAll(Y){return this.init(),this.map.get(Y)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Y,ee){return this.clone({param:Y,value:ee,op:"a"})}appendAll(Y){const ee=[];return Object.keys(Y).forEach(de=>{const je=Y[de];Array.isArray(je)?je.forEach(It=>{ee.push({param:de,value:It,op:"a"})}):ee.push({param:de,value:je,op:"a"})}),this.clone(ee)}set(Y,ee){return this.clone({param:Y,value:ee,op:"s"})}delete(Y,ee){return this.clone({param:Y,value:ee,op:"d"})}toString(){return this.init(),this.keys().map(Y=>{const ee=this.encoder.encodeKey(Y);return this.map.get(Y).map(de=>ee+"="+this.encoder.encodeValue(de)).join("&")}).filter(Y=>""!==Y).join("&")}clone(Y){const ee=new Bt({encoder:this.encoder});return ee.cloneFrom=this.cloneFrom||this,ee.updates=(this.updates||[]).concat(Y),ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Y=>this.map.set(Y,this.cloneFrom.map.get(Y))),this.updates.forEach(Y=>{switch(Y.op){case"a":case"s":const ee=("a"===Y.op?this.map.get(Y.param):void 0)||[];ee.push(nt(Y.value)),this.map.set(Y.param,ee);break;case"d":if(void 0===Y.value){this.map.delete(Y.param);break}{let de=this.map.get(Y.param)||[];const je=de.indexOf(nt(Y.value));-1!==je&&de.splice(je,1),de.length>0?this.map.set(Y.param,de):this.map.delete(Y.param)}}}),this.cloneFrom=this.updates=null)}}class ht{constructor(){this.map=new Map}set(Y,ee){return this.map.set(Y,ee),this}get(Y){return this.map.has(Y)||this.map.set(Y,Y.defaultValue()),this.map.get(Y)}delete(Y){return this.map.delete(Y),this}has(Y){return this.map.has(Y)}keys(){return this.map.keys()}}function Jn(Ke){return typeof ArrayBuffer<"u"&&Ke instanceof ArrayBuffer}function wt(Ke){return typeof Blob<"u"&&Ke instanceof Blob}function ot(Ke){return typeof FormData<"u"&&Ke instanceof FormData}class Qe{constructor(Y,ee,de,je){let It;if(this.url=ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Y.toUpperCase(),function nn(Ke){switch(Ke){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||je?(this.body=void 0!==de?de:null,It=je):It=de,It&&(this.reportProgress=!!It.reportProgress,this.withCredentials=!!It.withCredentials,It.responseType&&(this.responseType=It.responseType),It.headers&&(this.headers=It.headers),It.context&&(this.context=It.context),It.params&&(this.params=It.params)),this.headers||(this.headers=new K),this.context||(this.context=new ht),this.params){const Wt=this.params.toString();if(0===Wt.length)this.urlWithParams=ee;else{const gt=ee.indexOf("?");this.urlWithParams=ee+(-1===gt?"?":gt<ee.length-1?"&":"")+Wt}}else this.params=new Bt,this.urlWithParams=ee}serializeBody(){return null===this.body?null:Jn(this.body)||wt(this.body)||ot(this.body)||function ut(Ke){return typeof URLSearchParams<"u"&&Ke instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ot(this.body)?null:wt(this.body)?this.body.type||null:Jn(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Y={}){const ee=Y.method||this.method,de=Y.url||this.url,je=Y.responseType||this.responseType,It=void 0!==Y.body?Y.body:this.body,Wt=void 0!==Y.withCredentials?Y.withCredentials:this.withCredentials,gt=void 0!==Y.reportProgress?Y.reportProgress:this.reportProgress;let Dt=Y.headers||this.headers,Mn=Y.params||this.params;const pn=Y.context??this.context;return void 0!==Y.setHeaders&&(Dt=Object.keys(Y.setHeaders).reduce((sr,Ot)=>sr.set(Ot,Y.setHeaders[Ot]),Dt)),Y.setParams&&(Mn=Object.keys(Y.setParams).reduce((sr,Ot)=>sr.set(Ot,Y.setParams[Ot]),Mn)),new Qe(ee,de,It,{params:Mn,headers:Dt,context:pn,reportProgress:gt,responseType:je,withCredentials:Wt})}}var Mt=(()=>((Mt=Mt||{})[Mt.Sent=0]="Sent",Mt[Mt.UploadProgress=1]="UploadProgress",Mt[Mt.ResponseHeader=2]="ResponseHeader",Mt[Mt.DownloadProgress=3]="DownloadProgress",Mt[Mt.Response=4]="Response",Mt[Mt.User=5]="User",Mt))();class rn{constructor(Y,ee=200,de="OK"){this.headers=Y.headers||new K,this.status=void 0!==Y.status?Y.status:ee,this.statusText=Y.statusText||de,this.url=Y.url||null,this.ok=this.status>=200&&this.status<300}}class Pt extends rn{constructor(Y={}){super(Y),this.type=Mt.ResponseHeader}clone(Y={}){return new Pt({headers:Y.headers||this.headers,status:void 0!==Y.status?Y.status:this.status,statusText:Y.statusText||this.statusText,url:Y.url||this.url||void 0})}}class pt extends rn{constructor(Y={}){super(Y),this.type=Mt.Response,this.body=void 0!==Y.body?Y.body:null}clone(Y={}){return new pt({body:void 0!==Y.body?Y.body:this.body,headers:Y.headers||this.headers,status:void 0!==Y.status?Y.status:this.status,statusText:Y.statusText||this.statusText,url:Y.url||this.url||void 0})}}class lt extends rn{constructor(Y){super(Y,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Y.url||"(unknown url)"}`:`Http failure response for ${Y.url||"(unknown url)"}: ${Y.status} ${Y.statusText}`,this.error=Y.error||null}}function zn(Ke,Y){return{body:Y,headers:Ke.headers,context:Ke.context,observe:Ke.observe,params:Ke.params,reportProgress:Ke.reportProgress,responseType:Ke.responseType,withCredentials:Ke.withCredentials}}let ni=(()=>{class Ke{constructor(ee){this.handler=ee}request(ee,de,je={}){let It;if(ee instanceof Qe)It=ee;else{let Dt,Mn;Dt=je.headers instanceof K?je.headers:new K(je.headers),je.params&&(Mn=je.params instanceof Bt?je.params:new Bt({fromObject:je.params})),It=new Qe(ee,de,void 0!==je.body?je.body:null,{headers:Dt,context:je.context,params:Mn,reportProgress:je.reportProgress,responseType:je.responseType||"json",withCredentials:je.withCredentials})}const Wt=(0,ce.of)(It).pipe((0,ve.b)(Dt=>this.handler.handle(Dt)));if(ee instanceof Qe||"events"===je.observe)return Wt;const gt=Wt.pipe((0,Re.h)(Dt=>Dt instanceof pt));switch(je.observe||"body"){case"body":switch(It.responseType){case"arraybuffer":return gt.pipe((0,De.U)(Dt=>{if(null!==Dt.body&&!(Dt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Dt.body}));case"blob":return gt.pipe((0,De.U)(Dt=>{if(null!==Dt.body&&!(Dt.body instanceof Blob))throw new Error("Response is not a Blob.");return Dt.body}));case"text":return gt.pipe((0,De.U)(Dt=>{if(null!==Dt.body&&"string"!=typeof Dt.body)throw new Error("Response is not a string.");return Dt.body}));default:return gt.pipe((0,De.U)(Dt=>Dt.body))}case"response":return gt;default:throw new Error(`Unreachable: unhandled observe type ${je.observe}}`)}}delete(ee,de={}){return this.request("DELETE",ee,de)}get(ee,de={}){return this.request("GET",ee,de)}head(ee,de={}){return this.request("HEAD",ee,de)}jsonp(ee,de){return this.request("JSONP",ee,{params:(new Bt).append(de,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ee,de={}){return this.request("OPTIONS",ee,de)}patch(ee,de,je={}){return this.request("PATCH",ee,zn(je,de))}post(ee,de,je={}){return this.request("POST",ee,zn(je,de))}put(ee,de,je={}){return this.request("PUT",ee,zn(je,de))}}return Ke.\u0275fac=function(ee){return new(ee||Ke)(z.LFG(Le))},Ke.\u0275prov=z.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();class _r{constructor(Y,ee){this.next=Y,this.interceptor=ee}handle(Y){return this.interceptor.intercept(Y,this.next)}}const An=new z.OlP("HTTP_INTERCEPTORS");let Pr=(()=>{class Ke{intercept(ee,de){return de.handle(ee)}}return Ke.\u0275fac=function(ee){return new(ee||Ke)},Ke.\u0275prov=z.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const On=/^\)\]\}',?\n/;let gi=(()=>{class Ke{constructor(ee){this.xhrFactory=ee}handle(ee){if("JSONP"===ee.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ue.y(de=>{const je=this.xhrFactory.build();if(je.open(ee.method,ee.urlWithParams),ee.withCredentials&&(je.withCredentials=!0),ee.headers.forEach((ln,_n)=>je.setRequestHeader(ln,_n.join(","))),ee.headers.has("Accept")||je.setRequestHeader("Accept","application/json, text/plain, */*"),!ee.headers.has("Content-Type")){const ln=ee.detectContentTypeHeader();null!==ln&&je.setRequestHeader("Content-Type",ln)}if(ee.responseType){const ln=ee.responseType.toLowerCase();je.responseType="json"!==ln?ln:"text"}const It=ee.serializeBody();let Wt=null;const gt=()=>{if(null!==Wt)return Wt;const ln=je.statusText||"OK",_n=new K(je.getAllResponseHeaders()),xr=function di(Ke){return"responseURL"in Ke&&Ke.responseURL?Ke.responseURL:/^X-Request-URL:/m.test(Ke.getAllResponseHeaders())?Ke.getResponseHeader("X-Request-URL"):null}(je)||ee.url;return Wt=new Pt({headers:_n,status:je.status,statusText:ln,url:xr}),Wt},Dt=()=>{let{headers:ln,status:_n,statusText:xr,url:At}=gt(),Xt=null;204!==_n&&(Xt=typeof je.response>"u"?je.responseText:je.response),0===_n&&(_n=Xt?200:0);let kn=_n>=200&&_n<300;if("json"===ee.responseType&&"string"==typeof Xt){const Sn=Xt;Xt=Xt.replace(On,"");try{Xt=""!==Xt?JSON.parse(Xt):null}catch(en){Xt=Sn,kn&&(kn=!1,Xt={error:en,text:Xt})}}kn?(de.next(new pt({body:Xt,headers:ln,status:_n,statusText:xr,url:At||void 0})),de.complete()):de.error(new lt({error:Xt,headers:ln,status:_n,statusText:xr,url:At||void 0}))},Mn=ln=>{const{url:_n}=gt(),xr=new lt({error:ln,status:je.status||0,statusText:je.statusText||"Unknown Error",url:_n||void 0});de.error(xr)};let pn=!1;const sr=ln=>{pn||(de.next(gt()),pn=!0);let _n={type:Mt.DownloadProgress,loaded:ln.loaded};ln.lengthComputable&&(_n.total=ln.total),"text"===ee.responseType&&!!je.responseText&&(_n.partialText=je.responseText),de.next(_n)},Ot=ln=>{let _n={type:Mt.UploadProgress,loaded:ln.loaded};ln.lengthComputable&&(_n.total=ln.total),de.next(_n)};return je.addEventListener("load",Dt),je.addEventListener("error",Mn),je.addEventListener("timeout",Mn),je.addEventListener("abort",Mn),ee.reportProgress&&(je.addEventListener("progress",sr),null!==It&&je.upload&&je.upload.addEventListener("progress",Ot)),je.send(It),de.next({type:Mt.Sent}),()=>{je.removeEventListener("error",Mn),je.removeEventListener("abort",Mn),je.removeEventListener("load",Dt),je.removeEventListener("timeout",Mn),ee.reportProgress&&(je.removeEventListener("progress",sr),null!==It&&je.upload&&je.upload.removeEventListener("progress",Ot)),je.readyState!==je.DONE&&je.abort()}})}}return Ke.\u0275fac=function(ee){return new(ee||Ke)(z.LFG(P.JF))},Ke.\u0275prov=z.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const Wn=new z.OlP("XSRF_COOKIE_NAME"),pr=new z.OlP("XSRF_HEADER_NAME");class Zr{}let Nr=(()=>{class Ke{constructor(ee,de,je){this.doc=ee,this.platform=de,this.cookieName=je,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ee=this.doc.cookie||"";return ee!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,P.Mx)(ee,this.cookieName),this.lastCookieString=ee),this.lastToken}}return Ke.\u0275fac=function(ee){return new(ee||Ke)(z.LFG(P.K0),z.LFG(z.Lbi),z.LFG(Wn))},Ke.\u0275prov=z.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),ii=(()=>{class Ke{constructor(ee,de){this.tokenService=ee,this.headerName=de}intercept(ee,de){const je=ee.url.toLowerCase();if("GET"===ee.method||"HEAD"===ee.method||je.startsWith("http://")||je.startsWith("https://"))return de.handle(ee);const It=this.tokenService.getToken();return null!==It&&!ee.headers.has(this.headerName)&&(ee=ee.clone({headers:ee.headers.set(this.headerName,It)})),de.handle(ee)}}return Ke.\u0275fac=function(ee){return new(ee||Ke)(z.LFG(Zr),z.LFG(pr))},Ke.\u0275prov=z.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),Ar=(()=>{class Ke{constructor(ee,de){this.backend=ee,this.injector=de,this.chain=null}handle(ee){if(null===this.chain){const de=this.injector.get(An,[]);this.chain=de.reduceRight((je,It)=>new _r(je,It),this.backend)}return this.chain.handle(ee)}}return Ke.\u0275fac=function(ee){return new(ee||Ke)(z.LFG(we),z.LFG(z.zs3))},Ke.\u0275prov=z.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),Ji=(()=>{class Ke{static disable(){return{ngModule:Ke,providers:[{provide:ii,useClass:Pr}]}}static withOptions(ee={}){return{ngModule:Ke,providers:[ee.cookieName?{provide:Wn,useValue:ee.cookieName}:[],ee.headerName?{provide:pr,useValue:ee.headerName}:[]]}}}return Ke.\u0275fac=function(ee){return new(ee||Ke)},Ke.\u0275mod=z.oAB({type:Ke}),Ke.\u0275inj=z.cJS({providers:[ii,{provide:An,useExisting:ii,multi:!0},{provide:Zr,useClass:Nr},{provide:Wn,useValue:"XSRF-TOKEN"},{provide:pr,useValue:"X-XSRF-TOKEN"}]}),Ke})(),Ur=(()=>{class Ke{}return Ke.\u0275fac=function(ee){return new(ee||Ke)},Ke.\u0275mod=z.oAB({type:Ke}),Ke.\u0275inj=z.cJS({providers:[ni,{provide:Le,useClass:Ar},gi,{provide:we,useExisting:gi}],imports:[Ji.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ke})()},6738:(an,et,q)=>{q.d(et,{tb:()=>FI,AFp:()=>NI,ip1:()=>PI,CZH:()=>t_,hGG:()=>Hb,z2F:()=>r_,sBO:()=>Sb,Sil:()=>ub,_Vd:()=>nd,EJc:()=>ob,Xts:()=>Ja,SBq:()=>rd,lqb:()=>Rc,qLn:()=>sd,vpe:()=>zc,XFs:()=>Y,OlP:()=>mr,zs3:()=>sc,ZZ4:()=>Sw,aQg:()=>Aw,soG:()=>n_,YKP:()=>tw,h0i:()=>Lh,PXZ:()=>Eb,R0b:()=>Hu,FiY:()=>Ri,Lbi:()=>rb,g9A:()=>LI,Qsj:()=>nf,FYo:()=>tf,JOm:()=>ao,q3G:()=>ze,tp0:()=>qu,Rgc:()=>em,dDg:()=>yb,eoX:()=>GI,q4F:()=>uh,GfV:()=>id,s_b:()=>Jy,ifc:()=>sr,MMx:()=>Yy,Lck:()=>zE,eFA:()=>qI,G48:()=>Cb,Gpc:()=>bn,f3M:()=>so,_c5:()=>jb,c2e:()=>ib,zSh:()=>rh,wAp:()=>Dn,vHH:()=>wt,lri:()=>jI,rWj:()=>HI,EiD:()=>he,mCW:()=>th,qzn:()=>Sc,JVY:()=>dp,pB0:()=>Ql,eBb:()=>qh,L6k:()=>hp,LAX:()=>Zl,D6c:()=>Gb,cg1:()=>Hg,kL8:()=>My,dqk:()=>Ot,Z0I:()=>ii,sIi:()=>Cl,CqO:()=>H_,QGY:()=>Ch,QP$:()=>Lt,F4k:()=>my,RDi:()=>ap,AaK:()=>Ce,z3N:()=>ba,qOj:()=>md,TTD:()=>$o,_Bn:()=>ew,jDz:()=>rw,xp6:()=>Im,uIk:()=>Dh,Tol:()=>Td,ekj:()=>jf,Suo:()=>cI,Xpm:()=>_e,lG2:()=>ye,Yz7:()=>Wn,cJS:()=>Zr,oAB:()=>Qt,Yjl:()=>re,Y36:()=>El,_UZ:()=>Cg,BQk:()=>Sg,ynx:()=>Bf,qZA:()=>Aa,TgZ:()=>ks,EpF:()=>gy,n5z:()=>Vi,LFG:()=>vn,$8M:()=>Hn,$Z:()=>Lm,NdJ:()=>Ei,CRH:()=>lI,oxw:()=>q_,ALo:()=>XE,lcZ:()=>eI,xi3:()=>tI,Hsn:()=>Y_,F$t:()=>K_,Q6J:()=>Ml,DdM:()=>Sr,VKq:()=>ir,iGM:()=>aI,MAs:()=>Tg,KtG:()=>te,CHM:()=>X,LSH:()=>Qi,Akn:()=>nu,YNc:()=>Ir,W1O:()=>pI,_uU:()=>lv,Oqu:()=>Cy,hij:()=>Nl,Gf:()=>uI});var P=q(5529),z=q(2654),ce=q(6498),Ue=q(2866),ve=q(9146),Re=q(3009),Le=q(1762);class K{constructor(i,o){this.subjectFactory=i,this.selector=o}call(i,o){const{selector:u}=this,c=this.subjectFactory(),h=u(c).subscribe(i);return h.add(o.subscribe(c)),h}}var Q=q(4327);function be(){return new P.xQ}function fe(n){for(let i in n)if(n[i]===fe)return i;throw Error("Could not find renamed property on target object.")}function kt(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function nt(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Bt=fe({__forward_ref__:fe});function bn(n){return n.__forward_ref__=bn,n.toString=function(){return Ce(this())},n}function ht(n){return nn(n)?n():n}function nn(n){return"function"==typeof n&&n.hasOwnProperty(Bt)&&n.__forward_ref__===bn}class wt extends Error{constructor(i,o){super(function ot(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function ut(n){return"string"==typeof n?n:null==n?"":String(n)}function pt(n,i){throw new wt(-201,!1)}function Vn(n,i){null==n&&function yn(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Wn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Nr(n){return Ar(n,Ur)||Ar(n,Or)}function ii(n){return null!==Nr(n)}function Ar(n,i){return n.hasOwnProperty(i)?n[i]:null}function Ji(n){return n&&(n.hasOwnProperty(Xn)||n.hasOwnProperty(Ke))?n[Xn]:null}const Ur=fe({\u0275prov:fe}),Xn=fe({\u0275inj:fe}),Or=fe({ngInjectableDef:fe}),Ke=fe({ngInjectorDef:fe});var Y=(()=>((Y=Y||{})[Y.Default=0]="Default",Y[Y.Host=1]="Host",Y[Y.Self=2]="Self",Y[Y.SkipSelf=4]="SkipSelf",Y[Y.Optional=8]="Optional",Y))();let ee;function je(n){const i=ee;return ee=n,i}function It(n,i,o){const u=Nr(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Y.Optional?null:void 0!==i?i:void pt(Ce(n))}function gt(n){return{toString:n}.toString()}var Dt=(()=>((Dt=Dt||{})[Dt.OnPush=0]="OnPush",Dt[Dt.Default=1]="Default",Dt))(),sr=(()=>{return(n=sr||(sr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",sr;var n})();const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xr={},At=[],Xt=fe({\u0275cmp:fe}),kn=fe({\u0275dir:fe}),Sn=fe({\u0275pipe:fe}),en=fe({\u0275mod:fe}),Pn=fe({\u0275fac:fe}),ue=fe({__NG_ELEMENT_ID__:fe});let ie=0;function _e(n){return gt(()=>{const o=!0===n.standalone,u={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Dt.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||At,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||sr.Emulated,id:"c"+ie++,styles:n.styles||At,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,m=n.features;return c.inputs=er(n.inputs,u),c.outputs=er(n.outputs),m&&m.forEach(T=>T(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(Me).filter(Rt):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map($e).filter(Rt):null,c})}function Me(n){return W(n)||pe(n)}function Rt(n){return null!==n}function Qt(n){return gt(()=>({type:n.type,bootstrap:n.bootstrap||At,declarations:n.declarations||At,imports:n.imports||At,exports:n.exports||At,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function er(n,i){if(null==n)return xr;const o={};for(const u in n)if(n.hasOwnProperty(u)){let c=n[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=u,i&&(i[c]=h)}return o}const ye=_e;function re(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function W(n){return n[Xt]||null}function pe(n){return n[kn]||null}function $e(n){return n[Sn]||null}function Lt(n){const i=W(n)||pe(n)||$e(n);return null!==i&&i.standalone}function $t(n,i){const o=n[en]||null;if(!o&&!0===i)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return o}function zr(n){return Array.isArray(n)&&"object"==typeof n[1]}function _i(n){return Array.isArray(n)&&!0===n[1]}function Ti(n){return 0!=(8&n.flags)}function Ln(n){return 2==(2&n.flags)}function bo(n){return 1==(1&n.flags)}function zi(n){return null!==n.template}function Fo(n){return 0!=(256&n[2])}function no(n,i){return n.hasOwnProperty(Pn)?n[Pn]:null}class ka{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function $o(){return jo}function jo(n){return n.type.prototype.ngOnChanges&&(n.setInput=da),go}function go(){const n=vi(this),i=n?.current;if(i){const o=n.previous;if(o===xr)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function da(n,i,o,u){const c=vi(n)||function $s(n,i){return n[Bs]=i}(n,{previous:xr,current:null}),h=c.current||(c.current={}),m=c.previous,T=this.declaredInputs[o],S=m[T];h[T]=new ka(S&&S.currentValue,i,m===xr),n[u]=i}$o.ngInherit=!0;const Bs="__ngSimpleChanges__";function vi(n){return n[Bs]||null}function tr(n){for(;Array.isArray(n);)n=n[0];return n}function Ds(n,i){return tr(i[n])}function Di(n,i){return tr(i[n.index])}function Co(n,i){return n.data[i]}function es(n,i){return n[i]}function Fi(n,i){const o=i[n];return zr(o)?o:o[0]}function ys(n){return 64==(64&n[2])}function ns(n,i){return null==i?null:n[i]}function Pa(n){n[18]=0}function Vr(n,i){n[5]+=i;let o=n,u=n[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const tn={lFrame:Jr(null),bindingsEnabled:!0};function su(){return tn.bindingsEnabled}function R(){return tn.lFrame.lView}function O(){return tn.lFrame.tView}function X(n){return tn.lFrame.contextLView=n,n[8]}function te(n){return tn.lFrame.contextLView=null,n}function Ee(){let n=qe();for(;null!==n&&64===n.type;)n=n.parent;return n}function qe(){return tn.lFrame.currentTNode}function xt(n,i){const o=tn.lFrame;o.currentTNode=n,o.isParent=i}function yt(){return tn.lFrame.isParent}function Tn(){tn.lFrame.isParent=!1}function Fn(){const n=tn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Qr(){return tn.lFrame.bindingIndex++}function nr(n){const i=tn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Gs(n,i){const o=tn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Cs(i)}function Cs(n){tn.lFrame.currentDirectiveIndex=n}function _s(){return tn.lFrame.currentQueryIndex}function Wo(n){tn.lFrame.currentQueryIndex=n}function La(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function Fa(n,i,o){if(o&Y.SkipSelf){let c=i,h=n;for(;!(c=c.parent,null!==c||o&Y.Host||(c=La(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,n=h}const u=tn.lFrame=zs();return u.currentTNode=i,u.lView=n,!0}function Wr(n){const i=zs(),o=n[1];tn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function zs(){const n=tn.lFrame,i=null===n?null:n.child;return null===i?Jr(n):i}function Jr(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function ou(){const n=tn.lFrame;return tn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const qo=ou;function ro(){const n=ou();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ai(){return tn.lFrame.selectedIndex}function Un(n){tn.lFrame.selectedIndex=n}function Rr(){const n=tn.lFrame;return Co(n.tView,n.selectedIndex)}function Os(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:T,ngAfterViewInit:S,ngAfterViewChecked:N,ngOnDestroy:j}=h;m&&(n.contentHooks||(n.contentHooks=[])).push(-o,m),T&&((n.contentHooks||(n.contentHooks=[])).push(o,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,T)),S&&(n.viewHooks||(n.viewHooks=[])).push(-o,S),N&&((n.viewHooks||(n.viewHooks=[])).push(o,N),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,N)),null!=j&&(n.destroyHooks||(n.destroyHooks=[])).push(o,j)}}function is(n,i,o){ga(n,i,3,o)}function Ci(n,i,o,u){(3&n[2])===o&&ga(n,i,o,u)}function qr(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function ga(n,i,o,u){const h=u??-1,m=i.length-1;let T=0;for(let S=void 0!==u?65535&n[18]:0;S<m;S++)if("number"==typeof i[S+1]){if(T=i[S],null!=u&&T>=u)break}else i[S]<0&&(n[18]+=65536),(T<h||-1==h)&&(D(n,o,i,S),n[18]=(4294901760&n[18])+S+2),S++}function D(n,i,o,u){const c=o[u]<0,h=o[u+1],T=n[c?-o[u]:o[u]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{h.call(T)}finally{}}}else try{h.call(T)}finally{}}const F=-1;class A{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Nn(n,i,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const h=o[u++],m=o[u++],T=o[u++];n.setAttribute(i,m,T,h)}else{const h=c,m=o[++u];Kn(h)?n.setProperty(i,h,m):n.setAttribute(i,h,m),u++}}return u}function Xr(n){return 3===n||4===n||6===n}function Kn(n){return 64===n.charCodeAt(0)}function wi(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||ss(n,o,c,null,-1===o||2===o?i[++u]:null)}}return n}function ss(n,i,o,u,c){let h=0,m=n.length;if(-1===i)m=-1;else for(;h<n.length;){const T=n[h++];if("number"==typeof T){if(T===i){m=-1;break}if(T>i){m=h-1;break}}}for(;h<n.length;){const T=n[h];if("number"==typeof T)break;if(T===o){if(null===u)return void(null!==c&&(n[h+1]=c));if(u===n[h+1])return void(n[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==m&&(n.splice(m,0,i),h=m+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==c&&n.splice(h++,0,c)}function qi(n){return n!==F}function ur(n){return 32767&n}function Si(n,i){let o=function Ki(n){return n>>16}(n),u=i;for(;o>0;)u=u[15],o--;return u}let io=!0;function Va(n){const i=io;return io=n,i}let Tu=0;const Ct={};function ma(n,i){const o=Be(n,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(n.injectorIndex=i.length,bt(u.data,n),bt(i,null),bt(u.blueprint,null));const c=tt(n,i),h=n.injectorIndex;if(qi(c)){const m=ur(c),T=Si(c,i),S=T[1].data;for(let N=0;N<8;N++)i[h+N]=T[m+N]|S[m+N]}return i[h+8]=c,h}function bt(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Be(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function tt(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){if(u=Zo(c),null===u)return F;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return F}function ei(n,i,o){!function Zt(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(ue)&&(u=o[ue]),null==u&&(u=o[ue]=Tu++);const c=255&u;i.data[n+(c>>5)]|=1<<c}(n,i,o)}function Du(n,i,o){if(o&Y.Optional||void 0!==n)return n;pt()}function cu(n,i,o,u){if(o&Y.Optional&&void 0===u&&(u=null),0==(o&(Y.Self|Y.Host))){const c=n[9],h=je(void 0);try{return c?c.get(i,u,o&Y.Optional):It(i,u,o&Y.Optional)}finally{je(h)}}return Du(u,0,o)}function dc(n,i,o,u=Y.Default,c){if(null!==n){if(1024&i[2]){const m=function Jt(n,i,o,u,c){let h=n,m=i;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const T=hc(h,m,o,u|Y.Self,Ct);if(T!==Ct)return T;let S=h.parent;if(!S){const N=m[21];if(N){const j=N.get(o,Ct,u);if(j!==Ct)return j}S=Zo(m),m=m[15]}h=S}return c}(n,i,o,u,Ct);if(m!==Ct)return m}const h=hc(n,i,o,u,Ct);if(h!==Ct)return h}return cu(i,o,u,c)}function hc(n,i,o,u,c){const h=function Pd(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(ue)?n[ue]:void 0;return"number"==typeof i?i>=0?255&i:ya:i}(o);if("function"==typeof h){if(!Fa(i,n,u))return u&Y.Host?Du(c,0,u):cu(i,o,u,c);try{const m=h(u);if(null!=m||u&Y.Optional)return m;pt()}finally{qo()}}else if("number"==typeof h){let m=null,T=Be(n,i),S=F,N=u&Y.Host?i[16][6]:null;for((-1===T||u&Y.SkipSelf)&&(S=-1===T?tt(n,i):i[T+8],S!==F&&Yo(u,!1)?(m=i[1],T=ur(S),i=Si(S,i)):T=-1);-1!==T;){const j=i[1];if(qc(h,T,j.data)){const Z=Gu(T,i,o,m,u,N);if(Z!==Ct)return Z}S=i[T+8],S!==F&&Yo(u,i[1].data[T+8]===N)&&qc(h,T,i)?(m=j,T=ur(S),i=Si(S,i)):T=-1}}return c}function Gu(n,i,o,u,c,h){const m=i[1],T=m.data[n+8],j=lu(T,m,o,null==u?Ln(T)&&io:u!=m&&0!=(3&T.type),c&Y.Host&&h===T);return null!==j?Cu(i,m,j,T):Ct}function lu(n,i,o,u,c){const h=n.providerIndexes,m=i.data,T=1048575&h,S=n.directiveStart,j=h>>20,ge=c?T+j:n.directiveEnd;for(let Oe=u?T:T+j;Oe<ge;Oe++){const Xe=m[Oe];if(Oe<S&&o===Xe||Oe>=S&&Xe.type===o)return Oe}if(c){const Oe=m[S];if(Oe&&zi(Oe)&&Oe.type===o)return S}return null}function Cu(n,i,o,u){let c=n[o];const h=i.data;if(function B(n){return n instanceof A}(c)){const m=c;m.resolving&&function Mt(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new wt(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Qe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ut(n)}(h[o]));const T=Va(m.canSeeViewProviders);m.resolving=!0;const S=m.injectImpl?je(m.injectImpl):null;Fa(n,u,Y.Default);try{c=n[o]=m.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Ko(n,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(u){const m=jo(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,c),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==S&&je(S),Va(T),m.resolving=!1,qo()}}return c}function qc(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function Yo(n,i){return!(n&Y.Self||n&Y.Host&&i)}class Ut{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return dc(this._tNode,this._lView,i,u,o)}}function ya(){return new Ut(Ee(),R())}function Vi(n){return gt(()=>{const i=n.prototype.constructor,o=i[Pn]||ti(i),u=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==u;){const h=c[Pn]||ti(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function ti(n){return nn(n)?()=>{const i=ti(ht(n));return i&&i()}:no(n)}function Zo(n){const i=n[1],o=i.type;return 2===o?i.declTNode:1===o?n[6]:null}function Hn(n){return function Wc(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const h=o[c];if(Xr(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(h===i)return o[c+1];c+=2}}}return null}(Ee(),n)}const Mr="__parameters__";function kr(n,i,o){return gt(()=>{const u=function Qo(n){return function(...o){if(n){const u=n(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...h){if(this instanceof c)return u.apply(this,h),this;const m=new c(...h);return T.annotation=m,T;function T(S,N,j){const Z=S.hasOwnProperty(Mr)?S[Mr]:Object.defineProperty(S,Mr,{value:[]})[Mr];for(;Z.length<=j;)Z.push(null);return(Z[j]=Z[j]||[]).push(m),S}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class mr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Wn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zn(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?(i===n&&(i=n.slice(0,o)),Zn(u,i)):i!==n&&i.push(u)}return i}function as(n,i){n.forEach(o=>Array.isArray(o)?as(o,i):i(o))}function Jo(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function fu(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Mo(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}function xi(n,i,o){let u=us(n,i);return u>=0?n[1|u]=o:(u=~u,function $a(n,i,o,u){let c=n.length;if(c==i)n.push(o,u);else if(1===c)n.push(u,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function va(n,i){const o=us(n,i);if(o>=0)return n[1|o]}function us(n,i){return function ja(n,i,o){let u=0,c=n.length>>o;for(;c!==u;){const h=u+(c-u>>1),m=n[h<<o];if(i===m)return h<<o;m>i?c=h:u=h+1}return~(c<<o)}(n,i,1)}const g={},C="__NG_DI_FLAG__",x="ngTempTokenPath",J=/\n/gm,Ge="__source";let _t;function mn(n){const i=_t;return _t=n,i}function jt(n,i=Y.Default){if(void 0===_t)throw new wt(-203,!1);return null===_t?It(n,void 0,i):_t.get(n,i&Y.Optional?null:void 0,i)}function vn(n,i=Y.Default){return(function de(){return ee}()||jt)(ht(n),i)}function so(n,i=Y.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),vn(n,i)}function Kr(n){const i=[];for(let o=0;o<n.length;o++){const u=ht(n[o]);if(Array.isArray(u)){if(0===u.length)throw new wt(900,!1);let c,h=Y.Default;for(let m=0;m<u.length;m++){const T=u[m],S=Xo(T);"number"==typeof S?-1===S?c=T.token:h|=S:c=T}i.push(vn(c,h))}else i.push(vn(u))}return i}function cs(n,i){return n[C]=i,n.prototype[C]=i,n}function Xo(n){return n[C]}const Ri=cs(kr("Optional"),8),qu=cs(kr("SkipSelf"),4);var ao=(()=>((ao=ao||{})[ao.Important=1]="Important",ao[ao.DashCase=2]="DashCase",ao))();const Er=new Map;let Nu=0;const Ia="__ngContext__";function Fs(n,i){zr(i)?(n[Ia]=i[20],function rl(n){Er.set(n[20],n)}(i)):n[Ia]=i}function St(n,i){return undefined(n,i)}function wn(n){const i=n[3];return _i(i)?i[3]:i}function Ya(n){return Mi(n[13])}function Po(n){return Mi(n[4])}function Mi(n){for(;null!==n&&!_i(n);)n=n[4];return n}function Ms(n,i,o,u,c){if(null!=u){let h,m=!1;_i(u)?h=u:zr(u)&&(m=!0,u=u[0]);const T=tr(u);0===n&&null!==o?null==c?Gh(i,o,T):Cn(i,o,T,c||null,!0):1===n&&null!==o?Cn(i,o,T,c||null,!0):2===n?function Wd(n,i,o){const u=Ic(n,i);u&&function zh(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,T,m):3===n&&i.destroyNode(T),null!=h&&function ki(n,i,o,u,c){const h=o[7];h!==tr(o)&&Ms(i,n,u,h,c);for(let T=10;T<o.length;T++){const S=o[T];Uu(S[1],S,n,i,u,h)}}(i,n,h,o,c)}}function Ou(n,i,o){return n.createElement(i,o)}function zl(n,i){const o=n[9],u=o.indexOf(i),c=i[3];512&i[2]&&(i[2]&=-513,Vr(c,-1)),o.splice(u,1)}function Ec(n,i){if(n.length<=10)return;const o=10+i,u=n[o];if(u){const c=u[17];null!==c&&c!==n&&zl(c,u),i>0&&(n[o-1][4]=u[4]);const h=fu(n,10+i);!function Gl(n,i){Uu(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=h[19];null!==m&&m.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Hh(n,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&Uu(n,i,o,3,null,null),function Lu(n){let i=n[13];if(!i)return Io(n[1],n);for(;i;){let o=null;if(zr(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==n;)zr(i)&&Io(i[1],i),i=i[3];null===i&&(i=n),zr(i)&&Io(i[1],i),o=i&&i[4]}i=o}}(i)}}function Io(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Fu(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof A)){const h=o[u+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const T=c[h[m]],S=h[m+1];try{S.call(T)}finally{}}else try{h.call(c)}finally{}}}}(n,i),function $d(n,i){const o=n.cleanup,u=i[7];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],T="function"==typeof m?m(i):tr(i[m]),S=u[c=o[h+2]],N=o[h+3];"boolean"==typeof N?T.removeEventListener(o[h],S,N):N>=0?u[c=N]():u[c=-N].unsubscribe(),h+=2}else{const m=u[c=o[h+1]];o[h].call(m)}if(null!==u){for(let h=c+1;h<u.length;h++)(0,u[h])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&_i(i[3])){o!==i[3]&&zl(o,i);const u=i[19];null!==u&&u.detachView(n)}!function Ju(n){Er.delete(n[20])}(i)}}function jd(n,i,o){return function Hd(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=n.data[u.directiveStart].encapsulation;if(c===sr.None||c===sr.Emulated)return null}return Di(u,o)}(n,i.parent,o)}function Cn(n,i,o,u,c){n.insertBefore(i,o,u,c)}function Gh(n,i,o){n.appendChild(i,o)}function Wl(n,i,o,u,c){null!==u?Cn(n,i,o,u,c):Gh(n,i,o)}function Ic(n,i){return n.parentNode(i)}function rp(n,i,o){return ol(n,i,o)}let Zd,Qd,ol=function Gd(n,i,o){return 40&n.type?Di(n,o):null};function tc(n,i,o,u){const c=jd(n,u,i),h=i[11],T=rp(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let S=0;S<o.length;S++)Wl(h,c,o[S],T,!1);else Wl(h,c,o,T,!1)}function Qa(n,i){if(null!==i){const o=i.type;if(3&o)return Di(i,n);if(4&o)return nc(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Qa(n,u);{const c=n[i.index];return _i(c)?nc(-1,c):tr(c)}}if(32&o)return St(i,n)()||tr(n[i.index]);{const u=zd(n,i);return null!==u?Array.isArray(u)?u[0]:Qa(wn(n[16]),u):Qa(n,i.next)}}return null}function zd(n,i){return null!==i?n[16][6].projection[i.projection]:null}function nc(n,i){const o=10+n+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return Qa(u,c)}return i[7]}function Kl(n,i,o,u,c,h,m){for(;null!=o;){const T=u[o.index],S=o.type;if(m&&0===i&&(T&&Fs(tr(T),u),o.flags|=4),64!=(64&o.flags))if(8&S)Kl(n,i,o.child,u,c,h,!1),Ms(i,n,c,T,h);else if(32&S){const N=St(o,u);let j;for(;j=N();)Ms(i,n,c,j,h);Ms(i,n,c,T,h)}else 16&S?ip(n,i,u,o,c,h):Ms(i,n,c,T,h);o=m?o.projectionNext:o.next}}function Uu(n,i,o,u,c,h){Kl(o,u,n.firstChild,i,c,h,!1)}function ip(n,i,o,u,c,h){const m=o[16],S=m[6].projection[u.projection];if(Array.isArray(S))for(let N=0;N<S.length;N++)Ms(i,n,c,S[N],h);else Kl(n,i,S,m[3],c,h,!0)}function Kd(n,i,o){n.setAttribute(i,"style",o)}function Yd(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Tc(n){return function bc(){if(void 0===Zd&&(Zd=null,Ot.trustedTypes))try{Zd=Ot.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zd}()?.createHTML(n)||n}function ap(n){Qd=n}class Cc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Es extends Cc{getTypeName(){return"HTML"}}class Cr extends Cc{getTypeName(){return"Style"}}class cp extends Cc{getTypeName(){return"Script"}}class lp extends Cc{getTypeName(){return"URL"}}class Wh extends Cc{getTypeName(){return"ResourceURL"}}function ba(n){return n instanceof Cc?n.changingThisBreaksApplicationSecurity:n}function Sc(n,i){const o=function rm(n){return n instanceof Cc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function dp(n){return new Es(n)}function hp(n){return new Cr(n)}function qh(n){return new cp(n)}function Zl(n){return new lp(n)}function Ql(n){return new Wh(n)}class eh{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Tc(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class fp{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Tc(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Tc(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const gp=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function th(n){return(n=String(n)).match(gp)?n:"unsafe:"+n}function _u(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function ll(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const mp=_u("area,br,col,hr,img,wbr"),yp=_u("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_p=_u("rp,rt"),nh=ll(mp,ll(yp,_u("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ll(_p,_u("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ll(_p,yp)),Kh=_u("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yh=ll(Kh,_u("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_u("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),y=_u("script,style,template");class d{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!nh.hasOwnProperty(o))return this.sanitizedSomething=!0,!y.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const h=u.item(c),m=h.name,T=m.toLowerCase();if(!Yh.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let S=h.value;Kh[T]&&(S=th(S)),this.buf.push(" ",m,'="',L(S),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();nh.hasOwnProperty(o)&&!mp.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(L(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,E=/([^\#-~ |!])/g;function L(n){return n.replace(/&/g,"&amp;").replace(p,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(E,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let V;function he(n,i){let o=null;try{V=V||function cl(n){const i=new fp(n);return function pp(){try{return!!(new window.DOMParser).parseFromString(Tc(""),"text/html")}catch{return!1}}()?new eh(i):i}(n);let u=i?String(i):"";o=V.getInertBodyElement(u);let c=5,h=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=h,h=o.innerHTML,o=V.getInertBodyElement(u)}while(u!==h);return Tc((new d).sanitizeChildren(ke(o)||o))}finally{if(o){const u=ke(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function ke(n){return"content"in n&&function ct(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ze=(()=>((ze=ze||{})[ze.NONE=0]="NONE",ze[ze.HTML=1]="HTML",ze[ze.STYLE=2]="STYLE",ze[ze.SCRIPT=3]="SCRIPT",ze[ze.URL=4]="URL",ze[ze.RESOURCE_URL=5]="RESOURCE_URL",ze))();function Qi(n){const i=function Lo(){const n=R();return n&&n[12]}();return i?i.sanitize(ze.URL,n)||"":Sc(n,"URL")?ba(n):th(ut(n))}const Ja=new mr("ENVIRONMENT_INITIALIZER"),Xl=new mr("INJECTOR",-1),Jh=new mr("INJECTOR_DEF_TYPES");class dl{get(i,o=g){if(o===g){const u=new Error(`NullInjectorError: No provider for ${Ce(i)}!`);throw u.name="NullInjectorError",u}return o}}function vu(...n){return{\u0275providers:Ip(0,n)}}function Ip(n,...i){const o=[],u=new Set;let c;return as(i,h=>{const m=h;Xh(m,o,[],u)&&(c||(c=[]),c.push(m))}),void 0!==c&&im(c,o),o}function im(n,i){for(let o=0;o<n.length;o++){const{providers:c}=n[o];as(c,h=>{i.push(h)})}}function Xh(n,i,o,u){if(!(n=ht(n)))return!1;let c=null,h=Ji(n);const m=!h&&W(n);if(h||m){if(m&&!m.standalone)return!1;c=n}else{const S=n.ngModule;if(h=Ji(S),!h)return!1;c=S}const T=u.has(c);if(m){if(T)return!1;if(u.add(c),m.dependencies){const S="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const N of S)Xh(N,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!T){let N;u.add(c);try{as(h.imports,j=>{Xh(j,i,o,u)&&(N||(N=[]),N.push(j))})}finally{}void 0!==N&&im(N,i)}if(!T){const N=no(c)||(()=>new c);i.push({provide:c,useFactory:N,deps:At},{provide:Jh,useValue:c,multi:!0},{provide:Ja,useValue:()=>vn(c),multi:!0})}const S=h.providers;null==S||T||as(S,j=>{i.push(j)})}}return c!==n&&void 0!==n.providers}const hl=fe({provide:String,useValue:fe});function ic(n){return null!==n&&"object"==typeof n&&hl in n}function xc(n){return"function"==typeof n}const rh=new mr("Set Injector scope."),ih={},sm={};let Dp;function sh(){return void 0===Dp&&(Dp=new dl),Dp}class Rc{}class oh extends Rc{constructor(i,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vu(i,m=>this.processProvider(m)),this.records.set(Xl,td(void 0,this)),c.has("environment")&&this.records.set(Rc,td(void 0,this));const h=this.records.get(rh);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Jh.multi,At,Y.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=mn(this),u=je(void 0);try{return i()}finally{mn(o),je(u)}}get(i,o=g,u=Y.Default){this.assertNotDestroyed();const c=mn(this),h=je(void 0);try{if(!(u&Y.SkipSelf)){let T=this.records.get(i);if(void 0===T){const S=function ah(n){return"function"==typeof n||"object"==typeof n&&n instanceof mr}(i)&&Nr(i);T=S&&this.injectableDefInScope(S)?td(fl(i),ih):null,this.records.set(i,T)}if(null!=T)return this.hydrate(i,T)}return(u&Y.Self?sh():this.parent).get(i,o=u&Y.Optional&&o===g?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[x]=m[x]||[]).unshift(Ce(i)),c)throw m;return function gu(n,i,o,u){const c=n[x];throw i[Ge]&&c.unshift(i[Ge]),n.message=function Yr(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=Ce(i);if(Array.isArray(i))c=i.map(Ce).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let T=i[m];h.push(m+":"+("string"==typeof T?JSON.stringify(T):Ce(T)))}c=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${n.replace(J,"\n  ")}`}("\n"+n.message,c,o,u),n.ngTokenPath=c,n[x]=null,n}(m,i,"R3InjectorError",this.source)}throw m}finally{je(h),mn(c)}}resolveInjectorInitializers(){const i=mn(this),o=je(void 0);try{const u=this.get(Ja.multi,At,Y.Self);for(const c of u)c()}finally{mn(i),je(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Ce(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new wt(205,!1)}processProvider(i){let o=xc(i=ht(i))?i:ht(i&&i.provide);const u=function u_(n){return ic(n)?td(void 0,n.useValue):td(Cp(n),ih)}(i);if(xc(i)||!0!==i.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=td(void 0,ih,!0),c.factory=()=>Kr(c.multi),this.records.set(o,c)),o=i,c.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===ih&&(o.value=sm,o.value=o.factory()),"object"==typeof o.value&&o.value&&function l_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ht(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function fl(n){const i=Nr(n),o=null!==i?i.factory:no(n);if(null!==o)return o;if(n instanceof mr)throw new wt(204,!1);if(n instanceof Function)return function pl(n){const i=n.length;if(i>0)throw Mo(i,"?"),new wt(204,!1);const o=function br(n){const i=n&&(n[Ur]||n[Or]);if(i){const o=function mi(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new wt(204,!1)}function Cp(n,i,o){let u;if(xc(n)){const c=ht(n);return no(c)||fl(c)}if(ic(n))u=()=>ht(n.useValue);else if(function ed(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Kr(n.deps||[]));else if(function Ac(n){return!(!n||!n.useExisting)}(n))u=()=>vn(ht(n.useExisting));else{const c=ht(n&&(n.useClass||n.provide));if(!function c_(n){return!!n.deps}(n))return no(c)||fl(c);u=()=>new c(...Kr(n.deps))}return u}function td(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function gl(n){return!!n.\u0275providers}function Vu(n,i){for(const o of n)Array.isArray(o)?Vu(o,i):gl(o)?Vu(o.\u0275providers,i):i(o)}class am{}class Sp{resolveComponentFactory(i){throw function um(n){const i=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let nd=(()=>{class n{}return n.NULL=new Sp,n})();function Ap(){return Mc(Ee(),R())}function Mc(n,i){return new rd(Di(n,i))}let rd=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Ap,n})();function ef(n){return n instanceof rd?n.nativeElement:n}class tf{}let nf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function d_(){const n=R(),o=Fi(Ee().index,n);return(zr(o)?o:n)[11]}(),n})(),dm=(()=>{class n{}return n.\u0275prov=Wn({token:n,providedIn:"root",factory:()=>null}),n})();class id{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const uh=new id("14.3.0"),ml={};function Qs(n){return n.ngOriginalError}class sd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Qs(i);for(;o&&Qs(o);)o=Qs(o);return o||null}}function sa(n){return n instanceof Function?n():n}function Rp(n,i,o){let u=n.length;for(;;){const c=n.indexOf(i,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=i.length;if(c+h===u||n.charCodeAt(c+h)<=32)return c}o=c+1}}const ch="ng-template";function f_(n,i,o){let u=0;for(;u<n.length;){let c=n[u++];if(o&&"class"===c){if(c=n[u],-1!==Rp(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<n.length&&"string"==typeof(c=n[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function mm(n){return 4===n.type&&n.value!==ch}function ym(n,i,o){return i===(4!==n.type||o?n.value:ch)}function p_(n,i,o){let u=4;const c=n.attrs||[],h=function vm(n){for(let i=0;i<n.length;i++)if(Xr(n[i]))return i;return n.length}(c);let m=!1;for(let T=0;T<i.length;T++){const S=i[T];if("number"!=typeof S){if(!m)if(4&u){if(u=2|1&u,""!==S&&!ym(n,S,o)||""===S&&1===i.length){if(Xa(u))return!1;m=!0}}else{const N=8&u?S:i[++T];if(8&u&&null!==n.attrs){if(!f_(n.attrs,N,o)){if(Xa(u))return!1;m=!0}continue}const Z=_l(8&u?"class":S,c,mm(n),o);if(-1===Z){if(Xa(u))return!1;m=!0;continue}if(""!==N){let ge;ge=Z>h?"":c[Z+1].toLowerCase();const Oe=8&u?ge:null;if(Oe&&-1!==Rp(Oe,N,0)||2&u&&N!==ge){if(Xa(u))return!1;m=!0}}}}else{if(!m&&!Xa(u)&&!Xa(S))return!1;if(m&&Xa(S))continue;m=!1,u=S|1&u}}return Xa(u)||m}function Xa(n){return 0==(1&n)}function _l(n,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let h=!1;for(;c<i.length;){const m=i[c];if(m===n)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let T=i[++c];for(;"string"==typeof T;)T=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function g_(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function ud(n,i,o=!1){for(let u=0;u<i.length;u++)if(p_(n,i[u],o))return!0;return!1}function wm(n,i){e:for(let o=0;o<i.length;o++){const u=i[o];if(n.length===u.length){for(let c=0;c<n.length;c++)if(n[c]!==u[c])continue e;return!0}}return!1}function Em(n,i){return n?":not("+i.trim()+")":i}function m_(n){let i=n[0],o=1,u=2,c="",h=!1;for(;o<n.length;){let m=n[o];if("string"==typeof m)if(2&u){const T=n[++o];c+="["+m+(T.length>0?'="'+T+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!Xa(m)&&(i+=Em(h,c),c=""),u=m,h=h||!Xa(u);o++}return""!==c&&(i+=Em(h,c)),i}const Gn={};function Im(n){bm(O(),R(),ai()+n,!1)}function bm(n,i,o,u){if(!u)if(3==(3&i[2])){const h=n.preOrderCheckHooks;null!==h&&is(i,h,o)}else{const h=n.preOrderHooks;null!==h&&Ci(i,h,0,o)}Un(o)}function cd(n,i=null,o=null,u){const c=dh(n,i,o,u);return c.resolveInjectorInitializers(),c}function dh(n,i=null,o=null,u,c=new Set){const h=[o||At,vu(n)];return u=u||("object"==typeof n?void 0:Ce(n)),new oh(h,i||sh(),u||null,c)}let sc=(()=>{class n{static create(o,u){if(Array.isArray(o))return cd({name:""},u,o,"");{const c=o.name??"";return cd({name:c},o.parent,o.providers,c)}}}return n.THROW_IF_NOT_FOUND=g,n.NULL=new dl,n.\u0275prov=Wn({token:n,providedIn:"any",factory:()=>vn(Xl)}),n.__NG_ELEMENT_ID__=-1,n})();function El(n,i=Y.Default){const o=R();return null===o?vn(n,i):dc(Ee(),o,ht(n),i)}function Lm(){throw new Error("invalid")}function Il(n,i){return n<<17|i<<2}function Da(n){return n>>17&32767}function Xs(n){return 2|n}function oc(n){return(131068&n)>>2}function hf(n,i){return-131069&n|i<<2}function bl(n){return 1|n}function wf(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],h=o[u+1];if(-1!==h){const m=n.data[h];Wo(c),m.contentQueries(2,i[h],h)}}}function hd(n,i,o,u,c,h,m,T,S,N,j){const Z=i.blueprint.slice();return Z[0]=c,Z[2]=76|u,(null!==j||n&&1024&n[2])&&(Z[2]|=1024),Pa(Z),Z[3]=Z[15]=n,Z[8]=o,Z[10]=m||n&&n[10],Z[11]=T||n&&n[11],Z[12]=S||n&&n[12]||null,Z[9]=N||n&&n[9]||null,Z[6]=h,Z[20]=function Qu(){return Nu++}(),Z[21]=j,Z[16]=2==i.type?n[16]:Z,Z}function Oc(n,i,o,u,c){let h=n.data[i];if(null===h)h=function Lc(n,i,o,u,c){const h=qe(),m=yt(),S=n.data[i]=function x_(n,i,o,u,c,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,u,c);return null===n.firstChild&&(n.firstChild=S),null!==h&&(m?null==h.child&&null!==S.parent&&(h.child=S):null===h.next&&(h.next=S)),S}(n,i,o,u,c),function jn(){return tn.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=u,h.attrs=c;const m=function rt(){const n=tn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return xt(h,!0),h}function Ca(n,i,o,u){if(0===o)return-1;const c=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return c}function wh(n,i,o){Wr(i);try{const u=n.viewQuery;null!==u&&bh(1,u,o);const c=n.template;null!==c&&Tl(n,i,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&wf(n,i),n.staticViewQueries&&bh(2,n.viewQuery,o);const h=n.components;null!==h&&function Jp(n,i){for(let o=0;o<i.length;o++)ag(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[2]&=-5,ro()}}function ac(n,i,o,u){const c=i[2];if(128!=(128&c)){Wr(i);try{Pa(i),function dr(n){return tn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Tl(n,i,o,2,u);const m=3==(3&c);if(m){const N=n.preOrderCheckHooks;null!==N&&is(i,N,null)}else{const N=n.preOrderHooks;null!==N&&Ci(i,N,0,null),qr(i,0)}if(function og(n){for(let i=Ya(n);null!==i;i=Po(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],h=c[3];0==(512&c[2])&&Vr(h,1),c[2]|=512}}}(i),function F_(n){for(let i=Ya(n);null!==i;i=Po(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];ys(u)&&ac(c,u,c.template,u[8])}}(i),null!==n.contentQueries&&wf(n,i),m){const N=n.contentCheckHooks;null!==N&&is(i,N)}else{const N=n.contentHooks;null!==N&&Ci(i,N,1),qr(i,1)}!function A_(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Un(~c);else{const h=c,m=o[++u],T=o[++u];Gs(m,h),T(2,i[h])}}}finally{Un(-1)}}(n,i);const T=n.components;null!==T&&function Wm(n,i){for(let o=0;o<i.length;o++)U_(n,i[o])}(i,T);const S=n.viewQuery;if(null!==S&&bh(2,S,u),m){const N=n.viewCheckHooks;null!==N&&is(i,N)}else{const N=n.viewHooks;null!==N&&Ci(i,N,2),qr(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,Vr(i[3],-1))}finally{ro()}}}function Tl(n,i,o,u,c){const h=ai(),m=2&u;try{Un(-1),m&&i.length>22&&bm(n,i,22,!1),o(u,c)}finally{Un(h)}}function Xp(n,i,o){if(Ti(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const m=n.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}function Fc(n,i,o){!su()||(function P_(n,i,o,u){const c=o.directiveStart,h=o.directiveEnd;n.firstCreatePass||ma(o,i),Fs(u,i);const m=o.initialInputs;for(let T=c;T<h;T++){const S=n.data[T],N=zi(S);N&&ty(i,o,S);const j=Cu(i,n,T,o);Fs(j,i),null!==m&&L_(0,T-c,j,S,0,m),N&&(Fi(o.index,i)[8]=j)}}(n,i,o,Di(o,i)),128==(128&o.flags)&&function N_(n,i,o){const u=o.directiveStart,c=o.directiveEnd,h=o.index,m=function Ui(){return tn.lFrame.currentDirectiveIndex}();try{Un(h);for(let T=u;T<c;T++){const S=n.data[T],N=i[T];Cs(T),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Tf(S,N)}}finally{Un(-1),Cs(m)}}(n,i,o))}function eg(n,i,o=Di){const u=i.localNames;if(null!==u){let c=i.index+1;for(let h=0;h<u.length;h+=2){const m=u[h+1],T=-1===m?o(i,n):n[m];n[c++]=T}}}function qm(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Eh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Eh(n,i,o,u,c,h,m,T,S,N){const j=22+u,Z=j+c,ge=function tg(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Gn);return o}(j,Z),Oe="function"==typeof N?N():N;return ge[1]={type:n,blueprint:ge,template:o,queries:null,viewQuery:T,declTNode:i,data:ge.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:S,consts:Oe,incompleteFirstPass:!1}}function Ym(n,i,o,u){const c=Rf(i);null===o?c.push(u):(c.push(o),n.firstCreatePass&&ny(n).push(u,c.length-1))}function Ef(n,i,o){for(let u in n)if(n.hasOwnProperty(u)){const c=n[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function If(n,i){const u=i.directiveEnd,c=n.data,h=i.attrs,m=[];let T=null,S=null;for(let N=i.directiveStart;N<u;N++){const j=c[N],Z=j.inputs,ge=null===h||mm(i)?null:sg(Z,h);m.push(ge),T=Ef(Z,N,T),S=Ef(j.outputs,N,S)}null!==T&&(T.hasOwnProperty("class")&&(i.flags|=16),T.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=T,i.outputs=S}function Zm(n,i){const o=Fi(i,n);16&o[2]||(o[2]|=32)}function bf(n,i,o,u){let c=!1;if(su()){const h=function rg(n,i,o){const u=n.directiveRegistry;let c=null;if(u)for(let h=0;h<u.length;h++){const m=u[h];ud(o,m.selectors,!1)&&(c||(c=[]),ei(ma(o,i),n,m.type),zi(m)?(Df(n,o),c.unshift(m)):c.push(m))}return c}(n,i,o),m=null===u?null:{"":-1};if(null!==h){c=!0,ey(o,n.data.length,h.length);for(let j=0;j<h.length;j++){const Z=h[j];Z.providersResolver&&Z.providersResolver(Z)}let T=!1,S=!1,N=Ca(n,i,h.length,null);for(let j=0;j<h.length;j++){const Z=h[j];o.mergedAttrs=wi(o.mergedAttrs,Z.hostAttrs),Cf(n,o,i,N,Z),ig(N,Z,m),null!==Z.contentQueries&&(o.flags|=8),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(o.flags|=128);const ge=Z.type.prototype;!T&&(ge.ngOnChanges||ge.ngOnInit||ge.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),T=!0),!S&&(ge.ngOnChanges||ge.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),S=!0),N++}If(n,o)}m&&function O_(n,i,o){if(i){const u=n.localNames=[];for(let c=0;c<i.length;c+=2){const h=o[i[c+1]];if(null==h)throw new wt(-301,!1);u.push(i[c],h)}}}(o,u,m)}return o.mergedAttrs=wi(o.mergedAttrs,o.attrs),c}function Xm(n,i,o,u,c,h){const m=h.hostBindings;if(m){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const S=~i.index;(function k_(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(T)!=S&&T.push(S),T.push(u,c,m)}}function Tf(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Df(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function ig(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;zi(i)&&(o[""]=n)}}function ey(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function Cf(n,i,o,u,c){n.data[u]=c;const h=c.factory||(c.factory=no(c.type)),m=new A(h,zi(c),El);n.blueprint[u]=m,o[u]=m,Xm(n,i,0,u,Ca(n,o,c.hostVars,Gn),c)}function ty(n,i,o){const u=Di(i,n),c=qm(o),h=n[10],m=uc(n,hd(n,c,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=m}function eu(n,i,o,u,c,h){const m=Di(n,i);!function Sf(n,i,o,u,c,h,m){if(null==h)n.removeAttribute(i,c,o);else{const T=null==m?ut(h):m(h,u||"",c);n.setAttribute(i,c,T,o)}}(i[11],m,h,n.value,o,u,c)}function L_(n,i,o,u,c,h){const m=h[i];if(null!==m){const T=u.setInput;for(let S=0;S<m.length;){const N=m[S++],j=m[S++],Z=m[S++];null!==T?u.setInput(o,Z,N,j):o[j]=Z}}}function sg(n,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,n[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function Af(n,i,o,u){return new Array(n,!0,!1,i,null,0,u,o,null,null)}function U_(n,i){const o=Fi(i,n);if(ys(o)){const u=o[1];48&o[2]?ac(u,o,u.template,o[8]):o[5]>0&&Ih(o)}}function Ih(n){for(let u=Ya(n);null!==u;u=Po(u))for(let c=10;c<u.length;c++){const h=u[c];if(ys(h))if(512&h[2]){const m=h[1];ac(m,h,m.template,h[8])}else h[5]>0&&Ih(h)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Fi(o[u],n);ys(c)&&c[5]>0&&Ih(c)}}function ag(n,i){const o=Fi(i,n),u=o[1];(function ug(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),wh(u,o,o[8])}function uc(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function xf(n){for(;n;){n[2]|=32;const i=wn(n);if(Fo(n)&&!i)return n;n=i}return null}function fd(n,i,o,u=!0){const c=i[10];c.begin&&c.begin();try{ac(n,i,n.template,o)}catch(m){throw u&&ry(i,m),m}finally{c.end&&c.end()}}function bh(n,i,o){Wo(0),i(n,o)}function Rf(n){return n[7]||(n[7]=[])}function ny(n){return n.cleanup||(n.cleanup=[])}function ry(n,i){const o=n[9],u=o?o.get(sd,null):null;u&&u.handleError(i)}function cg(n,i,o,u,c){for(let h=0;h<o.length;){const m=o[h++],T=o[h++],S=i[m],N=n.data[m];null!==N.setInput?N.setInput(S,c,u,T):S[T]=c}}function kf(n,i,o){let u=o?n.styles:null,c=o?n.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const T=i[m];"number"==typeof T?h=T:1==h?c=nt(c,T):2==h&&(u=nt(u,T+": "+i[++m]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=c:n.classesWithoutHost=c}function pd(n,i,o,u,c=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(tr(h)),_i(h))for(let T=10;T<h.length;T++){const S=h[T],N=S[1].firstChild;null!==N&&pd(S[1],S,N,u)}const m=o.type;if(8&m)pd(n,i,o.child,u);else if(32&m){const T=St(o,i);let S;for(;S=T();)u.push(S)}else if(16&m){const T=zd(i,o);if(Array.isArray(T))u.push(...T);else{const S=wn(i[16]);pd(S[1],S,T,u,!0)}}o=c?o.projectionNext:o.next}return u}class Th{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return pd(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(_i(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(Ec(i,u),fu(o,u))}this._attachedToViewContainer=!1}Hh(this._lView[1],this._lView)}onDestroy(i){Ym(this._lView[1],this._lView,null,i)}markForCheck(){xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){fd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new wt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bd(n,i){Uu(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new wt(902,!1);this._appRef=i}}class lg extends Th{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;fd(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class dg extends nd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=W(i);return new gd(o,this.ngModule)}}function Pf(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class hg{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){const c=this.injector.get(i,ml,u);return c!==ml||o===ml?c:this.parentInjector.get(i,o,u)}}class gd extends am{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Mp(n){return n.map(m_).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Pf(this.componentDef.inputs)}get outputs(){return Pf(this.componentDef.outputs)}create(i,o,u,c){let h=(c=c||this.ngModule)instanceof Rc?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new hg(i,h):i,T=m.get(tf,null);if(null===T)throw new wt(407,!1);const S=m.get(dm,null),N=T.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",Z=u?function ng(n,i,o){return n.selectRootElement(i,o===sr.ShadowDom)}(N,u,this.componentDef.encapsulation):Ou(N,j,function iy(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(j)),ge=this.componentDef.onPush?288:272,Oe=Eh(0,null,null,1,0,null,null,null,null,null),Xe=hd(null,Oe,null,ge,null,null,T,N,S,m,null);let vt,Nt;Wr(Xe);try{const on=function pg(n,i,o,u,c,h){const m=o[1];o[22]=n;const S=Oc(m,22,2,"#host",null),N=S.mergedAttrs=i.hostAttrs;null!==N&&(kf(S,N,!0),null!==n&&(Nn(c,n,N),null!==S.classes&&Yd(c,n,S.classes),null!==S.styles&&Kd(c,n,S.styles)));const j=u.createRenderer(n,i),Z=hd(o,qm(i),null,i.onPush?32:16,o[22],S,u,j,h||null,null,null);return m.firstCreatePass&&(ei(ma(S,o),m,i.type),Df(m,S),ey(S,o.length,1)),uc(o,Z),o[22]=Z}(Z,this.componentDef,Xe,T,N);if(Z)if(u)Nn(N,Z,["ng-version",uh.full]);else{const{attrs:In,classes:at}=function Js(n){const i=[],o=[];let u=1,c=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===c?""!==h&&i.push(h,n[++u]):8===c&&o.push(h);else{if(!Xa(c))break;c=h}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);In&&Nn(N,Z,In),at&&at.length>0&&Yd(N,Z,at.join(" "))}if(Nt=Co(Oe,22),void 0!==o){const In=Nt.projection=[];for(let at=0;at<this.ngContentSelectors.length;at++){const Rn=o[at];In.push(null!=Rn?Array.from(Rn):null)}}vt=function gg(n,i,o,u){const c=o[1],h=function Jm(n,i,o){const u=Ee();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Cf(n,u,i,Ca(n,i,1,null),o),If(n,u));const c=Cu(i,n,u.directiveStart,u);Fs(c,i);const h=Di(u,i);return h&&Fs(h,i),c}(c,o,i);if(n[8]=o[8]=h,null!==u)for(const T of u)T(h,i);if(i.contentQueries){const T=Ee();i.contentQueries(1,h,T.directiveStart)}const m=Ee();return!c.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Un(m.index),Xm(o[1],m,0,m.directiveStart,m.directiveEnd,i),Tf(i,h)),h}(on,this.componentDef,Xe,[mg]),wh(Oe,Xe,null)}finally{ro()}return new fg(this.componentType,vt,Mc(Nt,Xe),Xe,Nt)}}class fg extends class om{}{constructor(i,o,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new lg(c),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[i])){const h=this._rootLView;cg(h[1],h,c,i,o),Zm(h,this._tNode.index)}}get injector(){return new Ut(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function mg(){const n=Ee();Os(R()[1],n)}function md(n){let i=function sy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let c;if(zi(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new wt(903,!1);c=i.\u0275dir}if(c){if(o){u.push(c);const m=n;m.inputs=Nf(n.inputs),m.declaredInputs=Nf(n.declaredInputs),m.outputs=Nf(n.outputs);const T=c.hostBindings;T&&ay(n,T);const S=c.viewQuery,N=c.contentQueries;if(S&&oy(n,S),N&&yd(n,N),kt(n.inputs,c.inputs),kt(n.declaredInputs,c.declaredInputs),kt(n.outputs,c.outputs),zi(c)&&c.data.animation){const j=n.data;j.animation=(j.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const T=h[m];T&&T.ngInherit&&T(n),T===md&&(o=!1)}}i=Object.getPrototypeOf(i)}!function B_(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const c=n[u];c.hostVars=i+=c.hostVars,c.hostAttrs=wi(c.hostAttrs,o=wi(o,c.hostAttrs))}}(u)}function Nf(n){return n===xr?{}:n===At?[]:n}function oy(n,i){const o=n.viewQuery;n.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function yd(n,i){const o=n.contentQueries;n.contentQueries=o?(u,c,h)=>{i(u,c,h),o(u,c,h)}:i}function ay(n,i){const o=n.hostBindings;n.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let Lf=null;function Dl(){if(!Lf){const n=Ot.Symbol;if(n&&n.iterator)Lf=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Lf=u)}}}return Lf}function Cl(n){return!!Ff(n)&&(Array.isArray(n)||!(n instanceof Map)&&Dl()in n)}function Ff(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function tu(n,i,o){return n[i]=o}function eo(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Dh(n,i,o,u){const c=R();return eo(c,Qr(),i)&&(O(),eu(Rr(),c,n,i,o,u)),Dh}function Ir(n,i,o,u,c,h,m,T){const S=R(),N=O(),j=n+22,Z=N.firstCreatePass?function Vf(n,i,o,u,c,h,m,T,S){const N=i.consts,j=Oc(i,n,4,m||null,ns(N,T));bf(i,o,j,ns(N,S)),Os(i,j);const Z=j.tViews=Eh(2,j,u,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,N);return null!==i.queries&&(i.queries.template(i,j),Z.queries=i.queries.embeddedTView(j)),j}(j,N,S,i,o,u,c,h,m):N.data[j];xt(Z,!1);const ge=S[11].createComment("");tc(N,S,ge,Z),Fs(ge,S),uc(S,S[j]=Af(ge,S,ge,Z)),bo(Z)&&Fc(N,S,Z),null!=m&&eg(S,Z,T)}function Tg(n){return es(function $r(){return tn.lFrame.contextLView}(),22+n)}function Ml(n,i,o){const u=R();return eo(u,Qr(),i)&&function oa(n,i,o,u,c,h,m,T){const S=Di(i,o);let j,N=i.inputs;!T&&null!=N&&(j=N[u])?(cg(n,o,j,u,c),Ln(i)&&Zm(o,i.index)):3&i.type&&(u=function R_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),c=null!=m?m(c,i.value||"",u):c,h.setProperty(S,u,c))}(O(),Rr(),u,n,i,u[11],o,!1),Ml}function Dg(n,i,o,u,c){const m=c?"class":"style";cg(n,o,i.inputs[m],m,u)}function ks(n,i,o,u){const c=R(),h=O(),m=22+n,T=c[11],S=c[m]=Ou(T,i,function Ao(){return tn.lFrame.currentNamespace}()),N=h.firstCreatePass?function bs(n,i,o,u,c,h,m){const T=i.consts,N=Oc(i,n,2,c,ns(T,h));return bf(i,o,N,ns(T,m)),null!==N.attrs&&kf(N,N.attrs,!1),null!==N.mergedAttrs&&kf(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(m,h,c,0,i,o,u):h.data[m];xt(N,!0);const j=N.mergedAttrs;null!==j&&Nn(T,S,j);const Z=N.classes;null!==Z&&Yd(T,S,Z);const ge=N.styles;return null!==ge&&Kd(T,S,ge),64!=(64&N.flags)&&tc(h,c,S,N),0===function pa(){return tn.lFrame.elementDepthCount}()&&Fs(S,c),function Na(){tn.lFrame.elementDepthCount++}(),bo(N)&&(Fc(h,c,N),Xp(h,N,c)),null!==u&&eg(c,N),ks}function Aa(){let n=Ee();yt()?Tn():(n=n.parent,xt(n,!1));const i=n;!function zo(){tn.lFrame.elementDepthCount--}();const o=O();return o.firstCreatePass&&(Os(o,n),Ti(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Gt(n){return 0!=(16&n.flags)}(i)&&Dg(o,i,R(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function qn(n){return 0!=(32&n.flags)}(i)&&Dg(o,i,R(),i.stylesWithoutHost,!1),Aa}function Cg(n,i,o,u){return ks(n,i,o,u),Aa(),Cg}function Bf(n,i,o){const u=R(),c=O(),h=n+22,m=c.firstCreatePass?function Jw(n,i,o,u,c){const h=i.consts,m=ns(h,u),T=Oc(i,n,8,"ng-container",m);return null!==m&&kf(T,m,!0),bf(i,o,T,ns(h,c)),null!==i.queries&&i.queries.elementStart(i,T),T}(h,c,u,i,o):c.data[h];xt(m,!0);const T=u[h]=u[11].createComment("");return tc(c,u,T,m),Fs(T,u),bo(m)&&(Fc(c,u,m),Xp(c,m,u)),null!=o&&eg(u,m),Bf}function Sg(){let n=Ee();const i=O();return yt()?Tn():(n=n.parent,xt(n,!1)),i.firstCreatePass&&(Os(i,n),Ti(n)&&i.queries.elementEnd(n)),Sg}function gy(){return R()}function Ch(n){return!!n&&"function"==typeof n.then}function my(n){return!!n&&"function"==typeof n.subscribe}const H_=my;function Ei(n,i,o,u){const c=R(),h=O(),m=Ee();return function Ts(n,i,o,u,c,h,m,T){const S=bo(u),j=n.firstCreatePass&&ny(n),Z=i[8],ge=Rf(i);let Oe=!0;if(3&u.type||T){const Nt=Di(u,i),on=T?T(Nt):Nt,In=ge.length,at=T?li=>T(tr(li[u.index])):u.index;let Rn=null;if(!T&&S&&(Rn=function z_(n,i,o,u){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===u){const T=i[7],S=c[h+2];return T.length>S?T[S]:null}"string"==typeof m&&(h+=2)}return null}(n,i,c,u.index)),null!==Rn)(Rn.__ngLastListenerFn__||Rn).__ngNextListenerFn__=h,Rn.__ngLastListenerFn__=h,Oe=!1;else{h=W_(u,i,Z,h,!1);const li=o.listen(on,c,h);ge.push(h,li),j&&j.push(c,at,In,In+1)}}else h=W_(u,i,Z,h,!1);const Xe=u.outputs;let vt;if(Oe&&null!==Xe&&(vt=Xe[c])){const Nt=vt.length;if(Nt)for(let on=0;on<Nt;on+=2){const hs=i[vt[on]][vt[on+1]].subscribe(h),Uh=ge.length;ge.push(h,hs),j&&j.push(c,u.index,Uh,-(Uh+1))}}}(h,c,c[11],m,n,i,0,u),Ei}function xg(n,i,o,u){try{return!1!==o(u)}catch(c){return ry(n,c),!1}}function W_(n,i,o,u,c){return function h(m){if(m===Function)return u;xf(2&n.flags?Fi(n.index,i):i);let S=xg(i,0,u,m),N=h.__ngNextListenerFn__;for(;N;)S=xg(i,0,N,m)&&S,N=N.__ngNextListenerFn__;return c&&!1===S&&(m.preventDefault(),m.returnValue=!1),S}}function q_(n=1){return function Ua(n){return(tn.lFrame.contextLView=function rs(n,i){for(;n>0;)i=i[15],n--;return i}(n,tn.lFrame.contextLView))[8]}(n)}function yy(n,i){let o=null;const u=function _m(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let c=0;c<i.length;c++){const h=i[c];if("*"!==h){if(null===u?ud(n,h,!0):wm(u,h))return c}else o=c}return o}function K_(n){const i=R()[16][6];if(!i.projection){const u=i.projection=Mo(n?n.length:1,null),c=u.slice();let h=i.child;for(;null!==h;){const m=n?yy(h,n):0;null!==m&&(c[m]?c[m].projectionNext=h:u[m]=h,c[m]=h),h=h.next}}}function Y_(n,i=0,o){const u=R(),c=O(),h=Oc(c,22+n,16,null,o||null);null===h.projection&&(h.projection=i),Tn(),64!=(64&h.flags)&&function nm(n,i,o){ip(i[11],0,i,o,jd(n,o,i),rp(o.parent||i[6],o,i))}(c,u,h)}function Ey(n,i,o,u,c){const h=n[o+1],m=null===i;let T=u?Da(h):oc(h),S=!1;for(;0!==T&&(!1===S||m);){const j=n[T+1];ev(n[T],i)&&(S=!0,n[T+1]=u?bl(j):Xs(j)),T=u?Da(j):oc(j)}S&&(n[o+1]=u?Xs(h):bl(h))}function ev(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&us(n,i)>=0}const Ps={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kg(n){return n.substring(Ps.key,Ps.keyEnd)}function $f(n){return n.substring(Ps.value,Ps.valueEnd)}function Pl(n,i){const o=Ps.textEnd;return o===i?-1:(i=Ps.keyEnd=function nv(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Ps.key=i,o),Hc(n,i,o))}function bd(n,i){const o=Ps.textEnd;let u=Ps.key=Hc(n,i,o);return o===u?-1:(u=Ps.keyEnd=function rv(n,i,o){let u;for(;i<o&&(45===(u=n.charCodeAt(i))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)i++;return i}(n,u,o),u=Iy(n,u,o),u=Ps.value=Hc(n,u,o),u=Ps.valueEnd=function by(n,i,o){let u=-1,c=-1,h=-1,m=i,T=m;for(;m<o;){const S=n.charCodeAt(m++);if(59===S)return T;34===S||39===S?T=m=Og(n,S,m,o):i===m-4&&85===h&&82===c&&76===u&&40===S?T=m=Og(n,41,m,o):S>32&&(T=m),h=c,c=u,u=-33&S}return T}(n,u,o),Iy(n,u,o))}function Ng(n){Ps.key=0,Ps.keyEnd=0,Ps.value=0,Ps.valueEnd=0,Ps.textEnd=n.length}function Hc(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Iy(n,i,o,u){return(i=Hc(n,i,o))<o&&i++,i}function Og(n,i,o,u){let c=-1,h=o;for(;h<u;){const m=n.charCodeAt(h++);if(m==i&&92!==c)return h;c=92==m&&92===c?0:m}throw new Error}function jf(n,i){return function aa(n,i,o,u){const c=R(),h=O(),m=nr(2);h.firstUpdatePass&&Hf(h,n,m,u),i!==Gn&&eo(c,m,i)&&uv(h,h.data[ai()],c,c[11],n,c[m+1]=function Xw(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ce(ba(n)))),n}(i,o),u,m)}(n,i,null,!0),jf}function nu(n){ua(av,Lg,n,!1)}function Lg(n,i){for(let o=function Pg(n){return Ng(n),bd(n,Hc(n,0,Ps.textEnd))}(i);o>=0;o=bd(i,o))av(n,kg(i),$f(i))}function Td(n){ua(xi,ju,n,!0)}function ju(n,i){for(let o=function tv(n){return Ng(n),Pl(n,Hc(n,0,Ps.textEnd))}(i);o>=0;o=Pl(i,o))xi(n,kg(i),!0)}function ua(n,i,o,u){const c=O(),h=nr(2);c.firstUpdatePass&&Hf(c,null,h,u);const m=R();if(o!==Gn&&eo(m,h,o)){const T=c.data[ai()];if(Ah(T,u)&&!Fg(c,h)){let S=u?T.classesWithoutHost:T.stylesWithoutHost;null!==S&&(o=nt(S,o||"")),Dg(c,T,m,o,u)}else!function Dd(n,i,o,u,c,h,m,T){c===Gn&&(c=At);let S=0,N=0,j=0<c.length?c[0]:null,Z=0<h.length?h[0]:null;for(;null!==j||null!==Z;){const ge=S<c.length?c[S+1]:void 0,Oe=N<h.length?h[N+1]:void 0;let vt,Xe=null;j===Z?(S+=2,N+=2,ge!==Oe&&(Xe=Z,vt=Oe)):null===Z||null!==j&&j<Z?(S+=2,Xe=j):(N+=2,Xe=Z,vt=Oe),null!==Xe&&uv(n,i,o,u,Xe,vt,m,T),j=S<c.length?c[S]:null,Z=N<h.length?h[N]:null}}(c,T,m,m[11],m[h+1],m[h+1]=function Sh(n,i,o){if(null==o||""===o)return At;const u=[],c=ba(o);if(Array.isArray(c))for(let h=0;h<c.length;h++)n(u,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&n(u,h,c[h]);else"string"==typeof c&&i(u,c);return u}(n,i,o),u,h)}}function Fg(n,i){return i>=n.expandoStartIndex}function Hf(n,i,o,u){const c=n.data;if(null===c[o+1]){const h=c[ai()],m=Fg(n,o);Ah(h,u)&&null===i&&!m&&(i=!1),i=function sv(n,i,o,u){const c=function Ss(n){const i=tn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=zf(o=Dy(null,n,i,o,u),i.attrs,u),h=null);else{const m=i.directiveStylingLast;if(-1===m||n[m]!==c)if(o=Dy(c,n,i,o,u),null===h){let S=function Gf(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==oc(u))return n[Da(u)]}(n,i,u);void 0!==S&&Array.isArray(S)&&(S=Dy(null,n,i,S[1],u),S=zf(S,i.attrs,u),function Ty(n,i,o,u){n[Da(o?i.classBindings:i.styleBindings)]=u}(n,i,u,S))}else h=function ov(n,i,o){let u;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)u=zf(u,n[h].hostAttrs,o);return zf(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(c,h,i,u),function wy(n,i,o,u,c,h){let m=h?i.classBindings:i.styleBindings,T=Da(m),S=oc(m);n[u]=o;let j,N=!1;if(Array.isArray(o)){const Z=o;j=Z[1],(null===j||us(Z,j)>0)&&(N=!0)}else j=o;if(c)if(0!==S){const ge=Da(n[T+1]);n[u+1]=Il(ge,T),0!==ge&&(n[ge+1]=hf(n[ge+1],u)),n[T+1]=function b_(n,i){return 131071&n|i<<17}(n[T+1],u)}else n[u+1]=Il(T,0),0!==T&&(n[T+1]=hf(n[T+1],u)),T=u;else n[u+1]=Il(S,0),0===T?T=u:n[S+1]=hf(n[S+1],u),S=u;N&&(n[u+1]=Xs(n[u+1])),Ey(n,j,u,!0),Ey(n,j,u,!1),function Mg(n,i,o,u,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&us(h,i)>=0&&(o[u+1]=bl(o[u+1]))}(i,j,n,u,h),m=Il(T,S),h?i.classBindings=m:i.styleBindings=m}(c,h,i,o,m,u)}}function Dy(n,i,o,u,c){let h=null;const m=o.directiveEnd;let T=o.directiveStylingLast;for(-1===T?T=o.directiveStart:T++;T<m&&(h=i[T],u=zf(u,h.hostAttrs,c),h!==n);)T++;return null!==n&&(o.directiveStylingLast=T),u}function zf(n,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?c=m:c===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xi(n,m,!!o||i[++h]))}return void 0===n?null:n}function av(n,i,o){xi(n,i,ba(o))}function uv(n,i,o,u,c,h,m,T){if(!(3&i.type))return;const S=n.data,N=S[T+1];Cd(function ph(n){return 1==(1&n)}(N)?cv(S,i,o,c,oc(N),m):void 0)||(Cd(h)||function Fm(n){return 2==(2&n)}(N)&&(h=cv(S,null,o,c,T,m)),function qd(n,i,o,u,c){if(i)c?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:ao.DashCase;null==c?n.removeStyle(o,u,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=ao.Important),n.setStyle(o,u,c,h))}}(u,m,Ds(ai(),o),c,h))}function cv(n,i,o,u,c,h){const m=null===i;let T;for(;c>0;){const S=n[c],N=Array.isArray(S),j=N?S[1]:S,Z=null===j;let ge=o[c+1];ge===Gn&&(ge=Z?At:void 0);let Oe=Z?va(ge,u):j===u?ge:void 0;if(N&&!Cd(Oe)&&(Oe=va(S,u)),Cd(Oe)&&(T=Oe,m))return T;const Xe=n[c+1];c=m?Da(Xe):oc(Xe)}if(null!==i){let S=h?i.residualClasses:i.residualStyles;null!=S&&(T=va(S,u))}return T}function Cd(n){return void 0!==n}function Ah(n,i){return 0!=(n.flags&(i?16:32))}function lv(n,i=""){const o=R(),u=O(),c=n+22,h=u.firstCreatePass?Oc(u,c,1,i,null):u.data[c],m=o[c]=function Za(n,i){return n.createText(i)}(o[11],i);tc(u,o,m,h),xt(h,!1)}function Cy(n){return Nl("",n,""),Cy}function Nl(n,i,o){const u=R(),c=function Iu(n,i,o,u){return eo(n,Qr(),o)?i+ut(o)+u:Gn}(u,n,i,o);return c!==Gn&&function Eu(n,i,o){const u=Ds(i,n);!function Ud(n,i,o){n.setValue(i,o)}(n[11],u,o)}(u,ai(),c),Nl}const xd=void 0;var jg=["en",[["a","p"],["AM","PM"],xd],[["AM","PM"],xd,xd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xd,"{1} 'at' {0}",xd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Rh(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Mh={};function Hg(n){const i=function cE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=ky(i);if(o)return o;const u=i.split("-")[0];if(o=ky(u),o)return o;if("en"===u)return jg;throw new wt(701,!1)}function My(n){return Hg(n)[Dn.PluralCase]}function ky(n){return n in Mh||(Mh[n]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[n]),Mh[n]}var Dn=(()=>((Dn=Dn||{})[Dn.LocaleId=0]="LocaleId",Dn[Dn.DayPeriodsFormat=1]="DayPeriodsFormat",Dn[Dn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dn[Dn.DaysFormat=3]="DaysFormat",Dn[Dn.DaysStandalone=4]="DaysStandalone",Dn[Dn.MonthsFormat=5]="MonthsFormat",Dn[Dn.MonthsStandalone=6]="MonthsStandalone",Dn[Dn.Eras=7]="Eras",Dn[Dn.FirstDayOfWeek=8]="FirstDayOfWeek",Dn[Dn.WeekendRange=9]="WeekendRange",Dn[Dn.DateFormat=10]="DateFormat",Dn[Dn.TimeFormat=11]="TimeFormat",Dn[Dn.DateTimeFormat=12]="DateTimeFormat",Dn[Dn.NumberSymbols=13]="NumberSymbols",Dn[Dn.NumberFormats=14]="NumberFormats",Dn[Dn.CurrencyCode=15]="CurrencyCode",Dn[Dn.CurrencySymbol=16]="CurrencySymbol",Dn[Dn.CurrencyName=17]="CurrencyName",Dn[Dn.Currencies=18]="Currencies",Dn[Dn.Directionality=19]="Directionality",Dn[Dn.PluralCase=20]="PluralCase",Dn[Dn.ExtraData=21]="ExtraData",Dn))();const Rd="en-US";let Py=Rd;function Gy(n,i,o,u,c){if(n=ht(n),Array.isArray(n))for(let h=0;h<n.length;h++)Gy(n[h],i,o,u,c);else{const h=O(),m=R();let T=xc(n)?n:ht(n.provide),S=Cp(n);const N=Ee(),j=1048575&N.providerIndexes,Z=N.directiveStart,ge=N.providerIndexes>>20;if(xc(n)||!n.multi){const Oe=new A(S,c,El),Xe=Wy(T,i,c?j:j+ge,Z);-1===Xe?(ei(ma(N,m),h,T),zy(h,n,i.length),i.push(T),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),o.push(Oe),m.push(Oe)):(o[Xe]=Oe,m[Xe]=Oe)}else{const Oe=Wy(T,i,j+ge,Z),Xe=Wy(T,i,j,j+ge),vt=Oe>=0&&o[Oe],Nt=Xe>=0&&o[Xe];if(c&&!Nt||!c&&!vt){ei(ma(N,m),h,T);const on=function GE(n,i,o,u,c){const h=new A(n,o,El);return h.multi=[],h.index=i,h.componentProviders=0,Xv(h,c,u&&!o),h}(c?HE:jE,o.length,c,u,S);!c&&Nt&&(o[Xe].providerFactory=on),zy(h,n,i.length,0),i.push(T),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),o.push(on),m.push(on)}else zy(h,n,Oe>-1?Oe:Xe,Xv(o[c?Xe:Oe],S,!c&&u));!c&&u&&Nt&&o[Xe].componentProviders++}}}function zy(n,i,o,u){const c=xc(i),h=function Tp(n){return!!n.useClass}(i);if(c||h){const S=(h?ht(i.useClass):i).prototype.ngOnDestroy;if(S){const N=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const j=N.indexOf(o);-1===j?N.push(o,[u,S]):N[j+1].push(u,S)}else N.push(o,S)}}}function Xv(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Wy(n,i,o,u){for(let c=o;c<u;c++)if(i[c]===n)return c;return-1}function jE(n,i,o,u){return qy(this.multi,[])}function HE(n,i,o,u){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,T=Cu(o,o[1],this.providerFactory.index,u);h=T.slice(0,m),qy(c,h);for(let S=m;S<T.length;S++)h.push(T[S])}else h=[],qy(c,h);return h}function qy(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function ew(n,i=[]){return o=>{o.providersResolver=(u,c)=>function $E(n,i,o){const u=O();if(u.firstCreatePass){const c=zi(n);Gy(o,u.data,u.blueprint,c,!0),Gy(i,u.data,u.blueprint,c,!1)}}(u,c?c(n):n,i)}}class Lh{}class tw{}function zE(n,i){return new nw(n,i??null)}class nw extends Lh{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dg(this);const u=$t(i);this._bootstrapComponents=sa(u.bootstrap),this._r3Injector=dh(i,o,[{provide:Lh,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],Ce(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ky extends tw{constructor(i){super(),this.moduleType=i}create(i){return new nw(this.moduleType,i)}}class WE extends Lh{constructor(i,o,u){super(),this.componentFactoryResolver=new dg(this),this.instance=null;const c=new oh([...i,{provide:Lh,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],o||sh(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Yy(n,i,o=null){return new WE(n,i,o).injector}let qE=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Ip(0,o.type),c=u.length>0?Yy([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Wn({token:n,providedIn:"environment",factory:()=>new n(vn(Rc))}),n})();function rw(n){n.getStandaloneInjector=i=>i.get(qE).getOrCreateStandaloneInjector(n)}function Sr(n,i,o){const u=Fn()+n,c=R();return c[u]===Gn?tu(c,u,o?i.call(o):i()):function Vc(n,i){return n[i]}(c,u)}function ir(n,i,o,u){return KE(R(),Fn(),n,i,o,u)}function Jg(n,i){const o=n[i];return o===Gn?void 0:o}function KE(n,i,o,u,c,h){const m=i+o;return eo(n,m,c)?tu(n,m+1,h?u.call(h,c):u(c)):Jg(n,m+1)}function YE(n,i,o,u,c,h,m){const T=i+o;return function Bc(n,i,o,u){const c=eo(n,i,o);return eo(n,i+1,u)||c}(n,T,c,h)?tu(n,T+2,m?u.call(m,c,h):u(c,h)):Jg(n,T+2)}function XE(n,i){const o=O();let u;const c=n+22;o.firstCreatePass?(u=function v0(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const h=u.factory||(u.factory=no(u.type)),m=je(El);try{const T=Va(!1),S=h();return Va(T),function py(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,R(),c,S),S}finally{je(m)}}function eI(n,i,o){const u=n+22,c=R(),h=es(c,u);return Xg(c,u)?KE(c,Fn(),i,h.transform,o,h):h.transform(o)}function tI(n,i,o,u){const c=n+22,h=R(),m=es(h,c);return Xg(h,c)?YE(h,Fn(),i,m.transform,o,u,m):m.transform(o,u)}function Xg(n,i){return n[1].data[i].pure}function iw(n){return i=>{setTimeout(n,void 0,i)}}const zc=class b0 extends P.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let c=i,h=o||(()=>null),m=u;if(i&&"object"==typeof i){const S=i;c=S.next?.bind(S),h=S.error?.bind(S),m=S.complete?.bind(S)}this.__isAsync&&(h=iw(h),c&&(c=iw(c)),m&&(m=iw(m)));const T=super.subscribe({next:c,error:h,complete:m});return i instanceof z.w&&i.add(T),T}};function T0(){return this._results[Dl()]()}class sw{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Dl(),u=sw.prototype;u[o]||(u[o]=T0)}get changes(){return this._changes||(this._changes=new zc)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=Zn(i);(this._changesDetected=!function Ba(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let c=n[u],h=i[u];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let em=(()=>{class n{}return n.__NG_ELEMENT_ID__=S0,n})();const D0=em,C0=class extends D0{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tViews,c=hd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(u)),wh(u,c,i),new Th(c)}};function S0(){return Qy(Ee(),R())}function Qy(n,i){return 4&n.type?new C0(i,n,Mc(n,i)):null}let Jy=(()=>{class n{}return n.__NG_ELEMENT_ID__=A0,n})();function A0(){return iI(Ee(),R())}const x0=Jy,nI=class extends x0{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Mc(this._hostTNode,this._hostLView)}get injector(){return new Ut(this._hostTNode,this._hostLView)}get parentInjector(){const i=tt(this._hostTNode,this._hostLView);if(qi(i)){const o=Si(i,this._hostLView),u=ur(i);return new Ut(o[1].data[u+8],o)}return new Ut(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=rI(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){let c,h;"number"==typeof u?c=u:null!=u&&(c=u.index,h=u.injector);const m=i.createEmbeddedView(o||{},h);return this.insert(m,c),m}createComponent(i,o,u,c,h){const m=i&&!function Ro(n){return"function"==typeof n}(i);let T;if(m)T=o;else{const Z=o||{};T=Z.index,u=Z.injector,c=Z.projectableNodes,h=Z.environmentInjector||Z.ngModuleRef}const S=m?i:new gd(W(i)),N=u||this.parentInjector;if(!h&&null==S.ngModule){const ge=(m?N:this.parentInjector).get(Rc,null);ge&&(h=ge)}const j=S.create(N,c,void 0,h);return this.insert(j.hostView,T),j}insert(i,o){const u=i._lView,c=u[1];if(function ts(n){return _i(n[3])}(u)){const j=this.indexOf(i);if(-1!==j)this.detach(j);else{const Z=u[3],ge=new nI(Z,Z[6],Z[3]);ge.detach(ge.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function tp(n,i,o,u){const c=10+u,h=o.length;u>0&&(o[c-1][4]=i),u<h-10?(i[4]=o[c],Jo(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function No(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(m,i);const T=i[19];null!==T&&T.insertView(n),i[2]|=64}(c,u,m,h);const T=nc(h,m),S=u[11],N=Ic(S,m[7]);return null!==N&&function jh(n,i,o,u,c,h){u[0]=c,u[6]=i,Uu(n,u,o,1,c,h)}(c,m[6],S,u,N,T),i.attachToViewContainerRef(),Jo(ow(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=rI(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Ec(this._lContainer,o);u&&(fu(ow(this._lContainer),o),Hh(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=Ec(this._lContainer,o);return u&&null!=fu(ow(this._lContainer),o)?new Th(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function rI(n){return n[8]}function ow(n){return n[8]||(n[8]=[])}function iI(n,i){let o;const u=i[n.index];if(_i(u))o=u;else{let c;if(8&n.type)c=tr(u);else{const h=i[11];c=h.createComment("");const m=Di(n,i);Cn(h,Ic(h,m),c,function ql(n,i){return n.nextSibling(i)}(h,m),!1)}i[n.index]=o=Af(u,i,c,n),uc(i,o)}return new nI(o,n,i)}class aw{constructor(i){this.queryList=i,this.matches=null}clone(){return new aw(this.queryList)}setDirty(){this.queryList.setDirty()}}class uw{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let h=0;h<u;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new uw(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==fI(i,o).matches&&this.queries[o].setDirty()}}class sI{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class cw{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,c);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new cw(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class lw{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new lw(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(i,o,k0(o,h)),this.matchTNodeWithReadOption(i,o,lu(o,i,h,!1,!1))}else u===em?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,lu(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===rd||c===Jy||c===em&&4&o.type)this.addMatch(o.index,-2);else{const h=lu(o,i,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function k0(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function N0(n,i,o,u){return-1===o?function P0(n,i){return 11&n.type?Mc(n,i):4&n.type?Qy(n,i):null}(i,n):-2===o?function O0(n,i,o){return o===rd?Mc(i,n):o===em?Qy(i,n):o===Jy?iI(i,n):void 0}(n,i,u):Cu(n,n[1],o,i)}function oI(n,i,o,u){const c=i[19].queries[u];if(null===c.matches){const h=n.data,m=o.matches,T=[];for(let S=0;S<m.length;S+=2){const N=m[S];T.push(N<0?null:N0(i,h[N],m[S+1],o.metadata.read))}c.matches=T}return c.matches}function dw(n,i,o,u){const c=n.queries.getByIndex(o),h=c.matches;if(null!==h){const m=oI(n,i,c,o);for(let T=0;T<h.length;T+=2){const S=h[T];if(S>0)u.push(m[T/2]);else{const N=h[T+1],j=i[-S];for(let Z=10;Z<j.length;Z++){const ge=j[Z];ge[17]===ge[3]&&dw(ge[1],ge,N,u)}if(null!==j[9]){const Z=j[9];for(let ge=0;ge<Z.length;ge++){const Oe=Z[ge];dw(Oe[1],Oe,N,u)}}}}}return u}function aI(n){const i=R(),o=O(),u=_s();Wo(u+1);const c=fI(o,u);if(n.dirty&&function yo(n){return 4==(4&n[2])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?dw(o,i,u,[]):oI(o,i,c,u);n.reset(h,ef),n.notifyOnChanges()}return!0}return!1}function uI(n,i,o){const u=O();u.firstCreatePass&&(hI(u,new sI(n,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),dI(u,R(),i)}function cI(n,i,o,u){const c=O();if(c.firstCreatePass){const h=Ee();hI(c,new sI(i,o,u),h.index),function F0(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}dI(c,R(),o)}function lI(){return function L0(n,i){return n[19].queries[i].queryList}(R(),_s())}function dI(n,i,o){const u=new sw(4==(4&o));Ym(n,i,u,u.destroy),null===i[19]&&(i[19]=new uw),i[19].queries.push(new aw(u))}function hI(n,i,o){null===n.queries&&(n.queries=new cw),n.queries.track(new lw(i,o))}function fI(n,i){return n.queries.getByIndex(i)}function pI(n,i){return Qy(n,i)}function e_(...n){}const PI=new mr("Application Initializer");let t_=(()=>{class n{constructor(o){this.appInits=o,this.resolve=e_,this.reject=e_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Ch(h))o.push(h);else if(H_(h)){const m=new Promise((T,S)=>{h.subscribe({complete:T,error:S})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(vn(PI,8))},n.\u0275prov=Wn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NI=new mr("AppId",{providedIn:"root",factory:function OI(){return`${mw()}${mw()}${mw()}`}});function mw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const LI=new mr("Platform Initializer"),rb=new mr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FI=new mr("appBootstrapListener");let ib=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Wn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const n_=new mr("LocaleId",{providedIn:"root",factory:()=>so(n_,Y.Optional|Y.SkipSelf)||function sb(){return typeof $localize<"u"&&$localize.locale||Rd}()}),ob=new mr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ab{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let ub=(()=>{class n{compileModuleSync(o){return new Ky(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=sa($t(o).declarations).reduce((m,T)=>{const S=W(T);return S&&m.push(new gd(S)),m},[]);return new ab(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Wn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const db=(()=>Promise.resolve(0))();function yw(n){typeof Zone>"u"?db.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Hu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zc(!1),this.onMicrotaskEmpty=new zc(!1),this.onStable=new zc(!1),this.onError=new zc(!1),typeof Zone>"u")throw new wt(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function hb(){let n=Ot.requestAnimationFrame,i=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function gb(n){const i=()=>{!function pb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vw(n),n.isCheckStableRunning=!0,_w(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,h,m,T)=>{try{return BI(n),o.invokeTask(c,h,m,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),$I(n)}},onInvoke:(o,u,c,h,m,T,S)=>{try{return BI(n),o.invoke(c,h,m,T,S)}finally{n.shouldCoalesceRunChangeDetection&&i(),$I(n)}},onHasTask:(o,u,c,h)=>{o.hasTask(c,h),u===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,vw(n),_w(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,c,h)=>(o.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hu.isInAngularZone())throw new wt(909,!1)}static assertNotInAngularZone(){if(Hu.isInAngularZone())throw new wt(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,i,fb,e_,e_);try{return h.runTask(m,o,u)}finally{h.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const fb={};function _w(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function BI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function $I(n){n._nesting--,_w(n)}class mb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zc,this.onMicrotaskEmpty=new zc,this.onStable=new zc,this.onError=new zc}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}const jI=new mr(""),HI=new mr("");let ww,yb=(()=>{class n{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ww||(function _b(n){ww=n}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hu.assertNotInAngularZone(),yw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yw(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(vn(Hu),vn(GI),vn(HI))},n.\u0275prov=Wn({token:n,factory:n.\u0275fac}),n})(),GI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return ww?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Wn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),kd=null;const zI=new mr("AllowMultipleToken"),Ew=new mr("PlatformDestroyListeners");class Eb{constructor(i,o){this.name=i,this.token=o}}function qI(n,i,o=[]){const u=`Platform: ${i}`,c=new mr(u);return(h=[])=>{let m=Iw();if(!m||m.injector.get(zI,!1)){const T=[...o,...h,{provide:c,useValue:!0}];n?n(T):function Ib(n){if(kd&&!kd.get(zI,!1))throw new wt(400,!1);kd=n;const i=n.get(YI);(function WI(n){const i=n.get(LI,null);i&&i.forEach(o=>o())})(n)}(function KI(n=[],i){return sc.create({name:i,providers:[{provide:rh,useValue:"platform"},{provide:Ew,useValue:new Set([()=>kd=null])},...n]})}(T,u))}return function Tb(n){const i=Iw();if(!i)throw new wt(401,!1);return i}()}}function Iw(){return kd?.get(YI)??null}let YI=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function QI(n,i){let o;return o="noop"===n?new mb:("zone.js"===n?void 0:n)||new Hu(i),o}(u?.ngZone,function ZI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Hu,useValue:c}];return c.run(()=>{const m=sc.create({providers:h,parent:this.injector,name:o.moduleType.name}),T=o.create(m),S=T.injector.get(sd,null);if(!S)throw new wt(402,!1);return c.runOutsideAngular(()=>{const N=c.onError.subscribe({next:j=>{S.handleError(j)}});T.onDestroy(()=>{i_(this._modules,T),N.unsubscribe()})}),function JI(n,i,o){try{const u=o();return Ch(u)?u.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(S,c,()=>{const N=T.injector.get(t_);return N.runInitializers(),N.donePromise.then(()=>(function xv(n){Vn(n,"Expected localeId to be defined"),"string"==typeof n&&(Py=n.toLowerCase().replace(/_/g,"-"))}(T.injector.get(n_,Rd)||Rd),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,u=[]){const c=XI({},u);return function vb(n,i,o){const u=new Ky(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const u=o.injector.get(r_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new wt(403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new wt(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Ew,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(vn(sc))},n.\u0275prov=Wn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function XI(n,i){return Array.isArray(i)?i.reduce(XI,n):{...n,...i}}let r_=(()=>{class n{constructor(o,u,c){this._zone=o,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new ce.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),m=new ce.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Hu.assertNotInAngularZone(),yw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Hu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),N.unsubscribe()}});this.isStable=function De(...n){let i=Number.POSITIVE_INFINITY,o=null,u=n[n.length-1];return(0,Ue.K)(u)?(o=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(i=n.pop())):"number"==typeof u&&(i=n.pop()),null===o&&1===n.length&&n[0]instanceof ce.y?n[0]:(0,ve.J)(i)((0,Re.n)(n,o))}(h,m.pipe(function Ae(){return n=>(0,Q.x)()(function we(n,i){return function(u){let c;if(c="function"==typeof n?n:function(){return n},"function"==typeof i)return u.lift(new K(c,i));const h=Object.create(u,Le.N);return h.source=u,h.subjectFactory=c,h}}(be)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const c=o instanceof am;if(!this._injector.get(t_).done)throw!c&&Lt(o),new wt(405,false);let m;m=c?o:this._injector.get(nd).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const T=function wb(n){return n.isBoundToModule}(m)?void 0:this._injector.get(Lh),N=m.create(sc.NULL,[],u||m.selector,T),j=N.location.nativeElement,Z=N.injector.get(jI,null);return Z?.registerApplication(j),N.onDestroy(()=>{this.detachView(N.hostView),i_(this.components,N),Z?.unregisterApplication(j)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new wt(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;i_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(FI,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>i_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new wt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(vn(Hu),vn(Rc),vn(sd))},n.\u0275prov=Wn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function i_(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let t0=!0;function Cb(){t0=!1}let Sb=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ab,n})();function Ab(n){return function xb(n,i,o){if(Ln(n)&&!o){const u=Fi(n.index,i);return new Th(u,u)}return 47&n.type?new Th(i[16],i):null}(Ee(),R(),16==(16&n))}class a0{constructor(){}supports(i){return Cl(i)}create(i){return new Ob(i)}}const Nb=(n,i)=>i;class Ob{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Nb}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,h=null;for(;o||u;){const m=!u||o&&o.currentIndex<c0(u,c,h)?o:u,T=c0(m,c,h),S=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const N=T-c,j=S-c;if(N!=j){for(let ge=0;ge<N;ge++){const Oe=ge<h.length?h[ge]:h[ge]=0,Xe=Oe+ge;j<=Xe&&Xe<N&&(h[ge]=Oe+1)}h[m.previousIndex]=j-N}}T!==S&&i(m,T,S)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Cl(i))throw new wt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let T=0;T<this.length;T++)h=i[T],m=this._trackByFn(T,h),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,h,m,T)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,T),u=!0),o=o._next}else c=0,function vg(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Dl()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,T=>{m=this._trackByFn(c,T),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,T,m,c)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,c)):i=this._addAfter(new Lb(o,u),h,c),i}_verifyReinsertion(i,o,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new u0),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new u0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Lb{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fb{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class u0{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new Fb,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function c0(n,i,o){const u=n.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class l0{constructor(){}supports(i){return i instanceof Map||Ff(i)}create(){return new Ub}}class Ub{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Ff(i)))throw new wt(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const u=new Vb(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class Vb{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function d0(){return new Sw([new a0])}let Sw=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||d0()),deps:[[n,new qu,new Ri]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new wt(901,!1)}}return n.\u0275prov=Wn({token:n,providedIn:"root",factory:d0}),n})();function h0(){return new Aw([new l0])}let Aw=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||h0()),deps:[[n,new qu,new Ri]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new wt(901,!1)}}return n.\u0275prov=Wn({token:n,providedIn:"root",factory:h0}),n})();const jb=qI(null,"core",[]);let Hb=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(vn(r_))},n.\u0275mod=Qt({type:n}),n.\u0275inj=Zr({}),n})();function Gb(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(an,et,q)=>{q.d(et,{Dx:()=>Ke,H7:()=>Rt,b2:()=>mi,q6:()=>Nr});var P=q(6895),z=q(6738);class ce extends P.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ue extends ce{static makeCurrent(){(0,P.HT)(new Ue)}onAndCancel(re,W,pe){return re.addEventListener(W,pe,!1),()=>{re.removeEventListener(W,pe,!1)}}dispatchEvent(re,W){re.dispatchEvent(W)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,W){return(W=W||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,W){return"window"===W?window:"document"===W?re:"body"===W?re.body:null}getBaseHref(re){const W=function Re(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==W?null:function Le(ye){De=De||document.createElement("a"),De.setAttribute("href",ye);const re=De.pathname;return"/"===re.charAt(0)?re:`/${re}`}(W)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,P.Mx)(document.cookie,re)}}let De,ve=null;const we=new z.OlP("TRANSITION_ID"),Q=[{provide:z.ip1,useFactory:function K(ye,re,W){return()=>{W.get(z.CZH).donePromise.then(()=>{const pe=(0,P.q)(),$e=re.querySelectorAll(`style[ng-transition="${ye}"]`);for(let Lt=0;Lt<$e.length;Lt++)pe.remove($e[Lt])})}},deps:[we,P.K0,z.zs3],multi:!0}];let Ae=(()=>{class ye{build(){return new XMLHttpRequest}}return ye.\u0275fac=function(W){return new(W||ye)},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const fe=new z.OlP("EventManagerPlugins");let kt=(()=>{class ye{constructor(W,pe){this._zone=pe,this._eventNameToPlugin=new Map,W.forEach($e=>$e.manager=this),this._plugins=W.slice().reverse()}addEventListener(W,pe,$e){return this._findPluginFor(pe).addEventListener(W,pe,$e)}addGlobalEventListener(W,pe,$e){return this._findPluginFor(pe).addGlobalEventListener(W,pe,$e)}getZone(){return this._zone}_findPluginFor(W){const pe=this._eventNameToPlugin.get(W);if(pe)return pe;const $e=this._plugins;for(let Lt=0;Lt<$e.length;Lt++){const $t=$e[Lt];if($t.supports(W))return this._eventNameToPlugin.set(W,$t),$t}throw new Error(`No event manager plugin found for event ${W}`)}}return ye.\u0275fac=function(W){return new(W||ye)(z.LFG(fe),z.LFG(z.R0b))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class Ce{constructor(re){this._doc=re}addGlobalEventListener(re,W,pe){const $e=(0,P.q)().getGlobalEventTarget(this._doc,re);if(!$e)throw new Error(`Unsupported event target ${$e} for event ${W}`);return this.addEventListener($e,W,pe)}}let nt=(()=>{class ye{constructor(){this._stylesSet=new Set}addStyles(W){const pe=new Set;W.forEach($e=>{this._stylesSet.has($e)||(this._stylesSet.add($e),pe.add($e))}),this.onStylesAdded(pe)}onStylesAdded(W){}getAllStyles(){return Array.from(this._stylesSet)}}return ye.\u0275fac=function(W){return new(W||ye)},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),Bt=(()=>{class ye extends nt{constructor(W){super(),this._doc=W,this._hostNodes=new Map,this._hostNodes.set(W.head,[])}_addStylesToHost(W,pe,$e){W.forEach(Lt=>{const $t=this._doc.createElement("style");$t.textContent=Lt,$e.push(pe.appendChild($t))})}addHost(W){const pe=[];this._addStylesToHost(this._stylesSet,W,pe),this._hostNodes.set(W,pe)}removeHost(W){const pe=this._hostNodes.get(W);pe&&pe.forEach(bn),this._hostNodes.delete(W)}onStylesAdded(W){this._hostNodes.forEach((pe,$e)=>{this._addStylesToHost(W,$e,pe)})}ngOnDestroy(){this._hostNodes.forEach(W=>W.forEach(bn))}}return ye.\u0275fac=function(W){return new(W||ye)(z.LFG(P.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();function bn(ye){(0,P.q)().remove(ye)}const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nn=/%COMP%/g;function rn(ye,re,W){for(let pe=0;pe<re.length;pe++){let $e=re[pe];Array.isArray($e)?rn(ye,$e,W):($e=$e.replace(nn,ye),W.push($e))}return W}function Pt(ye){return re=>{if("__ngUnwrap__"===re)return ye;!1===ye(re)&&(re.preventDefault(),re.returnValue=!1)}}let lt=(()=>{class ye{constructor(W,pe,$e){this.eventManager=W,this.sharedStylesHost=pe,this.appId=$e,this.rendererByCompId=new Map,this.defaultRenderer=new zn(W)}createRenderer(W,pe){if(!W||!pe)return this.defaultRenderer;switch(pe.encapsulation){case z.ifc.Emulated:{let $e=this.rendererByCompId.get(pe.id);return $e||($e=new Pr(this.eventManager,this.sharedStylesHost,pe,this.appId),this.rendererByCompId.set(pe.id,$e)),$e.applyToHost(W),$e}case 1:case z.ifc.ShadowDom:return new ri(this.eventManager,this.sharedStylesHost,W,pe);default:if(!this.rendererByCompId.has(pe.id)){const $e=rn(pe.id,pe.styles,[]);this.sharedStylesHost.addStyles($e),this.rendererByCompId.set(pe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ye.\u0275fac=function(W){return new(W||ye)(z.LFG(kt),z.LFG(Bt),z.LFG(z.AFp))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class zn{constructor(re){this.eventManager=re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,W){return W?document.createElementNS(ht[W]||W,re):document.createElement(re)}createComment(re){return document.createComment(re)}createText(re){return document.createTextNode(re)}appendChild(re,W){(An(re)?re.content:re).appendChild(W)}insertBefore(re,W,pe){re&&(An(re)?re.content:re).insertBefore(W,pe)}removeChild(re,W){re&&re.removeChild(W)}selectRootElement(re,W){let pe="string"==typeof re?document.querySelector(re):re;if(!pe)throw new Error(`The selector "${re}" did not match any elements`);return W||(pe.textContent=""),pe}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,W,pe,$e){if($e){W=$e+":"+W;const Lt=ht[$e];Lt?re.setAttributeNS(Lt,W,pe):re.setAttribute(W,pe)}else re.setAttribute(W,pe)}removeAttribute(re,W,pe){if(pe){const $e=ht[pe];$e?re.removeAttributeNS($e,W):re.removeAttribute(`${pe}:${W}`)}else re.removeAttribute(W)}addClass(re,W){re.classList.add(W)}removeClass(re,W){re.classList.remove(W)}setStyle(re,W,pe,$e){$e&(z.JOm.DashCase|z.JOm.Important)?re.style.setProperty(W,pe,$e&z.JOm.Important?"important":""):re.style[W]=pe}removeStyle(re,W,pe){pe&z.JOm.DashCase?re.style.removeProperty(W):re.style[W]=""}setProperty(re,W,pe){re[W]=pe}setValue(re,W){re.nodeValue=W}listen(re,W,pe){return"string"==typeof re?this.eventManager.addGlobalEventListener(re,W,Pt(pe)):this.eventManager.addEventListener(re,W,Pt(pe))}}function An(ye){return"TEMPLATE"===ye.tagName&&void 0!==ye.content}class Pr extends zn{constructor(re,W,pe,$e){super(re),this.component=pe;const Lt=rn($e+"-"+pe.id,pe.styles,[]);W.addStyles(Lt),this.contentAttr=function Qe(ye){return"_ngcontent-%COMP%".replace(nn,ye)}($e+"-"+pe.id),this.hostAttr=function Mt(ye){return"_nghost-%COMP%".replace(nn,ye)}($e+"-"+pe.id)}applyToHost(re){super.setAttribute(re,this.hostAttr,"")}createElement(re,W){const pe=super.createElement(re,W);return super.setAttribute(pe,this.contentAttr,""),pe}}class ri extends zn{constructor(re,W,pe,$e){super(re),this.sharedStylesHost=W,this.hostEl=pe,this.shadowRoot=pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=rn($e.id,$e.styles,[]);for(let $t=0;$t<Lt.length;$t++){const xe=document.createElement("style");xe.textContent=Lt[$t],this.shadowRoot.appendChild(xe)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(re,W){return super.appendChild(this.nodeOrShadowRoot(re),W)}insertBefore(re,W,pe){return super.insertBefore(this.nodeOrShadowRoot(re),W,pe)}removeChild(re,W){return super.removeChild(this.nodeOrShadowRoot(re),W)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}}let ji=(()=>{class ye extends Ce{constructor(W){super(W)}supports(W){return!0}addEventListener(W,pe,$e){return W.addEventListener(pe,$e,!1),()=>this.removeEventListener(W,pe,$e)}removeEventListener(W,pe,$e){return W.removeEventListener(pe,$e)}}return ye.\u0275fac=function(W){return new(W||ye)(z.LFG(P.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const hr=["alt","control","meta","shift"],Lr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ni={alt:ye=>ye.altKey,control:ye=>ye.ctrlKey,meta:ye=>ye.metaKey,shift:ye=>ye.shiftKey};let Fr=(()=>{class ye extends Ce{constructor(W){super(W)}supports(W){return null!=ye.parseEventName(W)}addEventListener(W,pe,$e){const Lt=ye.parseEventName(pe),$t=ye.eventCallback(Lt.fullKey,$e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,P.q)().onAndCancel(W,Lt.domEventName,$t))}static parseEventName(W){const pe=W.toLowerCase().split("."),$e=pe.shift();if(0===pe.length||"keydown"!==$e&&"keyup"!==$e)return null;const Lt=ye._normalizeKey(pe.pop());let $t="",xe=pe.indexOf("code");if(xe>-1&&(pe.splice(xe,1),$t="code."),hr.forEach(Fe=>{const dt=pe.indexOf(Fe);dt>-1&&(pe.splice(dt,1),$t+=Fe+".")}),$t+=Lt,0!=pe.length||0===Lt.length)return null;const ne={};return ne.domEventName=$e,ne.fullKey=$t,ne}static matchEventFullKeyCode(W,pe){let $e=Lr[W.key]||W.key,Lt="";return pe.indexOf("code.")>-1&&($e=W.code,Lt="code."),!(null==$e||!$e)&&($e=$e.toLowerCase()," "===$e?$e="space":"."===$e&&($e="dot"),hr.forEach($t=>{$t!==$e&&(0,Ni[$t])(W)&&(Lt+=$t+".")}),Lt+=$e,Lt===pe)}static eventCallback(W,pe,$e){return Lt=>{ye.matchEventFullKeyCode(Lt,W)&&$e.runGuarded(()=>pe(Lt))}}static _normalizeKey(W){return"esc"===W?"escape":W}}return ye.\u0275fac=function(W){return new(W||ye)(z.LFG(P.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const Nr=(0,z.eFA)(z._c5,"browser",[{provide:z.Lbi,useValue:P.bD},{provide:z.g9A,useValue:function gi(){Ue.makeCurrent()},multi:!0},{provide:P.K0,useFactory:function pr(){return(0,z.RDi)(document),document},deps:[]}]),ii=new z.OlP(""),Ar=[{provide:z.rWj,useClass:class be{addToWindow(re){z.dqk.getAngularTestability=(pe,$e=!0)=>{const Lt=re.findTestabilityInTree(pe,$e);if(null==Lt)throw new Error("Could not find testability for element.");return Lt},z.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),z.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),z.dqk.frameworkStabilizers||(z.dqk.frameworkStabilizers=[]),z.dqk.frameworkStabilizers.push(pe=>{const $e=z.dqk.getAllAngularTestabilities();let Lt=$e.length,$t=!1;const xe=function(ne){$t=$t||ne,Lt--,0==Lt&&pe($t)};$e.forEach(function(ne){ne.whenStable(xe)})})}findTestabilityInTree(re,W,pe){return null==W?null:re.getTestability(W)??(pe?(0,P.q)().isShadowRoot(W)?this.findTestabilityInTree(re,W.host,!0):this.findTestabilityInTree(re,W.parentElement,!0):null)}},deps:[]},{provide:z.lri,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]},{provide:z.dDg,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]}],br=[{provide:z.zSh,useValue:"root"},{provide:z.qLn,useFactory:function Wn(){return new z.qLn},deps:[]},{provide:fe,useClass:ji,multi:!0,deps:[P.K0,z.R0b,z.Lbi]},{provide:fe,useClass:Fr,multi:!0,deps:[P.K0]},{provide:lt,useClass:lt,deps:[kt,Bt,z.AFp]},{provide:z.FYo,useExisting:lt},{provide:nt,useExisting:Bt},{provide:Bt,useClass:Bt,deps:[P.K0]},{provide:kt,useClass:kt,deps:[fe,z.R0b]},{provide:P.JF,useClass:Ae,deps:[]},[]];let mi=(()=>{class ye{constructor(W){}static withServerTransition(W){return{ngModule:ye,providers:[{provide:z.AFp,useValue:W.appId},{provide:we,useExisting:z.AFp},Q]}}}return ye.\u0275fac=function(W){return new(W||ye)(z.LFG(ii,12))},ye.\u0275mod=z.oAB({type:ye}),ye.\u0275inj=z.cJS({providers:[...br,...Ar],imports:[P.ez,z.hGG]}),ye})(),Ke=(()=>{class ye{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}}return ye.\u0275fac=function(W){return new(W||ye)(z.LFG(P.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:function(W){let pe=null;return pe=W?new W:function Or(){return new Ke((0,z.LFG)(P.K0))}(),pe},providedIn:"root"}),ye})();typeof window<"u"&&window;let Rt=(()=>{class ye{}return ye.\u0275fac=function(W){return new(W||ye)},ye.\u0275prov=z.Yz7({token:ye,factory:function(W){let pe=null;return pe=W?new(W||ye):z.LFG(xn),pe},providedIn:"root"}),ye})(),xn=(()=>{class ye extends Rt{constructor(W){super(),this._doc=W}sanitize(W,pe){if(null==pe)return null;switch(W){case z.q3G.NONE:return pe;case z.q3G.HTML:return(0,z.qzn)(pe,"HTML")?(0,z.z3N)(pe):(0,z.EiD)(this._doc,String(pe)).toString();case z.q3G.STYLE:return(0,z.qzn)(pe,"Style")?(0,z.z3N)(pe):pe;case z.q3G.SCRIPT:if((0,z.qzn)(pe,"Script"))return(0,z.z3N)(pe);throw new Error("unsafe value used in a script context");case z.q3G.URL:return(0,z.qzn)(pe,"URL")?(0,z.z3N)(pe):(0,z.mCW)(String(pe));case z.q3G.RESOURCE_URL:if((0,z.qzn)(pe,"ResourceURL"))return(0,z.z3N)(pe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${W} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(W){return(0,z.JVY)(W)}bypassSecurityTrustStyle(W){return(0,z.L6k)(W)}bypassSecurityTrustScript(W){return(0,z.eBb)(W)}bypassSecurityTrustUrl(W){return(0,z.LAX)(W)}bypassSecurityTrustResourceUrl(W){return(0,z.pB0)(W)}}return ye.\u0275fac=function(W){return new(W||ye)(z.LFG(P.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:function(W){let pe=null;return pe=W?new W:function Qt(ye){return new xn(ye.get(P.K0))}(z.LFG(z.zs3)),pe},providedIn:"root"}),ye})()},2279:(an,et,q)=>{q.d(et,{F0:()=>kr,yS:()=>xo,Bz:()=>Zc,lC:()=>_o});var P=q(6738),z=q(5254),ce=q(1086),Ue=q(591);const Re=(()=>{function v(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return v.prototype=Object.create(Error.prototype),v})();var De=q(2866),Le=q(6688),we=q(3489);class K extends we.L{notifyNext(_,g,C,x,$){this.destination.next(g)}notifyError(_,g){this.destination.error(_)}notifyComplete(_){this.destination.complete()}}class Q extends we.L{constructor(_,g,C){super(),this.parent=_,this.outerValue=g,this.outerIndex=C,this.index=0}_next(_){this.parent.notifyNext(this.outerValue,_,this.outerIndex,this.index++,this)}_error(_){this.parent.notifyError(_,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var be=q(9249),Ae=q(6498);function fe(v,_,g,C,x=new Q(v,g,C)){if(!x.closed)return _ instanceof Ae.y?_.subscribe(x):(0,be.s)(_)(x)}var kt=q(3009);const Ce={};function nt(...v){let _,g;return(0,De.K)(v[v.length-1])&&(g=v.pop()),"function"==typeof v[v.length-1]&&(_=v.pop()),1===v.length&&(0,Le.k)(v[0])&&(v=v[0]),(0,kt.n)(v,g).lift(new Bt(_))}class Bt{constructor(_){this.resultSelector=_}call(_,g){return g.subscribe(new bn(_,this.resultSelector))}}class bn extends K{constructor(_,g){super(_),this.resultSelector=g,this.active=0,this.values=[],this.observables=[]}_next(_){this.values.push(Ce),this.observables.push(_)}_complete(){const _=this.observables,g=_.length;if(0===g)this.destination.complete();else{this.active=g,this.toRespond=g;for(let C=0;C<g;C++)this.add(fe(this,_[C],void 0,C))}}notifyComplete(_){0==(this.active-=1)&&this.destination.complete()}notifyNext(_,g,C){const x=this.values,J=this.toRespond?x[C]===Ce?--this.toRespond:this.toRespond:0;x[C]=g,0===J&&(this.resultSelector?this._tryResultSelector(x):this.destination.next(x.slice()))}_tryResultSelector(_){let g;try{g=this.resultSelector.apply(this,_)}catch(C){return void this.destination.error(C)}this.destination.next(g)}}var ht=q(9146);function Jn(...v){return function nn(){return(0,ht.J)(1)}()((0,ce.of)(...v))}var wt=q(8896);function ot(v){return new Ae.y(_=>{let g;try{g=v()}catch(x){return void _.error(x)}return(g?(0,z.D)(g):(0,wt.c)()).subscribe(_)})}var ut=q(4843),Qe=q(1737),Mt=q(1762),rn=q(5529),Pt=q(6895),pt=q(4850),lt=q(7545),zn=q(2986),_r=q(2198),An=q(1709);function Pr(v=null){return _=>_.lift(new ri(v))}class ri{constructor(_){this.defaultValue=_}call(_,g){return g.subscribe(new ji(_,this.defaultValue))}}class ji extends we.L{constructor(_,g){super(_),this.defaultValue=g,this.isEmpty=!0}_next(_){this.isEmpty=!1,this.destination.next(_)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function hr(v=Fr){return _=>_.lift(new Lr(v))}class Lr{constructor(_){this.errorFactory=_}call(_,g){return g.subscribe(new Ni(_,this.errorFactory))}}class Ni extends we.L{constructor(_,g){super(_),this.errorFactory=g,this.hasValue=!1}_next(_){this.hasValue=!0,this.destination.next(_)}_complete(){if(this.hasValue)return this.destination.complete();{let _;try{_=this.errorFactory()}catch(g){_=g}this.destination.error(_)}}}function Fr(){return new Re}var fr=q(5379);function Vn(v,_){const g=arguments.length>=2;return C=>C.pipe(v?(0,_r.h)((x,$)=>v(x,$,C)):fr.y,(0,zn.q)(1),g?Pr(_):hr(()=>new Re))}var yn=q(1406),On=q(2868),di=q(7221);function gi(v,_){let g=!1;return arguments.length>=2&&(g=!0),function(x){return x.lift(new Wn(v,_,g))}}class Wn{constructor(_,g,C=!1){this.accumulator=_,this.seed=g,this.hasSeed=C}call(_,g){return g.subscribe(new pr(_,this.accumulator,this.seed,this.hasSeed))}}class pr extends we.L{constructor(_,g,C,x){super(_),this.accumulator=g,this._seed=C,this.hasSeed=x,this.index=0}get seed(){return this._seed}set seed(_){this.hasSeed=!0,this._seed=_}_next(_){if(this.hasSeed)return this._tryNext(_);this.seed=_,this.destination.next(_)}_tryNext(_){const g=this.index++;let C;try{C=this.accumulator(this.seed,_,g)}catch(x){this.destination.error(x)}this.seed=C,this.destination.next(C)}}var Zr=q(4231);function Nr(v){return function(g){return 0===v?(0,wt.c)():g.lift(new ii(v))}}class ii{constructor(_){if(this.total=_,this.total<0)throw new Zr.W}call(_,g){return g.subscribe(new Ar(_,this.total))}}class Ar extends we.L{constructor(_,g){super(_),this.total=g,this.ring=new Array,this.count=0}_next(_){const g=this.ring,C=this.total,x=this.count++;g.length<C?g.push(_):g[x%C]=_}_complete(){const _=this.destination;let g=this.count;if(g>0){const C=this.count>=this.total?this.total:this.count,x=this.ring;for(let $=0;$<C;$++){const J=g++%C;_.next(x[J])}}_.complete()}}function br(v,_){const g=arguments.length>=2;return C=>C.pipe(v?(0,_r.h)((x,$)=>v(x,$,C)):fr.y,Nr(1),g?Pr(_):hr(()=>new Re))}class Ji{constructor(_,g){this.predicate=_,this.inclusive=g}call(_,g){return g.subscribe(new Ur(_,this.predicate,this.inclusive))}}class Ur extends we.L{constructor(_,g,C){super(_),this.predicate=g,this.inclusive=C,this.index=0}_next(_){const g=this.destination;let C;try{C=this.predicate(_,this.index++)}catch(x){return void g.error(x)}this.nextOrComplete(_,C)}nextOrComplete(_,g){const C=this.destination;Boolean(g)?C.next(_):(this.inclusive&&C.next(_),C.complete())}}class Or{constructor(_){this.value=_}call(_,g){return g.subscribe(new Ke(_,this.value))}}class Ke extends we.L{constructor(_,g){super(_),this.value=g}_next(_){this.destination.next(this.value)}}var Y=q(2654);function ee(v){return _=>_.lift(new de(v))}class de{constructor(_){this.callback=_}call(_,g){return g.subscribe(new je(_,this.callback))}}class je extends we.L{constructor(_,g){super(_),this.add(new Y.w(g))}}var It=q(4327),Wt=q(1481);const gt="primary",Dt=Symbol("RouteTitle");class Mn{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const g=this.params[_];return Array.isArray(g)?g[0]:g}return null}getAll(_){if(this.has(_)){const g=this.params[_];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function pn(v){return new Mn(v)}function sr(v,_,g){const C=g.path.split("/");if(C.length>v.length||"full"===g.pathMatch&&(_.hasChildren()||C.length<v.length))return null;const x={};for(let $=0;$<C.length;$++){const J=C[$],ae=v[$];if(J.startsWith(":"))x[J.substring(1)]=ae;else if(J!==ae.path)return null}return{consumed:v.slice(0,C.length),posParams:x}}function ln(v,_){const g=v?Object.keys(v):void 0,C=_?Object.keys(_):void 0;if(!g||!C||g.length!=C.length)return!1;let x;for(let $=0;$<g.length;$++)if(x=g[$],!_n(v[x],_[x]))return!1;return!0}function _n(v,_){if(Array.isArray(v)&&Array.isArray(_)){if(v.length!==_.length)return!1;const g=[...v].sort(),C=[..._].sort();return g.every((x,$)=>C[$]===x)}return v===_}function xr(v){return Array.prototype.concat.apply([],v)}function At(v){return v.length>0?v[v.length-1]:null}function kn(v,_){for(const g in v)v.hasOwnProperty(g)&&_(v[g],g)}function Sn(v){return(0,P.CqO)(v)?v:(0,P.QGY)(v)?(0,z.D)(Promise.resolve(v)):(0,ce.of)(v)}const ue={exact:function Me(v,_,g){if(!$e(v.segments,_.segments)||!er(v.segments,_.segments,g)||v.numberOfChildren!==_.numberOfChildren)return!1;for(const C in _.children)if(!v.children[C]||!Me(v.children[C],_.children[C],g))return!1;return!0},subset:Qt},ie={exact:function Ze(v,_){return ln(v,_)},subset:function Rt(v,_){return Object.keys(_).length<=Object.keys(v).length&&Object.keys(_).every(g=>_n(v[g],_[g]))},ignored:()=>!0};function _e(v,_,g){return ue[g.paths](v.root,_.root,g.matrixParams)&&ie[g.queryParams](v.queryParams,_.queryParams)&&!("exact"===g.fragment&&v.fragment!==_.fragment)}function Qt(v,_,g){return xn(v,_,_.segments,g)}function xn(v,_,g,C){if(v.segments.length>g.length){const x=v.segments.slice(0,g.length);return!(!$e(x,g)||_.hasChildren()||!er(x,g,C))}if(v.segments.length===g.length){if(!$e(v.segments,g)||!er(v.segments,g,C))return!1;for(const x in _.children)if(!v.children[x]||!Qt(v.children[x],_.children[x],C))return!1;return!0}{const x=g.slice(0,v.segments.length),$=g.slice(v.segments.length);return!!($e(v.segments,x)&&er(v.segments,x,C)&&v.children[gt])&&xn(v.children[gt],_,$,C)}}function er(v,_,g){return _.every((C,x)=>ie[g](v[x].parameters,C.parameters))}class ye{constructor(_,g,C){this.root=_,this.queryParams=g,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return ne.serialize(this)}}class re{constructor(_,g){this.segments=_,this.children=g,this.parent=null,kn(g,(C,x)=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fe(this)}}class W{constructor(_,g){this.path=_,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=pn(this.parameters)),this._parameterMap}toString(){return Hi(this)}}function $e(v,_){return v.length===_.length&&v.every((g,C)=>g.path===_[C].path)}let $t=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=P.Yz7({token:v,factory:function(){return new xe},providedIn:"root"}),v})();class xe{parse(_){const g=new Oi(_);return new ye(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(_){const g=`/${dt(_.root,!0)}`,C=function Xi(v){const _=Object.keys(v).map(g=>{const C=v[g];return Array.isArray(C)?C.map(x=>`${sn(g)}=${sn(x)}`).join("&"):`${sn(g)}=${sn(C)}`}).filter(g=>!!g);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${g}${C}${"string"==typeof _.fragment?`#${function Yt(v){return encodeURI(v)}(_.fragment)}`:""}`}}const ne=new xe;function Fe(v){return v.segments.map(_=>Hi(_)).join("/")}function dt(v,_){if(!v.hasChildren())return Fe(v);if(_){const g=v.children[gt]?dt(v.children[gt],!1):"",C=[];return kn(v.children,(x,$)=>{$!==gt&&C.push(`${$}:${dt(x,!1)}`)}),C.length>0?`${g}(${C.join("//")})`:g}{const g=function Lt(v,_){let g=[];return kn(v.children,(C,x)=>{x===gt&&(g=g.concat(_(C,x)))}),kn(v.children,(C,x)=>{x!==gt&&(g=g.concat(_(C,x)))}),g}(v,(C,x)=>x===gt?[dt(v.children[gt],!1)]:[`${x}:${dt(C,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[gt]?`${Fe(v)}/${g[0]}`:`${Fe(v)}/(${g.join("//")})`}}function Ft(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sn(v){return Ft(v).replace(/%3B/gi,";")}function or(v){return Ft(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fn(v){return decodeURIComponent(v)}function gr(v){return fn(v.replace(/\+/g,"%20"))}function Hi(v){return`${or(v.path)}${function un(v){return Object.keys(v).map(_=>`;${or(_)}=${or(v[_])}`).join("")}(v.parameters)}`}const Gi=/^[^\/()?;=#]+/;function Ii(v){const _=v.match(Gi);return _?_[0]:""}const si=/^[^=?&#]+/,fs=/^[^&#]+/;class Oi{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(_.length>0||Object.keys(g).length>0)&&(C[gt]=new re(_,g)),C}parseSegment(){const _=Ii(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new P.vHH(4009,!1);return this.capture(_),new W(fn(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const g=Ii(this.remaining);if(!g)return;this.capture(g);let C="";if(this.consumeOptional("=")){const x=Ii(this.remaining);x&&(C=x,this.capture(C))}_[fn(g)]=fn(C)}parseQueryParam(_){const g=function cr(v){const _=v.match(si);return _?_[0]:""}(this.remaining);if(!g)return;this.capture(g);let C="";if(this.consumeOptional("=")){const J=function En(v){const _=v.match(fs);return _?_[0]:""}(this.remaining);J&&(C=J,this.capture(C))}const x=gr(g),$=gr(C);if(_.hasOwnProperty(x)){let J=_[x];Array.isArray(J)||(J=[J],_[x]=J),J.push($)}else _[x]=$}parseParens(_){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=Ii(this.remaining),x=this.remaining[C.length];if("/"!==x&&")"!==x&&";"!==x)throw new P.vHH(4010,!1);let $;C.indexOf(":")>-1?($=C.slice(0,C.indexOf(":")),this.capture($),this.capture(":")):_&&($=gt);const J=this.parseChildren();g[$]=1===Object.keys(J).length?J[gt]:new re([],J),this.consumeOptional("//")}return g}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new P.vHH(4011,!1)}}function yi(v){return v.segments.length>0?new re([],{[gt]:v}):v}function bi(v){const _={};for(const C of Object.keys(v.children)){const $=bi(v.children[C]);($.segments.length>0||$.hasChildren())&&(_[C]=$)}return function Bn(v){if(1===v.numberOfChildren&&v.children[gt]){const _=v.children[gt];return new re(v.segments.concat(_.segments),_.children)}return v}(new re(v.segments,_))}function Ie(v){return v instanceof ye}function qt(v,_,g,C,x){if(0===g.length)return cn(_.root,_.root,_.root,C,x);const $=function Ti(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new _i(!0,0,v);let _=0,g=!1;const C=v.reduce((x,$,J)=>{if("object"==typeof $&&null!=$){if($.outlets){const ae={};return kn($.outlets,(Ge,_t)=>{ae[_t]="string"==typeof Ge?Ge.split("/"):Ge}),[...x,{outlets:ae}]}if($.segmentPath)return[...x,$.segmentPath]}return"string"!=typeof $?[...x,$]:0===J?($.split("/").forEach((ae,Ge)=>{0==Ge&&"."===ae||(0==Ge&&""===ae?g=!0:".."===ae?_++:""!=ae&&x.push(ae))}),x):[...x,$]},[]);return new _i(g,_,C)}(g);return $.toRoot()?cn(_.root,_.root,new re([],{}),C,x):function J(Ge){const _t=function zi(v,_,g,C){if(v.isAbsolute)return new Ln(_.root,!0,0);if(-1===C)return new Ln(g,g===_.root,0);return function Fo(v,_,g){let C=v,x=_,$=g;for(;$>x;){if($-=x,C=C.parent,!C)throw new P.vHH(4005,!1);x=C.segments.length}return new Ln(C,!1,x-$)}(g,C+(gn(v.commands[0])?0:1),v.numberOfDoubleDots)}($,_,v.snapshot?._urlSegment,Ge),mn=_t.processChildren?Wi(_t.segmentGroup,_t.index,$.commands):lo(_t.segmentGroup,_t.index,$.commands);return cn(_.root,_t.segmentGroup,mn,C,x)}(v.snapshot?._lastPathIndex)}function gn(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Kt(v){return"object"==typeof v&&null!=v&&v.outlets}function cn(v,_,g,C,x){let J,$={};C&&kn(C,(Ge,_t)=>{$[_t]=Array.isArray(Ge)?Ge.map(mn=>`${mn}`):`${Ge}`}),J=v===_?g:zr(v,_,g);const ae=yi(bi(J));return new ye(ae,$,x)}function zr(v,_,g){const C={};return kn(v.children,(x,$)=>{C[$]=x===_?g:zr(x,_,g)}),new re(v.segments,C)}class _i{constructor(_,g,C){if(this.isAbsolute=_,this.numberOfDoubleDots=g,this.commands=C,_&&C.length>0&&gn(C[0]))throw new P.vHH(4003,!1);const x=C.find(Kt);if(x&&x!==At(C))throw new P.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ln{constructor(_,g,C){this.segmentGroup=_,this.processChildren=g,this.index=C}}function lo(v,_,g){if(v||(v=new re([],{})),0===v.segments.length&&v.hasChildren())return Wi(v,_,g);const C=function ru(v,_,g){let C=0,x=_;const $={match:!1,pathIndex:0,commandIndex:0};for(;x<v.segments.length;){if(C>=g.length)return $;const J=v.segments[x],ae=g[C];if(Kt(ae))break;const Ge=`${ae}`,_t=C<g.length-1?g[C+1]:null;if(x>0&&void 0===Ge)break;if(Ge&&_t&&"object"==typeof _t&&void 0===_t.outlets){if(!fo(Ge,_t,J))return $;C+=2}else{if(!fo(Ge,{},J))return $;C++}x++}return{match:!0,pathIndex:x,commandIndex:C}}(v,_,g),x=g.slice(C.commandIndex);if(C.match&&C.pathIndex<v.segments.length){const $=new re(v.segments.slice(0,C.pathIndex),{});return $.children[gt]=new re(v.segments.slice(C.pathIndex),v.children),Wi($,0,x)}return C.match&&0===x.length?new re(v.segments,{}):C.match&&!v.hasChildren()?ho(v,_,g):C.match?Wi(v,0,x):ho(v,_,g)}function Wi(v,_,g){if(0===g.length)return new re(v.segments,{});{const C=function co(v){return Kt(v[0])?v[0].outlets:{[gt]:v}}(g),x={};return kn(C,($,J)=>{"string"==typeof $&&($=[$]),null!==$&&(x[J]=lo(v.children[J],_,$))}),kn(v.children,($,J)=>{void 0===C[J]&&(x[J]=$)}),new re(v.segments,x)}}function ho(v,_,g){const C=v.segments.slice(0,_);let x=0;for(;x<g.length;){const $=g[x];if(Kt($)){const Ge=to($.outlets);return new re(C,Ge)}if(0===x&&gn(g[0])){C.push(new W(v.segments[_].path,Vs(g[0]))),x++;continue}const J=Kt($)?$.outlets[gt]:`${$}`,ae=x<g.length-1?g[x+1]:null;J&&ae&&gn(ae)?(C.push(new W(J,Vs(ae))),x+=2):(C.push(new W(J,{})),x++)}return new re(C,{})}function to(v){const _={};return kn(v,(g,C)=>{"string"==typeof g&&(g=[g]),null!==g&&(_[C]=ho(new re([],{}),0,g))}),_}function Vs(v){const _={};return kn(v,(g,C)=>_[C]=`${g}`),_}function fo(v,_,g){return v==g.path&&ln(_,g.parameters)}class ps{constructor(_,g){this.id=_,this.url=g}}class Ra extends ps{constructor(_,g,C="imperative",x=null){super(_,g),this.type=0,this.navigationTrigger=C,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class po extends ps{constructor(_,g,C){super(_,g),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class To extends ps{constructor(_,g,C,x){super(_,g),this.reason=C,this.code=x,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class iu extends ps{constructor(_,g,C,x){super(_,g),this.error=C,this.target=x,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hi extends ps{constructor(_,g,C,x){super(_,g),this.urlAfterRedirects=C,this.state=x,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gs extends ps{constructor(_,g,C,x){super(_,g),this.urlAfterRedirects=C,this.state=x,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uo extends ps{constructor(_,g,C,x,$){super(_,g),this.urlAfterRedirects=C,this.state=x,this.shouldActivate=$,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vo extends ps{constructor(_,g,C,x){super(_,g),this.urlAfterRedirects=C,this.state=x,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oi extends ps{constructor(_,g,C,x){super(_,g),this.urlAfterRedirects=C,this.state=x,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bo{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class la{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ma{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ka{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $o{constructor(_,g,C){this.routerEvent=_,this.position=g,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class go{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const g=this.pathFromRoot(_);return g.length>1?g[g.length-2]:null}children(_){const g=da(_,this._root);return g?g.children.map(C=>C.value):[]}firstChild(_){const g=da(_,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(_){const g=Bs(_,this._root);return g.length<2?[]:g[g.length-2].children.map(x=>x.value).filter(x=>x!==_)}pathFromRoot(_){return Bs(_,this._root).map(g=>g.value)}}function da(v,_){if(v===_.value)return _;for(const g of _.children){const C=da(v,g);if(C)return C}return null}function Bs(v,_){if(v===_.value)return[_];for(const g of _.children){const C=Bs(v,g);if(C.length)return C.unshift(_),C}return[]}class vi{constructor(_,g){this.value=_,this.children=g}toString(){return`TreeNode(${this.value})`}}function $s(v){const _={};return v&&v.children.forEach(g=>_[g.value.outlet]=g),_}class ha extends go{constructor(_,g){super(_),this.snapshot=g,tr(this,_)}toString(){return this.snapshot.toString()}}function Ho(v,_){const g=function fi(v,_){const J=new Go([],{},{},"",{},gt,_,null,v.root,-1,{});return new fa("",new vi(J,[]))}(v,_),C=new Ue.X([new W("",{})]),x=new Ue.X({}),$=new Ue.X({}),J=new Ue.X({}),ae=new Ue.X(""),Ge=new Li(C,x,J,ae,$,gt,_,g.root);return Ge.snapshot=g.root,new ha(new vi(Ge,[]),g)}class Li{constructor(_,g,C,x,$,J,ae,Ge){this.url=_,this.params=g,this.queryParams=C,this.fragment=x,this.data=$,this.outlet=J,this.component=ae,this.title=this.data?.pipe((0,pt.U)(_t=>_t[Dt]))??(0,ce.of)(void 0),this._futureSnapshot=Ge}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(_=>pn(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(_=>pn(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function js(v,_="emptyOnly"){const g=v.pathFromRoot;let C=0;if("always"!==_)for(C=g.length-1;C>=1;){const x=g[C],$=g[C-1];if(x.routeConfig&&""===x.routeConfig.path)C--;else{if($.component)break;C--}}return function Hs(v){return v.reduce((_,g)=>({params:{..._.params,...g.params},data:{..._.data,...g.data},resolve:{...g.data,..._.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(C))}class Go{constructor(_,g,C,x,$,J,ae,Ge,_t,mn,jt,vn){this.url=_,this.params=g,this.queryParams=C,this.fragment=x,this.data=$,this.outlet=J,this.component=ae,this.title=this.data?.[Dt],this.routeConfig=Ge,this._urlSegment=_t,this._lastPathIndex=mn,this._correctedLastPathIndex=vn??mn,this._resolve=jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fa extends go{constructor(_,g){super(g),this.url=_,tr(this,g)}toString(){return Do(this._root)}}function tr(v,_){_.value._routerState=v,_.children.forEach(g=>tr(v,g))}function Do(v){const _=v.children.length>0?` { ${v.children.map(Do).join(", ")} } `:"";return`${v.value}${_}`}function mo(v){if(v.snapshot){const _=v.snapshot,g=v._futureSnapshot;v.snapshot=g,ln(_.queryParams,g.queryParams)||v.queryParams.next(g.queryParams),_.fragment!==g.fragment&&v.fragment.next(g.fragment),ln(_.params,g.params)||v.params.next(g.params),function Ot(v,_){if(v.length!==_.length)return!1;for(let g=0;g<v.length;++g)if(!ln(v[g],_[g]))return!1;return!0}(_.url,g.url)||v.url.next(g.url),ln(_.data,g.data)||v.data.next(g.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function Ds(v,_){const g=ln(v.params,_.params)&&function pe(v,_){return $e(v,_)&&v.every((g,C)=>ln(g.parameters,_[C].parameters))}(v.url,_.url);return g&&!(!v.parent!=!_.parent)&&(!v.parent||Ds(v.parent,_.parent))}function ms(v,_,g){if(g&&v.shouldReuseRoute(_.value,g.value.snapshot)){const C=g.value;C._futureSnapshot=_.value;const x=function Co(v,_,g){return _.children.map(C=>{for(const x of g.children)if(v.shouldReuseRoute(C.value,x.value.snapshot))return ms(v,C,x);return ms(v,C)})}(v,_,g);return new vi(C,x)}{if(v.shouldAttach(_.value)){const $=v.retrieve(_.value);if(null!==$){const J=$.route;return J.value._futureSnapshot=_.value,J.children=_.children.map(ae=>ms(v,ae)),J}}const C=function es(v){return new Li(new Ue.X(v.url),new Ue.X(v.params),new Ue.X(v.queryParams),new Ue.X(v.fragment),new Ue.X(v.data),v.outlet,v.component,v)}(_.value),x=_.children.map($=>ms(v,$));return new vi(C,x)}}const Fi="ngNavigationCancelingError";function yo(v,_){const{redirectTo:g,navigationBehaviorOptions:C}=Ie(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,x=ys(!1,0,_);return x.url=g,x.navigationBehaviorOptions=C,x}function ys(v,_,g){const C=new Error("NavigationCancelingError: "+(v||""));return C[Fi]=!0,C.cancellationCode=_,g&&(C.url=g),C}function ts(v){return ns(v)&&Ie(v.url)}function ns(v){return v&&v[Fi]}class Pa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vr,this.attachRef=null}}let Vr=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(g,C){const x=this.getOrCreateContext(g);x.outlet=C,this.contexts.set(g,x)}onChildOutletDestroyed(g){const C=this.getContext(g);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let C=this.getContext(g);return C||(C=new Pa,this.contexts.set(g,C)),C}getContext(g){return this.contexts.get(g)||null}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=P.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const tn=!1;let _o=(()=>{class v{constructor(g,C,x,$,J){this.parentContexts=g,this.location=C,this.changeDetector=$,this.environmentInjector=J,this.activated=null,this._activatedRoute=null,this.activateEvents=new P.vpe,this.deactivateEvents=new P.vpe,this.attachEvents=new P.vpe,this.detachEvents=new P.vpe,this.name=x||gt,g.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const g=this.parentContexts.getContext(this.name);g&&g.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P.vHH(4012,tn);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P.vHH(4012,tn);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P.vHH(4012,tn);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,C){this.activated=g,this._activatedRoute=C,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,C){if(this.isActivated)throw new P.vHH(4013,tn);this._activatedRoute=g;const x=this.location,J=g._futureSnapshot.component,ae=this.parentContexts.getOrCreateContext(this.name).children,Ge=new Br(g,ae,x.injector);if(C&&function pa(v){return!!v.resolveComponentFactory}(C)){const _t=C.resolveComponentFactory(J);this.activated=x.createComponent(_t,x.length,Ge)}else this.activated=x.createComponent(J,{index:x.length,injector:Ge,environmentInjector:C??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(g){return new(g||v)(P.Y36(Vr),P.Y36(P.s_b),P.$8M("name"),P.Y36(P.sBO),P.Y36(P.lqb))},v.\u0275dir=P.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),v})();class Br{constructor(_,g,C){this.route=_,this.childContexts=g,this.parent=C}get(_,g){return _===Li?this.route:_===Vr?this.childContexts:this.parent.get(_,g)}}let Na=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275cmp=P.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[P.jDz],decls:1,vars:0,template:function(g,C){1&g&&P._UZ(0,"router-outlet")},dependencies:[_o],encapsulation:2}),v})();function zo(v,_){return v.providers&&!v._injector&&(v._injector=(0,P.MMx)(v.providers,_,`Route: ${v.path}`)),v._injector??_}function qe(v){const _=v.children&&v.children.map(qe),g=_?{...v,children:_}:{...v};return!g.component&&!g.loadComponent&&(_||g.loadChildren)&&g.outlet&&g.outlet!==gt&&(g.component=Na),g}function rt(v){return v.outlet||gt}function xt(v,_){const g=v.filter(C=>rt(C)===_);return g.push(...v.filter(C=>rt(C)!==_)),g}function yt(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let _=v.parent;_;_=_.parent){const g=_.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class $n{constructor(_,g,C,x){this.routeReuseStrategy=_,this.futureState=g,this.currState=C,this.forwardEvent=x}activate(_){const g=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,C,_),mo(this.futureState.root),this.activateChildRoutes(g,C,_)}deactivateChildRoutes(_,g,C){const x=$s(g);_.children.forEach($=>{const J=$.value.outlet;this.deactivateRoutes($,x[J],C),delete x[J]}),kn(x,($,J)=>{this.deactivateRouteAndItsChildren($,C)})}deactivateRoutes(_,g,C){const x=_.value,$=g?g.value:null;if(x===$)if(x.component){const J=C.getContext(x.outlet);J&&this.deactivateChildRoutes(_,g,J.children)}else this.deactivateChildRoutes(_,g,C);else $&&this.deactivateRouteAndItsChildren(g,C)}deactivateRouteAndItsChildren(_,g){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,g):this.deactivateRouteAndOutlet(_,g)}detachAndStoreRouteSubtree(_,g){const C=g.getContext(_.value.outlet),x=C&&_.value.component?C.children:g,$=$s(_);for(const J of Object.keys($))this.deactivateRouteAndItsChildren($[J],x);if(C&&C.outlet){const J=C.outlet.detach(),ae=C.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:J,route:_,contexts:ae})}}deactivateRouteAndOutlet(_,g){const C=g.getContext(_.value.outlet),x=C&&_.value.component?C.children:g,$=$s(_);for(const J of Object.keys($))this.deactivateRouteAndItsChildren($[J],x);C&&C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated(),C.attachRef=null,C.resolver=null,C.route=null)}activateChildRoutes(_,g,C){const x=$s(g);_.children.forEach($=>{this.activateRoutes($,x[$.value.outlet],C),this.forwardEvent(new ka($.value.snapshot))}),_.children.length&&this.forwardEvent(new Ma(_.value.snapshot))}activateRoutes(_,g,C){const x=_.value,$=g?g.value:null;if(mo(x),x===$)if(x.component){const J=C.getOrCreateContext(x.outlet);this.activateChildRoutes(_,g,J.children)}else this.activateChildRoutes(_,g,C);else if(x.component){const J=C.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const ae=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),J.children.onOutletReAttached(ae.contexts),J.attachRef=ae.componentRef,J.route=ae.route.value,J.outlet&&J.outlet.attach(ae.componentRef,ae.route.value),mo(ae.route.value),this.activateChildRoutes(_,null,J.children)}else{const ae=yt(x.snapshot),Ge=ae?.get(P._Vd)??null;J.attachRef=null,J.route=x,J.resolver=Ge,J.injector=ae,J.outlet&&J.outlet.activateWith(x,J.injector),this.activateChildRoutes(_,null,J.children)}}else this.activateChildRoutes(_,null,C)}}class $r{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class jr{constructor(_,g){this.component=_,this.route=g}}function Tr(v,_,g){const C=v._root;return dr(C,_?_._root:null,g,[C.value])}function lr(v,_){const g=Symbol(),C=_.get(v,g);return C===g?"function"!=typeof v||(0,P.Z0I)(v)?_.get(v):v:C}function dr(v,_,g,C,x={canDeactivateChecks:[],canActivateChecks:[]}){const $=$s(_);return v.children.forEach(J=>{(function Qr(v,_,g,C,x={canDeactivateChecks:[],canActivateChecks:[]}){const $=v.value,J=_?_.value:null,ae=g?g.getContext(v.value.outlet):null;if(J&&$.routeConfig===J.routeConfig){const Ge=function nr(v,_,g){if("function"==typeof g)return g(v,_);switch(g){case"pathParamsChange":return!$e(v.url,_.url);case"pathParamsOrQueryParamsChange":return!$e(v.url,_.url)||!ln(v.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ds(v,_)||!ln(v.queryParams,_.queryParams);default:return!Ds(v,_)}}(J,$,$.routeConfig.runGuardsAndResolvers);Ge?x.canActivateChecks.push(new $r(C)):($.data=J.data,$._resolvedData=J._resolvedData),dr(v,_,$.component?ae?ae.children:null:g,C,x),Ge&&ae&&ae.outlet&&ae.outlet.isActivated&&x.canDeactivateChecks.push(new jr(ae.outlet.component,J))}else J&&jn(_,ae,x),x.canActivateChecks.push(new $r(C)),dr(v,null,$.component?ae?ae.children:null:g,C,x)})(J,$[J.value.outlet],g,C.concat([J.value]),x),delete $[J.value.outlet]}),kn($,(J,ae)=>jn(J,g.getContext(ae),x)),x}function jn(v,_,g){const C=$s(v),x=v.value;kn(C,($,J)=>{jn($,x.component?_?_.children.getContext(J):null:_,g)}),g.canDeactivateChecks.push(new jr(x.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,x))}function vr(v){return"function"==typeof v}function Wr(v){return v instanceof Re||"EmptyError"===v?.name}const zs=Symbol("INITIAL_VALUE");function Jr(){return(0,lt.w)(v=>nt(v.map(_=>_.pipe((0,zn.q)(1),function ni(...v){const _=v[v.length-1];return(0,De.K)(_)?(v.pop(),g=>Jn(v,g,_)):g=>Jn(v,g)}(zs)))).pipe((0,pt.U)(_=>{for(const g of _)if(!0!==g){if(g===zs)return zs;if(!1===g||g instanceof ye)return g}return!0}),(0,_r.h)(_=>_!==zs),(0,zn.q)(1)))}function As(v){return(0,ut.z)((0,On.b)(_=>{if(Ie(_))throw yo(0,_)}),(0,pt.U)(_=>!0===_))}const So={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ao(v,_,g,C,x){const $=Ko(v,_,g);return $.matched?function uu(v,_,g,C){const x=_.canMatch;if(!x||0===x.length)return(0,ce.of)(!0);const $=x.map(J=>{const ae=lr(J,v);return Sn(function Wo(v){return v&&vr(v.canMatch)}(ae)?ae.canMatch(_,g):v.runInContext(()=>ae(_,g)))});return(0,ce.of)($).pipe(Jr(),As())}(C=zo(_,C),_,g).pipe((0,pt.U)(J=>!0===J?$:{...So})):(0,ce.of)($)}function Ko(v,_,g){if(""===_.path)return"full"===_.pathMatch&&(v.hasChildren()||g.length>0)?{...So}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const x=(_.matcher||sr)(g,v,_);if(!x)return{...So};const $={};kn(x.posParams,(ae,Ge)=>{$[Ge]=ae.path});const J=x.consumed.length>0?{...$,...x.consumed[x.consumed.length-1].parameters}:$;return{matched:!0,consumedSegments:x.consumed,remainingSegments:g.slice(x.consumed.length),parameters:J,positionalParamSegments:x.posParams??{}}}function Os(v,_,g,C,x="corrected"){if(g.length>0&&function qr(v,_,g){return g.some(C=>D(v,_,C)&&rt(C)!==gt)}(v,g,C)){const J=new re(_,function Ci(v,_,g,C){const x={};x[gt]=C,C._sourceSegment=v,C._segmentIndexShift=_.length;for(const $ of g)if(""===$.path&&rt($)!==gt){const J=new re([],{});J._sourceSegment=v,J._segmentIndexShift=_.length,x[rt($)]=J}return x}(v,_,C,new re(g,v.children)));return J._sourceSegment=v,J._segmentIndexShift=_.length,{segmentGroup:J,slicedSegments:[]}}if(0===g.length&&function ga(v,_,g){return g.some(C=>D(v,_,C))}(v,g,C)){const J=new re(v.segments,function is(v,_,g,C,x,$){const J={};for(const ae of C)if(D(v,g,ae)&&!x[rt(ae)]){const Ge=new re([],{});Ge._sourceSegment=v,Ge._segmentIndexShift="legacy"===$?v.segments.length:_.length,J[rt(ae)]=Ge}return{...x,...J}}(v,_,g,C,v.children,x));return J._sourceSegment=v,J._segmentIndexShift=_.length,{segmentGroup:J,slicedSegments:g}}const $=new re(v.segments,v.children);return $._sourceSegment=v,$._segmentIndexShift=_.length,{segmentGroup:$,slicedSegments:g}}function D(v,_,g){return(!(v.hasChildren()||_.length>0)||"full"!==g.pathMatch)&&""===g.path}function F(v,_,g,C){return!!(rt(v)===C||C!==gt&&D(_,g,v))&&("**"===v.path||Ko(_,v,g).matched)}function A(v,_,g){return 0===_.length&&!v.children[g]}const B=!1;class oe{constructor(_){this.segmentGroup=_||null}}class Ve{constructor(_){this.urlTree=_}}function Je(v){return(0,Qe._)(new oe(v))}function Gt(v){return(0,Qe._)(new Ve(v))}class Nn{constructor(_,g,C,x,$){this.injector=_,this.configLoader=g,this.urlSerializer=C,this.urlTree=x,this.config=$,this.allowRedirects=!0}apply(){const _=Os(this.urlTree.root,[],[],this.config).segmentGroup,g=new re(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,g,gt).pipe((0,pt.U)($=>this.createUrlTree(bi($),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,di.K)($=>{if($ instanceof Ve)return this.allowRedirects=!1,this.match($.urlTree);throw $ instanceof oe?this.noMatchError($):$}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,gt).pipe((0,pt.U)(x=>this.createUrlTree(bi(x),_.queryParams,_.fragment))).pipe((0,di.K)(x=>{throw x instanceof oe?this.noMatchError(x):x}))}noMatchError(_){return new P.vHH(4002,B)}createUrlTree(_,g,C){const x=yi(_);return new ye(x,g,C)}expandSegmentGroup(_,g,C,x){return 0===C.segments.length&&C.hasChildren()?this.expandChildren(_,g,C).pipe((0,pt.U)($=>new re([],$))):this.expandSegment(_,C,g,C.segments,x,!0)}expandChildren(_,g,C){const x=[];for(const $ of Object.keys(C.children))"primary"===$?x.unshift($):x.push($);return(0,z.D)(x).pipe((0,yn.b)($=>{const J=C.children[$],ae=xt(g,$);return this.expandSegmentGroup(_,ae,J,$).pipe((0,pt.U)(Ge=>({segment:Ge,outlet:$})))}),gi(($,J)=>($[J.outlet]=J.segment,$),{}),br())}expandSegment(_,g,C,x,$,J){return(0,z.D)(C).pipe((0,yn.b)(ae=>this.expandSegmentAgainstRoute(_,g,C,ae,x,$,J).pipe((0,di.K)(_t=>{if(_t instanceof oe)return(0,ce.of)(null);throw _t}))),Vn(ae=>!!ae),(0,di.K)((ae,Ge)=>{if(Wr(ae))return A(g,x,$)?(0,ce.of)(new re([],{})):Je(g);throw ae}))}expandSegmentAgainstRoute(_,g,C,x,$,J,ae){return F(x,g,$,J)?void 0===x.redirectTo?this.matchSegmentAgainstRoute(_,g,x,$,J):ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,g,C,x,$,J):Je(g):Je(g)}expandSegmentAgainstRouteUsingRedirect(_,g,C,x,$,J){return"**"===x.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,C,x,J):this.expandRegularSegmentAgainstRouteUsingRedirect(_,g,C,x,$,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,g,C,x){const $=this.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Gt($):this.lineralizeSegments(C,$).pipe((0,An.zg)(J=>{const ae=new re(J,{});return this.expandSegment(_,ae,g,J,x,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,g,C,x,$,J){const{matched:ae,consumedSegments:Ge,remainingSegments:_t,positionalParamSegments:mn}=Ko(g,x,$);if(!ae)return Je(g);const jt=this.applyRedirectCommands(Ge,x.redirectTo,mn);return x.redirectTo.startsWith("/")?Gt(jt):this.lineralizeSegments(x,jt).pipe((0,An.zg)(vn=>this.expandSegment(_,g,C,vn.concat(_t),J,!1)))}matchSegmentAgainstRoute(_,g,C,x,$){return"**"===C.path?(_=zo(C,_),C.loadChildren?(C._loadedRoutes?(0,ce.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):this.configLoader.loadChildren(_,C)).pipe((0,pt.U)(ae=>(C._loadedRoutes=ae.routes,C._loadedInjector=ae.injector,new re(x,{})))):(0,ce.of)(new re(x,{}))):Ao(g,C,x,_).pipe((0,lt.w)(({matched:J,consumedSegments:ae,remainingSegments:Ge})=>J?this.getChildConfig(_=C._injector??_,C,x).pipe((0,An.zg)(mn=>{const jt=mn.injector??_,vn=mn.routes,{segmentGroup:Yi,slicedSegments:so}=Os(g,ae,Ge,vn),Kr=new re(Yi.segments,Yi.children);if(0===so.length&&Kr.hasChildren())return this.expandChildren(jt,vn,Kr).pipe((0,pt.U)(Yr=>new re(ae,Yr)));if(0===vn.length&&0===so.length)return(0,ce.of)(new re(ae,{}));const cs=rt(C)===$;return this.expandSegment(jt,Kr,vn,so,cs?gt:$,!0).pipe((0,pt.U)(gu=>new re(ae.concat(gu.segments),gu.children)))})):Je(g)))}getChildConfig(_,g,C){return g.children?(0,ce.of)({routes:g.children,injector:_}):g.loadChildren?void 0!==g._loadedRoutes?(0,ce.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):function au(v,_,g,C){const x=_.canLoad;if(void 0===x||0===x.length)return(0,ce.of)(!0);const $=x.map(J=>{const ae=lr(J,v);return Sn(function Ui(v){return v&&vr(v.canLoad)}(ae)?ae.canLoad(_,g):v.runInContext(()=>ae(_,g)))});return(0,ce.of)($).pipe(Jr(),As())}(_,g,C).pipe((0,An.zg)(x=>x?this.configLoader.loadChildren(_,g).pipe((0,On.b)($=>{g._loadedRoutes=$.routes,g._loadedInjector=$.injector})):function wr(v){return(0,Qe._)(ys(B,3))}())):(0,ce.of)({routes:[],injector:_})}lineralizeSegments(_,g){let C=[],x=g.root;for(;;){if(C=C.concat(x.segments),0===x.numberOfChildren)return(0,ce.of)(C);if(x.numberOfChildren>1||!x.children[gt])return(0,Qe._)(new P.vHH(4e3,B));x=x.children[gt]}}applyRedirectCommands(_,g,C){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),_,C)}applyRedirectCreateUrlTree(_,g,C,x){const $=this.createSegmentGroup(_,g.root,C,x);return new ye($,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(_,g){const C={};return kn(_,(x,$)=>{if("string"==typeof x&&x.startsWith(":")){const ae=x.substring(1);C[$]=g[ae]}else C[$]=x}),C}createSegmentGroup(_,g,C,x){const $=this.createSegments(_,g.segments,C,x);let J={};return kn(g.children,(ae,Ge)=>{J[Ge]=this.createSegmentGroup(_,ae,C,x)}),new re($,J)}createSegments(_,g,C,x){return g.map($=>$.path.startsWith(":")?this.findPosParam(_,$,x):this.findOrReturn($,C))}findPosParam(_,g,C){const x=C[g.path.substring(1)];if(!x)throw new P.vHH(4001,B);return x}findOrReturn(_,g){let C=0;for(const x of g){if(x.path===_.path)return g.splice(C),x;C++}return _}}class wi{}class ur{constructor(_,g,C,x,$,J,ae,Ge){this.injector=_,this.rootComponentType=g,this.config=C,this.urlTree=x,this.url=$,this.paramsInheritanceStrategy=J,this.relativeLinkResolution=ae,this.urlSerializer=Ge}recognize(){const _=Os(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,gt).pipe((0,pt.U)(g=>{if(null===g)return null;const C=new Go([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gt,this.rootComponentType,null,this.urlTree.root,-1,{}),x=new vi(C,g),$=new fa(this.url,x);return this.inheritParamsAndData($._root),$}))}inheritParamsAndData(_){const g=_.value,C=js(g,this.paramsInheritanceStrategy);g.params=Object.freeze(C.params),g.data=Object.freeze(C.data),_.children.forEach(x=>this.inheritParamsAndData(x))}processSegmentGroup(_,g,C,x){return 0===C.segments.length&&C.hasChildren()?this.processChildren(_,g,C):this.processSegment(_,g,C,C.segments,x)}processChildren(_,g,C){return(0,z.D)(Object.keys(C.children)).pipe((0,yn.b)(x=>{const $=C.children[x],J=xt(g,x);return this.processSegmentGroup(_,J,$,x)}),gi((x,$)=>x&&$?(x.push(...$),x):null),function mi(v,_=!1){return g=>g.lift(new Ji(v,_))}(x=>null!==x),Pr(null),br(),(0,pt.U)(x=>{if(null===x)return null;const $=Va(x);return function Ki(v){v.sort((_,g)=>_.value.outlet===gt?-1:g.value.outlet===gt?1:_.value.outlet.localeCompare(g.value.outlet))}($),$}))}processSegment(_,g,C,x,$){return(0,z.D)(g).pipe((0,yn.b)(J=>this.processSegmentAgainstRoute(J._injector??_,J,C,x,$)),Vn(J=>!!J),(0,di.K)(J=>{if(Wr(J))return A(C,x,$)?(0,ce.of)([]):(0,ce.of)(null);throw J}))}processSegmentAgainstRoute(_,g,C,x,$){if(g.redirectTo||!F(g,C,x,$))return(0,ce.of)(null);let J;if("**"===g.path){const ae=x.length>0?At(x).parameters:{},Ge=os(C)+x.length,_t=new Go(x,ae,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ct(g),rt(g),g.component??g._loadedComponent??null,g,ui(C),Ge,Zt(g),Ge);J=(0,ce.of)({snapshot:_t,consumedSegments:[],remainingSegments:[]})}else J=Ao(C,g,x,_).pipe((0,pt.U)(({matched:ae,consumedSegments:Ge,remainingSegments:_t,parameters:mn})=>{if(!ae)return null;const jt=os(C)+Ge.length;return{snapshot:new Go(Ge,mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ct(g),rt(g),g.component??g._loadedComponent??null,g,ui(C),jt,Zt(g),jt),consumedSegments:Ge,remainingSegments:_t}}));return J.pipe((0,lt.w)(ae=>{if(null===ae)return(0,ce.of)(null);const{snapshot:Ge,consumedSegments:_t,remainingSegments:mn}=ae;_=g._injector??_;const jt=g._loadedInjector??_,vn=function Si(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(g),{segmentGroup:Yi,slicedSegments:so}=Os(C,_t,mn,vn.filter(cs=>void 0===cs.redirectTo),this.relativeLinkResolution);if(0===so.length&&Yi.hasChildren())return this.processChildren(jt,vn,Yi).pipe((0,pt.U)(cs=>null===cs?null:[new vi(Ge,cs)]));if(0===vn.length&&0===so.length)return(0,ce.of)([new vi(Ge,[])]);const Kr=rt(g)===$;return this.processSegment(jt,vn,Yi,so,Kr?gt:$).pipe((0,pt.U)(cs=>null===cs?null:[new vi(Ge,cs)]))}))}}function io(v){const _=v.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function Va(v){const _=[],g=new Set;for(const C of v){if(!io(C)){_.push(C);continue}const x=_.find($=>C.value.routeConfig===$.value.routeConfig);void 0!==x?(x.children.push(...C.children),g.add(x)):_.push(C)}for(const C of g){const x=Va(C.children);_.push(new vi(C.value,x))}return _.filter(C=>!g.has(C))}function ui(v){let _=v;for(;_._sourceSegment;)_=_._sourceSegment;return _}function os(v){let _=v,g=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,g+=_._segmentIndexShift??0;return g-1}function Ct(v){return v.data||{}}function Zt(v){return v.resolve||{}}function Du(v){return"string"==typeof v.title||null===v.title}function cu(v){return(0,lt.w)(_=>{const g=v(_);return g?(0,z.D)(g).pipe((0,pt.U)(()=>_)):(0,ce.of)(_)})}let dc=(()=>{class v{buildTitle(g){let C,x=g.root;for(;void 0!==x;)C=this.getResolvedTitleForRoute(x)??C,x=x.children.find($=>$.outlet===gt);return C}getResolvedTitleForRoute(g){return g.data[Dt]}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=P.Yz7({token:v,factory:function(){return(0,P.f3M)(hc)},providedIn:"root"}),v})(),hc=(()=>{class v extends dc{constructor(g){super(),this.title=g}updateTitle(g){const C=this.buildTitle(g);void 0!==C&&this.title.setTitle(C)}}return v.\u0275fac=function(g){return new(g||v)(P.LFG(Wt.Dx))},v.\u0275prov=P.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class lu{}class Pd extends class Cu{shouldDetach(_){return!1}store(_,g){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,g){return _.routeConfig===g.routeConfig}}{}const Yo=new P.OlP("",{providedIn:"root",factory:()=>({})}),ya=new P.OlP("ROUTES");let Vi=(()=>{class v{constructor(g,C){this.injector=g,this.compiler=C,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,ce.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const C=Sn(g.loadComponent()).pipe((0,On.b)($=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=$}),ee(()=>{this.componentLoaders.delete(g)})),x=new Mt.c(C,()=>new rn.xQ).pipe((0,It.x)());return this.componentLoaders.set(g,x),x}loadChildren(g,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,ce.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const $=this.loadModuleFactoryOrRoutes(C.loadChildren).pipe((0,pt.U)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(C);let Ge,_t,mn=!1;Array.isArray(ae)?_t=ae:(Ge=ae.create(g).injector,_t=xr(Ge.get(ya,[],P.XFs.Self|P.XFs.Optional)));return{routes:_t.map(qe),injector:Ge}}),ee(()=>{this.childrenLoaders.delete(C)})),J=new Mt.c($,()=>new rn.xQ).pipe((0,It.x)());return this.childrenLoaders.set(C,J),J}loadModuleFactoryOrRoutes(g){return Sn(g()).pipe((0,An.zg)(C=>C instanceof P.YKP||Array.isArray(C)?(0,ce.of)(C):(0,z.D)(this.compiler.compileModuleAsync(C))))}}return v.\u0275fac=function(g){return new(g||v)(P.LFG(P.zs3),P.LFG(P.Sil))},v.\u0275prov=P.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class ti{}class Jt{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,g){return _}}function Hn(v){throw v}function Ws(v,_,g){return _.parse("/")}const Mr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Et={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Qo(){const v=(0,P.f3M)($t),_=(0,P.f3M)(Vr),g=(0,P.f3M)(Pt.Ye),C=(0,P.f3M)(P.zs3),x=(0,P.f3M)(P.Sil),$=(0,P.f3M)(ya,{optional:!0})??[],J=(0,P.f3M)(Yo,{optional:!0})??{},ae=(0,P.f3M)(hc),Ge=(0,P.f3M)(dc,{optional:!0}),_t=(0,P.f3M)(ti,{optional:!0}),mn=(0,P.f3M)(lu,{optional:!0}),jt=new kr(null,v,_,g,C,x,xr($));return _t&&(jt.urlHandlingStrategy=_t),mn&&(jt.routeReuseStrategy=mn),jt.titleStrategy=Ge??ae,function du(v,_){v.errorHandler&&(_.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(_.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(_.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(_.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(_.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(_.canceledNavigationResolution=v.canceledNavigationResolution)}(J,jt),jt}let kr=(()=>{class v{constructor(g,C,x,$,J,ae,Ge){this.rootComponentType=g,this.urlSerializer=C,this.rootContexts=x,this.location=$,this.config=Ge,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new rn.xQ,this.errorHandler=Hn,this.malformedUriErrorHandler=Ws,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,ce.of)(void 0),this.urlHandlingStrategy=new Jt,this.routeReuseStrategy=new Pd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=J.get(Vi),this.configLoader.onLoadEndListener=vn=>this.triggerEvent(new Bo(vn)),this.configLoader.onLoadStartListener=vn=>this.triggerEvent(new ar(vn)),this.ngModule=J.get(P.h0i),this.console=J.get(P.c2e);const jt=J.get(P.R0b);this.isNgZoneEnabled=jt instanceof P.R0b&&P.R0b.isInAngularZone(),this.resetConfig(Ge),this.currentUrlTree=function Pn(){return new ye(new re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ho(this.currentUrlTree,this.rootComponentType),this.transitions=new Ue.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(g){const C=this.events;return g.pipe((0,_r.h)(x=>0!==x.id),(0,pt.U)(x=>({...x,extractedUrl:this.urlHandlingStrategy.extract(x.rawUrl)})),(0,lt.w)(x=>{let $=!1,J=!1;return(0,ce.of)(x).pipe((0,On.b)(ae=>{this.currentNavigation={id:ae.id,initialUrl:ae.rawUrl,extractedUrl:ae.extractedUrl,trigger:ae.source,extras:ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,lt.w)(ae=>{const Ge=this.browserUrlTree.toString(),_t=!this.navigated||ae.extractedUrl.toString()!==Ge||Ge!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_t)&&this.urlHandlingStrategy.shouldProcessUrl(ae.rawUrl))return hu(ae.source)&&(this.browserUrlTree=ae.extractedUrl),(0,ce.of)(ae).pipe((0,lt.w)(jt=>{const vn=this.transitions.getValue();return C.next(new Ra(jt.id,this.serializeUrl(jt.extractedUrl),jt.source,jt.restoredState)),vn!==this.transitions.getValue()?wt.E:Promise.resolve(jt)}),function Xr(v,_,g,C){return(0,lt.w)(x=>function rr(v,_,g,C,x){return new Nn(v,_,g,C,x).apply()}(v,_,g,x.extractedUrl,C).pipe((0,pt.U)($=>({...x,urlAfterRedirects:$}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,On.b)(jt=>{this.currentNavigation={...this.currentNavigation,finalUrl:jt.urlAfterRedirects},x.urlAfterRedirects=jt.urlAfterRedirects}),function ma(v,_,g,C,x,$){return(0,An.zg)(J=>function qi(v,_,g,C,x,$,J="emptyOnly",ae="legacy"){return new ur(v,_,g,C,x,J,ae,$).recognize().pipe((0,lt.w)(Ge=>null===Ge?function ss(v){return new Ae.y(_=>_.error(v))}(new wi):(0,ce.of)(Ge)))}(v,_,g,J.urlAfterRedirects,C.serialize(J.urlAfterRedirects),C,x,$).pipe((0,pt.U)(ae=>({...J,targetSnapshot:ae}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,On.b)(jt=>{if(x.targetSnapshot=jt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!jt.extras.skipLocationChange){const Yi=this.urlHandlingStrategy.merge(jt.urlAfterRedirects,jt.rawUrl);this.setBrowserUrl(Yi,jt)}this.browserUrlTree=jt.urlAfterRedirects}const vn=new hi(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);C.next(vn)}));if(_t&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:vn,extractedUrl:Yi,source:so,restoredState:Kr,extras:cs}=ae,Xo=new Ra(vn,this.serializeUrl(Yi),so,Kr);C.next(Xo);const gu=Ho(Yi,this.rootComponentType).snapshot;return x={...ae,targetSnapshot:gu,urlAfterRedirects:Yi,extras:{...cs,skipLocationChange:!1,replaceUrl:!1}},(0,ce.of)(x)}return this.rawUrlTree=ae.rawUrl,ae.resolve(null),wt.E}),(0,On.b)(ae=>{const Ge=new gs(ae.id,this.serializeUrl(ae.extractedUrl),this.serializeUrl(ae.urlAfterRedirects),ae.targetSnapshot);this.triggerEvent(Ge)}),(0,pt.U)(ae=>x={...ae,guards:Tr(ae.targetSnapshot,ae.currentSnapshot,this.rootContexts)}),function ou(v,_){return(0,An.zg)(g=>{const{targetSnapshot:C,currentSnapshot:x,guards:{canActivateChecks:$,canDeactivateChecks:J}}=g;return 0===J.length&&0===$.length?(0,ce.of)({...g,guardsResult:!0}):function qo(v,_,g,C){return(0,z.D)(v).pipe((0,An.zg)(x=>function Rr(v,_,g,C,x){const $=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!$||0===$.length)return(0,ce.of)(!0);const J=$.map(ae=>{const Ge=yt(_)??x,_t=lr(ae,Ge);return Sn(function _s(v){return v&&vr(v.canDeactivate)}(_t)?_t.canDeactivate(v,_,g,C):Ge.runInContext(()=>_t(v,_,g,C))).pipe(Vn())});return(0,ce.of)(J).pipe(Jr())}(x.component,x.route,g,_,C)),Vn(x=>!0!==x,!0))}(J,C,x,v).pipe((0,An.zg)(ae=>ae&&function Gs(v){return"boolean"==typeof v}(ae)?function ro(v,_,g,C){return(0,z.D)(_).pipe((0,yn.b)(x=>Jn(function rs(v,_){return null!==v&&_&&_(new la(v)),(0,ce.of)(!0)}(x.route.parent,C),function Ua(v,_){return null!==v&&_&&_(new no(v)),(0,ce.of)(!0)}(x.route,C),function Un(v,_,g){const C=_[_.length-1],$=_.slice(0,_.length-1).reverse().map(J=>function Fn(v){const _=v.routeConfig?v.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:v,guards:_}:null}(J)).filter(J=>null!==J).map(J=>ot(()=>{const ae=J.guards.map(Ge=>{const _t=yt(J.node)??g,mn=lr(Ge,_t);return Sn(function Ss(v){return v&&vr(v.canActivateChild)}(mn)?mn.canActivateChild(C,v):_t.runInContext(()=>mn(C,v))).pipe(Vn())});return(0,ce.of)(ae).pipe(Jr())}));return(0,ce.of)($).pipe(Jr())}(v,x.path,g),function ai(v,_,g){const C=_.routeConfig?_.routeConfig.canActivate:null;if(!C||0===C.length)return(0,ce.of)(!0);const x=C.map($=>ot(()=>{const J=yt(_)??g,ae=lr($,J);return Sn(function Cs(v){return v&&vr(v.canActivate)}(ae)?ae.canActivate(_,v):J.runInContext(()=>ae(_,v))).pipe(Vn())}));return(0,ce.of)(x).pipe(Jr())}(v,x.route,g))),Vn(x=>!0!==x,!0))}(C,$,v,_):(0,ce.of)(ae)),(0,pt.U)(ae=>({...g,guardsResult:ae})))})}(this.ngModule.injector,ae=>this.triggerEvent(ae)),(0,On.b)(ae=>{if(x.guardsResult=ae.guardsResult,Ie(ae.guardsResult))throw yo(0,ae.guardsResult);const Ge=new Uo(ae.id,this.serializeUrl(ae.extractedUrl),this.serializeUrl(ae.urlAfterRedirects),ae.targetSnapshot,!!ae.guardsResult);this.triggerEvent(Ge)}),(0,_r.h)(ae=>!!ae.guardsResult||(this.restoreHistory(ae),this.cancelNavigationTransition(ae,"",3),!1)),cu(ae=>{if(ae.guards.canActivateChecks.length)return(0,ce.of)(ae).pipe((0,On.b)(Ge=>{const _t=new Vo(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot);this.triggerEvent(_t)}),(0,lt.w)(Ge=>{let _t=!1;return(0,ce.of)(Ge).pipe(function bt(v,_){return(0,An.zg)(g=>{const{targetSnapshot:C,guards:{canActivateChecks:x}}=g;if(!x.length)return(0,ce.of)(g);let $=0;return(0,z.D)(x).pipe((0,yn.b)(J=>function Be(v,_,g,C){const x=v.routeConfig,$=v._resolve;return void 0!==x?.title&&!Du(x)&&($[Dt]=x.title),function tt(v,_,g,C){const x=function ei(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===x.length)return(0,ce.of)({});const $={};return(0,z.D)(x).pipe((0,An.zg)(J=>function Wc(v,_,g,C){const x=yt(_)??C,$=lr(v,x);return Sn($.resolve?$.resolve(_,g):x.runInContext(()=>$(_,g)))}(v[J],_,g,C).pipe(Vn(),(0,On.b)(ae=>{$[J]=ae}))),Nr(1),function Xn(v){return _=>_.lift(new Or(v))}($),(0,di.K)(J=>Wr(J)?wt.E:(0,Qe._)(J)))}($,v,_,C).pipe((0,pt.U)(J=>(v._resolvedData=J,v.data=js(v,g).resolve,x&&Du(x)&&(v.data[Dt]=x.title),null)))}(J.route,C,v,_)),(0,On.b)(()=>$++),Nr(1),(0,An.zg)(J=>$===x.length?(0,ce.of)(g):wt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,On.b)({next:()=>_t=!0,complete:()=>{_t||(this.restoreHistory(Ge),this.cancelNavigationTransition(Ge,"",2))}}))}),(0,On.b)(Ge=>{const _t=new oi(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot);this.triggerEvent(_t)}))}),cu(ae=>{const Ge=_t=>{const mn=[];_t.routeConfig?.loadComponent&&!_t.routeConfig._loadedComponent&&mn.push(this.configLoader.loadComponent(_t.routeConfig).pipe((0,On.b)(jt=>{_t.component=jt}),(0,pt.U)(()=>{})));for(const jt of _t.children)mn.push(...Ge(jt));return mn};return nt(Ge(ae.targetSnapshot.root)).pipe(Pr(),(0,zn.q)(1))}),cu(()=>this.afterPreactivation()),(0,pt.U)(ae=>{const Ge=function Di(v,_,g){const C=ms(v,_._root,g?g._root:void 0);return new ha(C,_)}(this.routeReuseStrategy,ae.targetSnapshot,ae.currentRouterState);return x={...ae,targetRouterState:Ge}}),(0,On.b)(ae=>{this.currentUrlTree=ae.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ae.urlAfterRedirects,ae.rawUrl),this.routerState=ae.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ae.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ae),this.browserUrlTree=ae.urlAfterRedirects)}),((v,_,g)=>(0,pt.U)(C=>(new $n(_,C.targetRouterState,C.currentRouterState,g).activate(v),C)))(this.rootContexts,this.routeReuseStrategy,ae=>this.triggerEvent(ae)),(0,On.b)({next(){$=!0},complete(){$=!0}}),ee(()=>{$||J||this.cancelNavigationTransition(x,"",1),this.currentNavigation?.id===x.id&&(this.currentNavigation=null)}),(0,di.K)(ae=>{if(J=!0,ns(ae)){ts(ae)||(this.navigated=!0,this.restoreHistory(x,!0));const Ge=new To(x.id,this.serializeUrl(x.extractedUrl),ae.message,ae.cancellationCode);if(C.next(Ge),ts(ae)){const _t=this.urlHandlingStrategy.merge(ae.url,this.rawUrlTree),mn={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hu(x.source)};this.scheduleNavigation(_t,"imperative",null,mn,{resolve:x.resolve,reject:x.reject,promise:x.promise})}else x.resolve(!1)}else{this.restoreHistory(x,!0);const Ge=new iu(x.id,this.serializeUrl(x.extractedUrl),ae,x.targetSnapshot??void 0);C.next(Ge);try{x.resolve(this.errorHandler(ae))}catch(_t){x.reject(_t)}}return wt.E}))}))}resetRootComponentType(g){this.rootComponentType=g,this.routerState.root.component=this.rootComponentType}setTransition(g){this.transitions.next({...this.transitions.value,...g})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const C="popstate"===g.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{const x={replaceUrl:!0},$=g.state?.navigationId?g.state:null;if($){const ae={...$};delete ae.navigationId,delete ae.\u0275routerPageId,0!==Object.keys(ae).length&&(x.state=ae)}const J=this.parseUrl(g.url);this.scheduleNavigation(J,C,$,x)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(g){this.events.next(g)}resetConfig(g){this.config=g.map(qe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,C={}){const{relativeTo:x,queryParams:$,fragment:J,queryParamsHandling:ae,preserveFragment:Ge}=C,_t=x||this.routerState.root,mn=Ge?this.currentUrlTree.fragment:J;let jt=null;switch(ae){case"merge":jt={...this.currentUrlTree.queryParams,...$};break;case"preserve":jt=this.currentUrlTree.queryParams;break;default:jt=$||null}return null!==jt&&(jt=this.removeEmptyProps(jt)),qt(_t,this.currentUrlTree,g,jt,mn??null)}navigateByUrl(g,C={skipLocationChange:!1}){const x=Ie(g)?g:this.parseUrl(g),$=this.urlHandlingStrategy.merge(x,this.rawUrlTree);return this.scheduleNavigation($,"imperative",null,C)}navigate(g,C={skipLocationChange:!1}){return function Ul(v){for(let _=0;_<v.length;_++){if(null==v[_])throw new P.vHH(4008,false)}}(g),this.navigateByUrl(this.createUrlTree(g,C),C)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let C;try{C=this.urlSerializer.parse(g)}catch(x){C=this.malformedUriErrorHandler(x,this.urlSerializer,g)}return C}isActive(g,C){let x;if(x=!0===C?{...Mr}:!1===C?{...Et}:C,Ie(g))return _e(this.currentUrlTree,g,x);const $=this.parseUrl(g);return _e(this.currentUrlTree,$,x)}removeEmptyProps(g){return Object.keys(g).reduce((C,x)=>{const $=g[x];return null!=$&&(C[x]=$),C},{})}processNavigations(){this.navigations.subscribe(g=>{this.navigated=!0,this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId,this.events.next(new po(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),g.resolve(!0)},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}scheduleNavigation(g,C,x,$,J){if(this.disposed)return Promise.resolve(!1);let ae,Ge,_t;J?(ae=J.resolve,Ge=J.reject,_t=J.promise):_t=new Promise((vn,Yi)=>{ae=vn,Ge=Yi});const mn=++this.navigationId;let jt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(x=this.location.getState()),jt=x&&x.\u0275routerPageId?x.\u0275routerPageId:$.replaceUrl||$.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):jt=0,this.setTransition({id:mn,targetPageId:jt,source:C,restoredState:x,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:g,extras:$,resolve:ae,reject:Ge,promise:_t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_t.catch(vn=>Promise.reject(vn))}setBrowserUrl(g,C){const x=this.urlSerializer.serialize(g),$={...C.extras.state,...this.generateNgRouterState(C.id,C.targetPageId)};this.location.isCurrentPathEqualTo(x)||C.extras.replaceUrl?this.location.replaceState(x,"",$):this.location.go(x,"",$)}restoreHistory(g,C=!1){if("computed"===this.canceledNavigationResolution){const x=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===x?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===x&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(x)}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(g,C,x){const $=new To(g.id,this.serializeUrl(g.extractedUrl),C,x);this.triggerEvent($),g.resolve(!1)}generateNgRouterState(g,C){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:C}:{navigationId:g}}}return v.\u0275fac=function(g){P.$Z()},v.\u0275prov=P.Yz7({token:v,factory:function(){return Qo()},providedIn:"root"}),v})();function hu(v){return"imperative"!==v}let xo=(()=>{class v{constructor(g,C,x){this.router=g,this.route=C,this.locationStrategy=x,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new rn.xQ,this.subscription=g.events.subscribe($=>{$ instanceof po&&this.updateTargetUrlAndHref()})}set preserveFragment(g){this._preserveFragment=(0,P.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,P.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,P.D6c)(g)}get replaceUrl(){return this._replaceUrl}set routerLink(g){this.commands=null!=g?Array.isArray(g)?g:[g]:null}ngOnChanges(g){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(g,C,x,$,J){return!!(0!==g||C||x||$||J||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(g){return new(g||v)(P.Y36(kr),P.Y36(Li),P.Y36(Pt.S$))},v.\u0275dir=P.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(g,C){1&g&&P.NdJ("click",function($){return C.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&g&&P.uIk("target",C.target)("href",C.href,P.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[P.TTD]}),v})();class qs{}let Nd=(()=>{class v{constructor(g,C,x,$,J){this.router=g,this.injector=x,this.preloadingStrategy=$,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,_r.h)(g=>g instanceof po),(0,yn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,C){const x=[];for(const $ of C){$.providers&&!$._injector&&($._injector=(0,P.MMx)($.providers,g,`Route: ${$.path}`));const J=$._injector??g,ae=$._loadedInjector??J;$.loadChildren&&!$._loadedRoutes&&void 0===$.canLoad||$.loadComponent&&!$._loadedComponent?x.push(this.preloadConfig(J,$)):($.children||$._loadedRoutes)&&x.push(this.processRoutes(ae,$.children??$._loadedRoutes))}return(0,z.D)(x).pipe((0,ht.J)())}preloadConfig(g,C){return this.preloadingStrategy.preload(C,()=>{let x;x=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(g,C):(0,ce.of)(null);const $=x.pipe((0,An.zg)(J=>null===J?(0,ce.of)(void 0):(C._loadedRoutes=J.routes,C._loadedInjector=J.injector,this.processRoutes(J.injector??g,J.routes))));if(C.loadComponent&&!C._loadedComponent){const J=this.loader.loadComponent(C);return(0,z.D)([$,J]).pipe((0,ht.J)())}return $})}}return v.\u0275fac=function(g){return new(g||v)(P.LFG(kr),P.LFG(P.Sil),P.LFG(P.lqb),P.LFG(qs),P.LFG(Vi))},v.\u0275prov=P.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const vs=new P.OlP("");let Su=(()=>{class v{constructor(g,C,x={}){this.router=g,this.viewportScroller=C,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration=x.scrollPositionRestoration||"disabled",x.anchorScrolling=x.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(g=>{g instanceof Ra?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof po&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.router.parseUrl(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(g=>{g instanceof $o&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,C){this.router.triggerEvent(new $o(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(g){P.$Z()},v.\u0275prov=P.Yz7({token:v,factory:v.\u0275fac}),v})();function Ro(v,_){return{\u0275kind:v,\u0275providers:_}}function vo(v){return[{provide:ya,multi:!0,useValue:v}]}function Zn(){const v=(0,P.f3M)(P.zs3);return _=>{const g=v.get(P.z2F);if(_!==g.components[0])return;const C=v.get(kr),x=v.get(as);1===v.get(Jo)&&C.initialNavigation(),v.get(ws,null,P.XFs.Optional)?.setUpPreloading(),v.get(vs,null,P.XFs.Optional)?.init(),C.resetRootComponentType(g.componentTypes[0]),x.closed||(x.next(),x.unsubscribe())}}const as=new P.OlP("",{factory:()=>new rn.xQ}),Jo=new P.OlP("",{providedIn:"root",factory:()=>1});const ws=new P.OlP("");function $a(v){return Ro(0,[{provide:ws,useExisting:Nd},{provide:qs,useExisting:v}])}const xi=new P.OlP("ROUTER_FORROOT_GUARD"),va=[Pt.Ye,{provide:$t,useClass:xe},{provide:kr,useFactory:Qo},Vr,{provide:Li,useFactory:function Ls(v){return v.routerState.root},deps:[kr]},Vi];function us(){return new P.PXZ("Router",kr)}let Zc=(()=>{class v{constructor(g){}static forRoot(g,C){return{ngModule:v,providers:[va,[],vo(g),{provide:xi,useFactory:Wu,deps:[[kr,new P.FiY,new P.tp0]]},{provide:Yo,useValue:C||{}},C?.useHash?{provide:Pt.S$,useClass:Pt.Do}:{provide:Pt.S$,useClass:Pt.b0},{provide:vs,useFactory:()=>{const v=(0,P.f3M)(kr),_=(0,P.f3M)(Pt.EM),g=(0,P.f3M)(Yo);return g.scrollOffset&&_.setOffset(g.scrollOffset),new Su(v,_,g)}},C?.preloadingStrategy?$a(C.preloadingStrategy).\u0275providers:[],{provide:P.PXZ,multi:!0,useFactory:us},C?.initialNavigation?ko(C):[],[{provide:pc,useFactory:Zn},{provide:P.tb,multi:!0,useExisting:pc}]]}}static forChild(g){return{ngModule:v,providers:[vo(g)]}}}return v.\u0275fac=function(g){return new(g||v)(P.LFG(xi,8))},v.\u0275mod=P.oAB({type:v}),v.\u0275inj=P.cJS({imports:[Na]}),v})();function Wu(v){return"guarded"}function ko(v){return["disabled"===v.initialNavigation?Ro(3,[{provide:P.ip1,multi:!0,useFactory:()=>{const _=(0,P.f3M)(kr);return()=>{_.setUpLocationChangeListener()}}},{provide:Jo,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?Ro(2,[{provide:Jo,useValue:0},{provide:P.ip1,multi:!0,deps:[P.zs3],useFactory:_=>{const g=_.get(Pt.V_,Promise.resolve());let C=!1;return()=>g.then(()=>new Promise($=>{const J=_.get(kr),ae=_.get(as);(function x($){_.get(kr).events.pipe((0,_r.h)(ae=>ae instanceof po||ae instanceof To||ae instanceof iu),(0,pt.U)(ae=>ae instanceof po||ae instanceof To&&(0===ae.code||1===ae.code)&&null),(0,_r.h)(ae=>null!==ae),(0,zn.q)(1)).subscribe(()=>{$()})})(()=>{$(!0),C=!0}),J.afterPreactivation=()=>($(!0),C||ae.closed?(0,ce.of)(void 0):ae),J.initialNavigation()}))}}]).\u0275providers:[]]}const pc=new P.OlP("")},6881:(an,et,q)=>{q.d(et,{Jn:()=>sr,qX:()=>It,Xd:()=>je,Mq:()=>ln,C6:()=>_n,ZF:()=>Ot,KN:()=>Xt});var P=q(9671),z=q(4859),ce=q(1877),Ue=q(2090);let Re,De;const K=new WeakMap,Q=new WeakMap,be=new WeakMap,Ae=new WeakMap,fe=new WeakMap;let nt={get(xe,ne,Fe){if(xe instanceof IDBTransaction){if("done"===ne)return Q.get(xe);if("objectStoreNames"===ne)return xe.objectStoreNames||be.get(xe);if("store"===ne)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return nn(xe[ne])},set:(xe,ne,Fe)=>(xe[ne]=Fe,!0),has:(xe,ne)=>xe instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in xe};function ht(xe){return"function"==typeof xe?function bn(xe){return xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(xe)?function(...ne){return xe.apply(Jn(this),ne),nn(K.get(this))}:function(...ne){return nn(xe.apply(Jn(this),ne))}:function(ne,...Fe){const dt=xe.call(Jn(this),ne,...Fe);return be.set(dt,ne.sort?ne.sort():[ne]),nn(dt)}}(xe):(xe instanceof IDBTransaction&&function Ce(xe){if(Q.has(xe))return;const ne=new Promise((Fe,dt)=>{const Ft=()=>{xe.removeEventListener("complete",sn),xe.removeEventListener("error",Yt),xe.removeEventListener("abort",Yt)},sn=()=>{Fe(),Ft()},Yt=()=>{dt(xe.error||new DOMException("AbortError","AbortError")),Ft()};xe.addEventListener("complete",sn),xe.addEventListener("error",Yt),xe.addEventListener("abort",Yt)});Q.set(xe,ne)}(xe),((xe,ne)=>ne.some(Fe=>xe instanceof Fe))(xe,function Le(){return Re||(Re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(xe,nt):xe)}function nn(xe){if(xe instanceof IDBRequest)return function kt(xe){const ne=new Promise((Fe,dt)=>{const Ft=()=>{xe.removeEventListener("success",sn),xe.removeEventListener("error",Yt)},sn=()=>{Fe(nn(xe.result)),Ft()},Yt=()=>{dt(xe.error),Ft()};xe.addEventListener("success",sn),xe.addEventListener("error",Yt)});return ne.then(Fe=>{Fe instanceof IDBCursor&&K.set(Fe,xe)}).catch(()=>{}),fe.set(ne,xe),ne}(xe);if(Ae.has(xe))return Ae.get(xe);const ne=ht(xe);return ne!==xe&&(Ae.set(xe,ne),fe.set(ne,xe)),ne}const Jn=xe=>fe.get(xe),ut=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],Mt=new Map;function rn(xe,ne){if(!(xe instanceof IDBDatabase)||ne in xe||"string"!=typeof ne)return;if(Mt.get(ne))return Mt.get(ne);const Fe=ne.replace(/FromIndex$/,""),dt=ne!==Fe,Ft=Qe.includes(Fe);if(!(Fe in(dt?IDBIndex:IDBObjectStore).prototype)||!Ft&&!ut.includes(Fe))return;const sn=function(){var Yt=(0,P.Z)(function*(or,...fn){const gr=this.transaction(or,Ft?"readwrite":"readonly");let Hi=gr.store;return dt&&(Hi=Hi.index(fn.shift())),(yield Promise.all([Hi[Fe](...fn),Ft&&gr.done]))[0]});return function(fn){return Yt.apply(this,arguments)}}();return Mt.set(ne,sn),sn}!function Bt(xe){nt=xe(nt)}(xe=>({...xe,get:(ne,Fe,dt)=>rn(ne,Fe)||xe.get(ne,Fe,dt),has:(ne,Fe)=>!!rn(ne,Fe)||xe.has(ne,Fe)}));class Pt{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function pt(xe){return"VERSION"===xe.getComponent()?.type}(Fe)){const dt=Fe.getImmediate();return`${dt.library}/${dt.version}`}return null}).filter(Fe=>Fe).join(" ")}}const lt="@firebase/app",ni=new ce.Yd("@firebase/app"),Xn="[DEFAULT]",Or={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ke=new Map,Y=new Map;function ee(xe,ne){try{xe.container.addComponent(ne)}catch(Fe){ni.debug(`Component ${ne.name} failed to register with FirebaseApp ${xe.name}`,Fe)}}function je(xe){const ne=xe.name;if(Y.has(ne))return ni.debug(`There were multiple attempts to register component ${ne}.`),!1;Y.set(ne,xe);for(const Fe of Ke.values())ee(Fe,xe);return!0}function It(xe,ne){const Fe=xe.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),xe.container.getProvider(ne)}const Mn=new Ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pn{constructor(ne,Fe,dt){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=dt,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}const sr="9.23.0";function Ot(xe,ne={}){let Fe=xe;"object"!=typeof ne&&(ne={name:ne});const dt=Object.assign({name:Xn,automaticDataCollectionEnabled:!1},ne),Ft=dt.name;if("string"!=typeof Ft||!Ft)throw Mn.create("bad-app-name",{appName:String(Ft)});if(Fe||(Fe=(0,Ue.aH)()),!Fe)throw Mn.create("no-options");const sn=Ke.get(Ft);if(sn){if((0,Ue.vZ)(Fe,sn.options)&&(0,Ue.vZ)(dt,sn.config))return sn;throw Mn.create("duplicate-app",{appName:Ft})}const Yt=new z.H0(Ft);for(const fn of Y.values())Yt.addComponent(fn);const or=new pn(Fe,dt,Yt);return Ke.set(Ft,or),or}function ln(xe=Xn){const ne=Ke.get(xe);if(!ne&&xe===Xn&&(0,Ue.aH)())return Ot();if(!ne)throw Mn.create("no-app",{appName:xe});return ne}function _n(){return Array.from(Ke.values())}function Xt(xe,ne,Fe){var dt;let Ft=null!==(dt=Or[xe])&&void 0!==dt?dt:xe;Fe&&(Ft+=`-${Fe}`);const sn=Ft.match(/\s|\//),Yt=ne.match(/\s|\//);if(sn||Yt){const or=[`Unable to register library "${Ft}" with version "${ne}":`];return sn&&or.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),sn&&Yt&&or.push("and"),Yt&&or.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void ni.warn(or.join(" "))}je(new z.wA(`${Ft}-version`,()=>({library:Ft,version:ne}),"VERSION"))}const ue="firebase-heartbeat-store";let ie=null;function _e(){return ie||(ie=function wt(xe,ne,{blocked:Fe,upgrade:dt,blocking:Ft,terminated:sn}={}){const Yt=indexedDB.open(xe,ne),or=nn(Yt);return dt&&Yt.addEventListener("upgradeneeded",fn=>{dt(nn(Yt.result),fn.oldVersion,fn.newVersion,nn(Yt.transaction),fn)}),Fe&&Yt.addEventListener("blocked",fn=>Fe(fn.oldVersion,fn.newVersion,fn)),or.then(fn=>{sn&&fn.addEventListener("close",()=>sn()),Ft&&fn.addEventListener("versionchange",gr=>Ft(gr.oldVersion,gr.newVersion,gr))}).catch(()=>{}),or}("firebase-heartbeat-database",1,{upgrade:(xe,ne)=>{0===ne&&xe.createObjectStore(ue)}}).catch(xe=>{throw Mn.create("idb-open",{originalErrorMessage:xe.message})})),ie}function Me(){return(Me=(0,P.Z)(function*(xe){try{return yield(yield _e()).transaction(ue).objectStore(ue).get(xn(xe))}catch(ne){if(ne instanceof Ue.ZR)ni.warn(ne.message);else{const Fe=Mn.create("idb-get",{originalErrorMessage:ne?.message});ni.warn(Fe.message)}}})).apply(this,arguments)}function Rt(xe,ne){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,P.Z)(function*(xe,ne){try{const dt=(yield _e()).transaction(ue,"readwrite");yield dt.objectStore(ue).put(ne,xn(xe)),yield dt.done}catch(Fe){if(Fe instanceof Ue.ZR)ni.warn(Fe.message);else{const dt=Mn.create("idb-set",{originalErrorMessage:Fe?.message});ni.warn(dt.message)}}})).apply(this,arguments)}function xn(xe){return`${xe.name}!${xe.options.appId}`}class re{constructor(ne){this.container=ne,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new $e(Fe),this._heartbeatsCachePromise=this._storage.read().then(dt=>(this._heartbeatsCache=dt,dt))}triggerHeartbeat(){var ne=this;return(0,P.Z)(function*(){const dt=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=W();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!ne._heartbeatsCache.heartbeats.some(sn=>sn.date===Ft))return ne._heartbeatsCache.heartbeats.push({date:Ft,agent:dt}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(sn=>{const Yt=new Date(sn.date).valueOf();return Date.now()-Yt<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,P.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const Fe=W(),{heartbeatsToSend:dt,unsentEntries:Ft}=function pe(xe,ne=1024){const Fe=[];let dt=xe.slice();for(const Ft of xe){const sn=Fe.find(Yt=>Yt.agent===Ft.agent);if(sn){if(sn.dates.push(Ft.date),Lt(Fe)>ne){sn.dates.pop();break}}else if(Fe.push({agent:Ft.agent,dates:[Ft.date]}),Lt(Fe)>ne){Fe.pop();break}dt=dt.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:dt}}(ne._heartbeatsCache.heartbeats),sn=(0,Ue.L)(JSON.stringify({version:2,heartbeats:dt}));return ne._heartbeatsCache.lastSentHeartbeatDate=Fe,Ft.length>0?(ne._heartbeatsCache.heartbeats=Ft,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),sn})()}}function W(){return(new Date).toISOString().substring(0,10)}class $e{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,P.Z)(function*(){return!!(0,Ue.hl)()&&(0,Ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,P.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function Ze(xe){return Me.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var Fe=this;return(0,P.Z)(function*(){var dt;if(yield Fe._canUseIndexedDBPromise){const sn=yield Fe.read();return Rt(Fe.app,{lastSentHeartbeatDate:null!==(dt=ne.lastSentHeartbeatDate)&&void 0!==dt?dt:sn.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var Fe=this;return(0,P.Z)(function*(){var dt;if(yield Fe._canUseIndexedDBPromise){const sn=yield Fe.read();return Rt(Fe.app,{lastSentHeartbeatDate:null!==(dt=ne.lastSentHeartbeatDate)&&void 0!==dt?dt:sn.lastSentHeartbeatDate,heartbeats:[...sn.heartbeats,...ne.heartbeats]})}})()}}function Lt(xe){return(0,Ue.L)(JSON.stringify({version:2,heartbeats:xe})).length}!function $t(xe){je(new z.wA("platform-logger",ne=>new Pt(ne),"PRIVATE")),je(new z.wA("heartbeat",ne=>new re(ne),"PRIVATE")),Xt(lt,"0.9.13",xe),Xt(lt,"0.9.13","esm2017"),Xt("fire-js","")}("")},4859:(an,et,q)=>{q.d(et,{H0:()=>Le,wA:()=>ce});var P=q(9671),z=q(2090);class ce{constructor(K,Q,be){this.name=K,this.instanceFactory=Q,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const Ue="[DEFAULT]";class ve{constructor(K,Q){this.name=K,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const Q=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(Q)){const be=new z.BH;if(this.instancesDeferred.set(Q,be),this.isInitialized(Q)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:Q});Ae&&be.resolve(Ae)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(K){var Q;const be=this.normalizeInstanceIdentifier(K?.identifier),Ae=null!==(Q=K?.optional)&&void 0!==Q&&Q;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(fe){if(Ae)return null;throw fe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function De(we){return"EAGER"===we.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:Ue})}catch{}for(const[Q,be]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(Q);try{const fe=this.getOrInitializeService({instanceIdentifier:Ae});be.resolve(fe)}catch{}}}}clearInstance(K=Ue){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,P.Z)(function*(){const Q=Array.from(K.instances.values());yield Promise.all([...Q.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...Q.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=Ue){return this.instances.has(K)}getOptions(K=Ue){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:Q={}}=K,be=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:be,options:Q});for(const[fe,kt]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(fe)&&kt.resolve(Ae);return Ae}onInit(K,Q){var be;const Ae=this.normalizeInstanceIdentifier(Q),fe=null!==(be=this.onInitCallbacks.get(Ae))&&void 0!==be?be:new Set;fe.add(K),this.onInitCallbacks.set(Ae,fe);const kt=this.instances.get(Ae);return kt&&K(kt,Ae),()=>{fe.delete(K)}}invokeOnInitCallbacks(K,Q){const be=this.onInitCallbacks.get(Q);if(be)for(const Ae of be)try{Ae(K,Q)}catch{}}getOrInitializeService({instanceIdentifier:K,options:Q={}}){let be=this.instances.get(K);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(we=K,we===Ue?void 0:we),options:Q}),this.instances.set(K,be),this.instancesOptions.set(K,Q),this.invokeOnInitCallbacks(be,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,be)}catch{}var we;return be||null}normalizeInstanceIdentifier(K=Ue){return this.component?this.component.multipleInstances?K:Ue:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const Q=this.getProvider(K.name);if(Q.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);Q.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const Q=new ve(K,this);return this.providers.set(K,Q),Q}getProviders(){return Array.from(this.providers.values())}}},1877:(an,et,q)=>{q.d(et,{Yd:()=>De,in:()=>z});const P=[];var z=(()=>{return(K=z||(z={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",z;var K})();const ce={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},Ue=z.INFO,ve={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},Re=(K,Q,...be)=>{if(Q<K.logLevel)return;const Ae=(new Date).toISOString(),fe=ve[Q];if(!fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[fe](`[${Ae}]  ${K.name}:`,...be)};class De{constructor(Q){this.name=Q,this._logLevel=Ue,this._logHandler=Re,this._userLogHandler=null,P.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in z))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?ce[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...Q),this._logHandler(this,z.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...Q),this._logHandler(this,z.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,z.INFO,...Q),this._logHandler(this,z.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,z.WARN,...Q),this._logHandler(this,z.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...Q),this._logHandler(this,z.ERROR,...Q)}}},259:(an,et,q)=>{q.d(et,{C6:()=>P.C6,KN:()=>P.KN,Mq:()=>P.Mq,ZF:()=>P.ZF});var P=q(6881);(0,P.KN)("firebase","9.23.0","app")}},an=>{an(an.s=9098)}]);